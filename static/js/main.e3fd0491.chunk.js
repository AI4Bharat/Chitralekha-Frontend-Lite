(this.webpackJsonpsubplayer=this.webpackJsonpsubplayer||[]).push([[0],{189:function(e,t){e.exports={error:{message:{email:"Invalid email address",emailempty:"Email field must not be empty",requiredField:"Required field",passwordnomatch:"Passwords do not match",passwordlegth:"Password field must not be empty",tnc:"You must accept our terms of service",loginFailure:"Entered Email or password is wrong. Please try again",signupError:"Something went wrong while we tried to sign you in",forgotPassword:"Something went wrong while we tried to send password to the given email id",createPassword:"Something went wrong while we tried to create password",profileError:"Something went wrong while we tried to edit the profile ",logoutError:"Something went wrong while trying to logout ",deleteError:"Something went wrong while trying to delete the account",compareselection:"You must select at-least two results to compare",http:{422:"A User with same email already exist.",400:"Something wrong with the input you supplied, please verify and try again!",401:"You are not authorized to do this action at the moment!",default:"Something went wrong while we process your request. Please try after sometime"}}},success:{message:{login:"You have logged in successfully",otpsent:"We have sent you a one time password to your registered email address.",signup:"You have successfully registered to Beckers",forgotPassword:"Please login with the one time password, received in given email",createPassword:"You have successfully changed your password",resultsaved:"The result have been saved successfully",profileSuccess:"Profile updated successfully",logoutSuccess:"Logout successfully",deleteSuccess:"Deleted successfully"}}}},313:function(e,t,n){},627:function(e,t,n){},735:function(e,t,n){},783:function(e,t,n){"use strict";n.r(t);n(330),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(345),n(346),n(347),n(348),n(349),n(350),n(351),n(352),n(353),n(354),n(355),n(357),n(358),n(156),n(359),n(360),n(361),n(362),n(363),n(364),n(365),n(366),n(367),n(368),n(369),n(370),n(371),n(373),n(374),n(375),n(207),n(376),n(377),n(378),n(379),n(380),n(381),n(382),n(383),n(384),n(385),n(386),n(388),n(389),n(390),n(391),n(392),n(393),n(394),n(395),n(396),n(397),n(398),n(399),n(400),n(401),n(402),n(404),n(405),n(407),n(408),n(409),n(410),n(411),n(412),n(413),n(414),n(415),n(416),n(417),n(418),n(419),n(420),n(421),n(422),n(423),n(424),n(425),n(426),n(428),n(429),n(434),n(435),n(436),n(438),n(439),n(440),n(441),n(442),n(443),n(444),n(445),n(446),n(447),n(448),n(265),n(451),n(452),n(453),n(454),n(455),n(456),n(457),n(267),n(458),n(459),n(460),n(461),n(462),n(463),n(464),n(465),n(466),n(467),n(468),n(469),n(470),n(471),n(472),n(473),n(474),n(475),n(476),n(477),n(478),n(479),n(480),n(481),n(482),n(483),n(487),n(488),n(489),n(490),n(491),n(492),n(493),n(494),n(495),n(496),n(497),n(498),n(501),n(502),n(503),n(504),n(505),n(506),n(507),n(508),n(509),n(510),n(511),n(512),n(513),n(514),n(515),n(516),n(517),n(518),n(519),n(520),n(521),n(217),n(522),n(523),n(529),n(530),n(531),n(532),n(533),n(535),n(536),n(537),n(538),n(539),n(540),n(541),n(542),n(544),n(545),n(546),n(547),n(548),n(549),n(550),n(551),n(552),n(553),n(554),n(555),n(556),n(557),n(558),n(559),n(560),n(561),n(562),n(563),n(564),n(565),n(566),n(567),n(568),n(570),n(572),n(573),n(574),n(575),n(576),n(578),n(579),n(580),n(581),n(582),n(583),n(584),n(585),n(586),n(587),n(588),n(589),n(590),n(591),n(592),n(593),n(594),n(595),n(596),n(597),n(598),n(599),n(600),n(601),n(602),n(603),n(605),n(607),n(608),n(609),n(610),n(611),n(612),n(613),n(614),n(615),n(616),n(617),n(619),n(620),n(621),n(622),n(625),n(282),n(626),n(627);var a=n(0),r=n.n(a),i=n(71),o=n.n(i),c=window.navigator.userAgent,s=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(c);function l(e){return e.trim().toLowerCase().split(".").pop()}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(t){return setTimeout(t,e)}))}function d(e,t){var n=document.createElement("a");n.style.display="none",n.href=e,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)}function b(e){var t=document.activeElement.tagName.toUpperCase(),n=document.activeElement.getAttribute("contenteditable");if("INPUT"!==t&&"TEXTAREA"!==t&&""!==n&&"true"!==n)return Number(e.keyCode)}function g(e){return!!(e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2)}var p=n(13),m={LOADING:"\u52a0\u8f7d\u4e2d...",SUB_TEXT:"\u5b57\u5e55\u6587\u672c",OPEN_VIDEO:"\u6253\u5f00\u89c6\u9891",OPEN_SUB:"\u6253\u5f00\u5b57\u5e55",EXPORT_ASS:"\u5bfc\u51fa ASS",EXPORT_SRT:"\u5bfc\u51fa SRT",EXPORT_VTT:"\u5bfc\u51fa VTT",EXPORT_VIDEO:"\u5bfc\u51fa\u89c6\u9891",TRANSLATE:"\u6279\u91cf\u7ffb\u8bd1",TRANSLATING:"\u7ffb\u8bd1\u4e2d...",TRANSLAT_SUCCESS:"\u7ffb\u8bd1\u6210\u529f",DECODE_START:"\u5f00\u59cb\u89e3\u7801\u97f3\u9891",DECODE_SUCCESS:"\u89e3\u7801\u97f3\u9891\u6210\u529f",DECODE_ERROR:"\u89e3\u7801\u97f3\u9891\u5931\u8d25",VIDEO_EXT_ERR:"\u65e0\u6cd5\u6253\u5f00\u8be5\u89c6\u9891\u683c\u5f0f",SUB_EXT_ERR:"\u65e0\u6cd5\u6253\u5f00\u8be5\u5b57\u5e55\u683c\u5f0f",MOBILE_TIP:"\u8bf7\u4f7f\u7528\u7535\u8111\u8bbf\u95ee",HOTKEY_01:"\u7a7a\u683c\u952e: \u64ad\u653e / \u6682\u505c",HOTKEY_02:"Ctrl + Z: \u64a4\u9500",CLEAR:"\u6e05\u7a7a",UNDO:"\u64a4\u9500",DELETE:"\u5220\u9664\u5b57\u5e55",MERGE:"\u5408\u5e76\u4e0b\u4e00\u4e2a",SPLIT:"\u62c6\u5206\u5b57\u5e55",LOADING_FFMPEG:"\u52a0\u8f7d\u4f9d\u8d56\u4e2d...",LOADING_FONT:"\u52a0\u8f7d\u5b57\u4f53\u4e2d...",LOADING_VIDEO:"\u52a0\u8f7d\u89c6\u9891\u4e2d...",LOADING_SUB:"\u52a0\u8f7d\u5b57\u5e55\u4e2d...",CLEAR_TIP:"\u786e\u8ba4\u6e05\u7a7a\u6240\u6709\u6570\u636e\u5417",BURN_ERROR:"\u5408\u6210\u5b57\u5e55\u5931\u8d25",BURN_START:"\u5f00\u59cb\u5408\u6210\u5b57\u5e55",BURN_SUCCESS:"\u5408\u6210\u5b57\u5e55\u6210\u529f",OPEN_VIDEO_ERROR:"\u8bf7\u5148\u6253\u5f00\u89c6\u9891"},h={en:{LOADING:"Loading...",SUB_TEXT:"Subtitle Text",OPEN_VIDEO:"Open Video",OPEN_SUB:"Open Subtitle",EXPORT_ASS:"Export ASS",EXPORT_SRT:"Export SRT",EXPORT_VTT:"Export VTT",EXPORT_VIDEO:"Export Video",TRANSLATE:"Translate!",TRANSCRIBE:"Transcribe!",TRANSLATING:"Translating...",TRANSCRIBING:"Transcribing ...",TRANSLAT_SUCCESS:"Translation success",DECODE_START:"Start decoding audio",DECODE_SUCCESS:"Decoding audio success",DECODE_ERROR:"Decoding audio failed",VIDEO_EXT_ERR:"Unable to open this video format",SUB_EXT_ERR:"Unable to open this subtitle format",MOBILE_TIP:"Please use computer access",HOTKEY_01:"Space: Play / Pause",HOTKEY_02:"Ctrl + Z: Undo",CLEAR:"Clear",UNDO:"Undo",DELETE:"Delete Subtitle",MERGE:"Merge Next",SPLIT:"Split Subtitle",LOADING_FFMPEG:"Loading dependency...",LOADING_FONT:"Loading font...",LOADING_VIDEO:"Loading video...",LOADING_SUB:"Loading subtitle...",CLEAR_TIP:"Confirm that all data is cleared",BURN_ERROR:"Burn subtitles failed",BURN_START:"Start burn subtitles",BURN_SUCCESS:"Burn subtitles success",OPEN_VIDEO_ERROR:"Please open the video first",SAME_LANGUAGE:"Transcription",SIGN_LANGUAGE:"Sign Language",MAIN_LANGUAGE:"Translation"},it:{LOADING:"Caricamento in corso...",SUB_TEXT:"Sottotitoli",OPEN_VIDEO:"Apri video",OPEN_SUB:"Apri sottotitoli",EXPORT_ASS:"Esporta ASS",EXPORT_SRT:"Esporta SRT",EXPORT_VTT:"Esporta VTT",EXPORT_VIDEO:"Esporta video",TRANSLATE:"Traduci",TRANSLATING:"Traduzione...",TRANSLAT_SUCCESS:"Traduzione riuscita",DECODE_START:"Avvia decodifica audio",DECODE_SUCCESS:"Decodifica audio riuscita",DECODE_ERROR:"Decodifica audio non riuscita",VIDEO_EXT_ERR:"Impossibile aprire questo formato video",SUB_EXT_ERR:"Impossibile aprire questo formato di sottotitoli",MOBILE_TIP:"Utilizza l'accesso al computer",HOTKEY_01:"Spazio: Riproduci / Pausa",HOTKEY_02:"Ctrl + Z: Annulla",CLEAR:"Pulisci",UNDO:"Annulla",DELETE:"Elimina sottotitoli",MERGE:"Unisci dopo",SPLIT:"Dividi sottotitoli",LOADING_FFMPEG:"Caricamento dipendenza in corso...",LOADING_FONT:"Caricamento font in corso...",LOADING_VIDEO:"Caricamento video in corso...",LOADING_SUB:"Caricamento sottotitoli in corso...",CLEAR_TIP:"Conferma che tutti i dati siano stati cancellati",BURN_ERROR:"Masterizzazione sottotitoli non riuscita",BURN_START:"Avvia masterizzazione sottotitoli",BURN_SUCCESS:"Masterizzazione sottotitoli riuscita",OPEN_VIDEO_ERROR:"Apri prima il video"},zh:m,"zh-cn":m,"zh-tw":m,tr:{LOADING:"Loading...",SUB_TEXT:"Subtitle Text",OPEN_VIDEO:"Video A\xe7",OPEN_SUB:"Altyaz\u0131 A\xe7",EXPORT_ASS:"ASS \xc7\u0131kar",EXPORT_SRT:"SRT \xc7\u0131kar",EXPORT_VTT:"VTT \xc7\u0131kar",EXPORT_VIDEO:"Videoyu \xc7\u0131kar",TRANSLATE:"\xc7evir",TRANSLATING:"\xc7evriliyor...",TRANSLAT_SUCCESS:"\xc7evirme ba\u015far\u0131l\u0131",DECODE_START:"Ses \xe7\xf6z\xfcmlemesi ba\u015flad\u0131",DECODE_SUCCESS:"Ses \xe7\xf6z\xfcmlemesi ba\u015far\u0131l\u0131",DECODE_ERROR:"Ses \xe7\xf6z\xfcmlemesi ba\u015far\u0131s\u0131z",VIDEO_EXT_ERR:"Bu video bi\xe7imi a\xe7\u0131lam\u0131yor",SUB_EXT_ERR:"Bu altyaz\u0131 bi\xe7imi a\xe7\u0131lam\u0131yor",MOBILE_TIP:"L\xfctfen bilgisayardan eri\u015fin",HOTKEY_01:"Bo\u015fluk: Oynat / Duraklat",HOTKEY_02:"Ctrl + Z: Geri Al",CLEAR:"Temizle",UNDO:"Geri Al",DELETE:"Altyaz\u0131y\u0131 Sil",MERGE:"Sonrakiyle Birle\u015ftir",SPLIT:"Altyaz\u0131y\u0131 B\xf6l",LOADING_FFMPEG:"Ba\u011f\u0131ml\u0131l\u0131k y\xfckleniyor...",CLEAR_TIP:"T\xfcm verilerin silinece\u011fini onayl\u0131yor musunuz?",BURN_ERROR:"Altyaz\u0131 g\xf6mme ba\u015far\u0131s\u0131z",BURN_START:"Altyaz\u0131 g\xf6mmeyi ba\u015flat",BURN_SUCCESS:"Altyaz\u0131 g\xf6mme ba\u015far\u0131l\u0131",OPEN_VIDEO_ERROR:"L\xfctfen \xf6nce videoyu a\xe7\u0131n"}},f=n(5),j=n(9),O=n(40),x=n(314),y=n.n(x),v=n(44),S=n.n(v),k=n(148),T=n.n(k),w=n(41),E=n(8),_=n.n(E),C=n(16),N=n(25),R=n(27),I=n(120),A=n.n(I),L=function(){function e(t){Object(N.a)(this,e),this.start=t.start,this.end=t.end,this.text=t.text,this.text2=t.text2}return Object(R.a)(e,[{key:"check",get:function(){return this.startTime>=0&&this.endTime>=0&&this.startTime<this.endTime}},{key:"clone",get:function(){return new e(this)}},{key:"startTime",get:function(){return S.a.t2d(this.start)},set:function(e){this.start=S.a.d2t(A()(e,0,1/0))}},{key:"endTime",get:function(){return S.a.t2d(this.end)},set:function(e){this.end=S.a.d2t(A()(e,0,1/0))}},{key:"duration",get:function(){return parseFloat((this.endTime-this.startTime).toFixed(3))}}]),e}();function P(e){var t=new RegExp("Dialogue:\\s\\d,(\\d+:\\d\\d:\\d\\d.\\d\\d),(\\d+:\\d\\d:\\d\\d.\\d\\d),([^,]*),([^,]*),(?:[^,]*,){4}([\\s\\S]*)$","i");function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.split(/[:.]/).map((function(e,t,n){if(t===n.length-1){if(1===e.length)return"."+e+"00";if(2===e.length)return"."+e+"0"}else if(1===e.length)return(0===t?"0":":0")+e;return 0===t?e:t===n.length-1?"."+e:":"+e})).join("")}return"WEBVTT\n\n"+e.split(/\r?\n/).map((function(e){var a=e.match(t);return a?{start:n(a[1].trim()),end:n(a[2].trim()),text:a[5].replace(/{[\s\S]*?}/g,"").replace(/(\\N)/g,"\n").trim().split(/\r?\n/).map((function(e){return e.trim()})).join("\n")}:null})).filter((function(e){return e})).map((function(e,t){return e?t+1+"\n"+e.start+" --\x3e "+e.end+"\n"+e.text:""})).filter((function(e){return e.trim()})).join("\n\n")}function D(e){return new Promise((function(t){var n=document.createElement("video"),a=document.createElement("track");a.default=!0,a.kind="metadata",n.appendChild(a),a.onload=function(){t(Array.from(a.track.cues).map((function(e){var t=S.a.d2t(e.startTime),n=S.a.d2t(e.endTime),a=e.text;return new L({start:t,end:n,text:a})})))},a.src=e}))}function F(e){return URL.createObjectURL(new Blob([e],{type:"text/vtt"}))}function z(e){return"WEBVTT\n\n"+e.map((function(e,t){return t+1+"\n"+e.start+" --\x3e "+e.end+"\n"+e.text})).join("\n\n")}function U(e){return e.map((function(e,t){return"".concat(t+1,"\n").concat(e.start.replace(".",",")," --\x3e ").concat(e.end.replace(".",","),"\n").concat(e.text)})).join("\n\n")}function B(e){return e.map((function(e){return e.text})).join("\n\n")}var G=function(e){var t=[],n="",a=e.split(/[:.]/).map((function(e){return Number(e)}));return(a=e.split(/[:.]/).map((function(e){return Number(e)})))[3]="0."+("00"+a[3]).slice(-3),n=(n=(60*a[0]*60+60*a[1]+a[2]+Number(a[3])).toFixed(2)).toString().split("."),t.unshift(n[1]),n=Number(n[0]),t.unshift(("0"+(n%60).toString()).slice(-2)),t.unshift(("0"+(Math.floor(n/60)%60).toString()).slice(-2)),t.unshift((Math.floor(n/3600)%60).toString()),t.slice(0,3).join(":")+"."+t[3]};function M(e){return"\n[Script Info]\n; // \u6b64\u5b57\u5e55\u7531\u7231\u5e55\u751f\u6210\nSynch Point:1\nScriptType:v4.00+\nCollisions:Normal\n\n[V4+ Styles]\nFormat: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding\nStyle: Default, Microsoft YaHei, 20, &H00FFFFFF, &H000000FF, &H00000000, &H00000000, 0, 0, 0, 0, 100, 100, 0, 0, 1, 1, 0, 2, 10, 10, 10, 134\n\n[Events]\nFormat: Layer, Start, End, Style, Actor, MarginL, MarginR, MarginV, Effect, Text\n".concat(e.map((function(e){var t=G(e.start),n=G(e.end),a=e.text.replace(/\r?\n/g,"\\N");return"Dialogue: 0,".concat(t,",").concat(n,",Default,NTP,0000,0000,0000,,").concat(a)})).join("\n"),"\n    ").trim()}var H=n(122),V=n.n(H),X=n(329),Y=n(315),J=n.n(Y),K=(n(735),n(1));function W(){return Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)("p",{style:{paddingLeft:"10px",marginTop:"-0.5px"},children:Object(K.jsx)("b",{children:"External Links"})}),Object(K.jsxs)("ul",{style:{listStyle:"none",flexDirection:"column",margin:"-10px 10px 10px 10px",padding:0,textAlign:"center"},children:[Object(K.jsx)("li",{style:{width:"100%",backgroundColor:"rgb(33 150 243 / 20%)",padding:"10px 5px"},children:Object(K.jsx)("a",{target:"_blank",rel:"noreferrer",style:{textDecoration:"none",color:"white",padding:"10px 50px"},href:"https://github.com/AI4Bharat",children:"Organisation"})}),Object(K.jsx)("br",{}),Object(K.jsx)("li",{style:{width:"100%",backgroundColor:"rgb(33 150 243 / 20%)",padding:"10px 5px"},children:Object(K.jsx)("a",{target:"_blank",rel:"noreferrer",style:{textDecoration:"none",color:"white",padding:"10px 50px"},href:"https://github.com/AI4Bharat/Chitralekha/",children:"GitHub Repo"})})]})]})}var q=n(45),$=n(43),Z=n(42),Q=n(29),ee=n(22),te={BASE_URL:"https://backend.chitralekha.ai4bharat.org/",BASE_URL_AUTO:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ASR_URL:"http://216.48.182.174:5000",REACT_APP_NMT_URL:"http://216.48.181.177:5050"}).REACT_APP_APIGW_BASE_URL?Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ASR_URL:"http://216.48.182.174:5000",REACT_APP_NMT_URL:"http://216.48.181.177:5050"}).REACT_APP_APIGW_BASE_URL:"https://backend.chitralekha.ai4bharat.org"},ne=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"POST",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";Object(N.a)(this,e),this.code=null,this.message=null,this.reqType=r,this.domain=null,this.method=t,this.timeout=n,this.auth=a,this.baseUrl=te.BASE_URL,this.baseUrlAuto=te.BASE_URL_AUTO}return Object(R.a)(e,[{key:"toString",value:function(){return"( code: ".concat(this.code," message: ").concat(this.message," domain: ").concat(this.domain," method: ").concat(this.method," timeout: ").concat(this.timeout," auth: ").concat(this.auth)}},{key:"apiEndPoint",value:function(){return this.baseUrl}},{key:"dontShowApiLoader",value:function(){return!1}},{key:"apiEndPointAuto",value:function(){return this.baseUrlAuto}},{key:"processResponse",value:function(e){this.code=e.code,this.message=e.message,this.domain=e.domain}}]),e}(),ae="/users/api/",re="/video/",ie="/transcript/",oe="/translation/",ce="APISTATUS",se="GET_VIDEO_DETAILS",le="FETCH_TRANSCRIPT",ue="GET_TRANSCRIPT_LANGUAGES",de="GENERATE_TRANSCRIPT",be="SAVE_TRANSCRIPT",ge="GENERATE_TRANSLATION",pe="GET_TRANSLATION_LANGAUGES",me="SAVE_TRANSLATION",he="FETCH_TRANSLATION",fe=function(e){Object($.a)(n,e);var t=Object(Z.a)(n);function n(e){var a,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;return Object(N.a)(this,n),(r=t.call(this,"GET",i,!1)).type=se,r.videoUrl=e,r.endpoint="".concat(Object(Q.a)((a=Object(q.a)(r),Object(ee.a)(n.prototype)),"apiEndPointAuto",a).call(a)).concat(re,"?video_url=").concat(e,"&create_youtube_transcript=True"),r}return Object(R.a)(n,[{key:"processResponse",value:function(e){Object(Q.a)(Object(ee.a)(n.prototype),"processResponse",this).call(this,e),e&&(this.video=e)}},{key:"apiEndPoint",value:function(){return this.endpoint}},{key:"getBody",value:function(){}},{key:"getHeaders",value:function(){return this.headers={headers:Object(f.a)({"Content-Type":"application/json"},localStorage.getItem("chitralekha_access_token")&&{Authorization:"Token ".concat(localStorage.getItem("chitralekha_access_token"))})},this.headers}},{key:"getPayload",value:function(){return this.video}}]),n}(ne),je=n(54),Oe=n(104),xe=n.n(Oe),ye=n(189),ve=n.n(ye);function Se(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return null!==a&&a.status&&a.status.statusCode&&200!==a.status.statusCode&&201!==a.status.statusCode?{type:ce,payload:{progress:e,error:200===a.status.statusCode||201===a.status.statusCode,message:200===a.status.statusCode||201===a.status.statusCode?n:a.status.errorMessage,unauthrized:r,loading:i}}:{type:ce,payload:{progress:e,error:t,message:a&&a.status&&a.status.statusMessage?a.status.statusMessage:n,unauthrized:r,loading:i}}}function ke(e,t,n){console.log(e,"res"),t.processResponse(e.data),t.type&&(n(function(e){return{type:e.type,endpoint:e.apiEndPoint(),payload:e.getPayload()}}(t)),n(Se(!1,!1,t.successMsg,e.data,null,!1))),"function"!==typeof t.processNextSuccessStep||!e.status||200!==e.status&&201!==e.status||t.processNextSuccessStep(e.data),n(Se(!1,!1,t.successMsg,e.data,null,!1))}function Te(e,t,n){var a=e.response&&e.response.data&&e.response.data.why?e.response.data.why:e.response&&e.response.status&&Object.keys(ve.a.error.message.http).includes(Number(e.response.status))?ve.a.error.message.http[Number(e.response.status)]:ve.a.error.message.http.default;(t.errorMsg||null===t.errorMsg)&&(a=null===t.errorMsg?"":t.errorMsg),n(Se(!1,!0,a,null,!(!e.response||401!==e.response.status))),"function"===typeof t.processNextErrorStep&&t.processNextErrorStep()}var we;function Ee(e){return"MULTIPART"===e.reqType?function(t){t(Se(!e.dontShowApiLoader(),!1,"")),xe.a.post(e.apiEndPoint(),e.getFormData(),e.getHeaders()).then((function(n){ke(n,e,t)})).catch((function(n){Te(n,e,t)}))}:"PATCH"===e.method?function(t){t(Se(!e.dontShowApiLoader(),!1,"")),xe.a.patch(e.apiEndPoint(),e.getBody(),e.getHeaders()).then((function(n){ke(n,e,t)})).catch((function(n){Te(n,e,t)}))}:"POST"===e.method?function(t){t(Se(!e.dontShowApiLoader(),!1,"",null,null,!0)),xe.a.post(e.apiEndPoint(),e.getBody(),e.getHeaders()).then((function(n){ke(n,e,t)})).catch((function(n){Te(n,e,t)}))}:"PUT"===e.method?function(t){t(Se(!e.dontShowApiLoader(),!1,"")),xe.a.put(e.apiEndPoint(),e.getBody(),e.getHeaders()).then((function(n){ke(n,e,t)})).catch((function(n){Te(n,e,t)}))}:"DELETE"===e.method?function(t){t(Se(!e.dontShowApiLoader(),!1,"")),xe.a.delete(e.apiEndPoint(),e.getHeaders()).then((function(n){ke(n,e,t)})).catch((function(n){Te(n,e,t)}))}:function(t){t(Se(!e.dontShowApiLoader(),!1,"",null,null,!0)),xe.a.get(e.apiEndPoint(),e.getHeaders()).then((function(n){ke(n,e,t)})).catch((function(n){Te(n,e,t)}))}}var _e=w.b.div(we||(we=Object(O.a)(["\n    border-left: 1px solid white;\n\n    .tool-button {\n        display: flex;\n        justify-content: flex-end;\n        align-items: center;\n        padding: 10px 10px 2px 0;\n        margin-bottom: 5px;\n\n        .icon {\n            cursor: pointer;\n        }\n    }\n\n    .import {\n        display: flex;\n        justify-content: space-between;\n        padding: 10px;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n        .btn {\n            position: relative;\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 48%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #3f51b5;\n            transition: all 0.2s ease 0s;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n\n        .file {\n            position: absolute;\n            left: 0;\n            top: 0;\n            right: 0;\n            bottom: 0;\n            width: 100%;\n            height: 100%;\n            opacity: 0;\n        }\n    }\n\n    .seconday-options {\n        transform: scaleY(1) !important;\n        transition: all 0.25s 0.4s;\n        transform-origin: top;\n    }\n\n    .hide-secondary-options {\n        transform: scaleY(0) !important;\n        transition: all 0.25s;\n        transform-origin: top;\n        height: 0;\n    }\n\n    .hide-secondary-options * > {\n        opacity: 0;\n        transition: all 0.1s;\n    }\n\n    .select-translation-api-container {\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n        display: flex;\n        flex-direction: column;\n        // justify-content: center;\n        padding-left: 10px;\n\n        .select-heading {\n            margin-top: -0.5px;\n        }\n\n        select {\n            width: 95%;\n            outline: none;\n            height: 35px;\n            border-radius: 3px;\n            margin-bottom: 10px;\n            margin-top: -10px;\n        }\n    }\n\n    .burn {\n        display: flex;\n        justify-content: space-between;\n        padding: 10px;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n        .btn {\n            position: relative;\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 100%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #673ab7;\n            transition: all 0.2s ease 0s;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n    }\n\n    .export {\n        display: flex;\n        justify-content: space-between;\n        padding: 10px;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n        .btn {\n            position: relative;\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 31%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #009688;\n            transition: all 0.2s ease 0s;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n    }\n\n    .operate {\n        display: flex;\n        justify-content: space-between;\n        padding: 10px;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n        .btn {\n            position: relative;\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 48%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #009688;\n            transition: all 0.2s ease 0s;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n    }\n\n    .configuration {\n        transform: scaleY(1) !important;\n        transition: all 0.25s 0.4s;\n        transform-origin: top;\n\n        &-heading {\n            opacity: 1;\n            padding-left: 10px;\n            margin-top: -0.5px;\n        }\n\n        &-options {\n            opacity: 1;\n            display: flex;\n            flex-direction: column;\n            flex-wrap: wrap;\n            border-bottom: 1px solid rgb(255 255 255 / 20%);\n            // align-items: center;\n            margin-top: -10px;\n            padding-left: 10px;\n\n            .btn {\n                position: relative;\n                opacity: 0.85;\n                display: flex;\n                justify-content: center;\n                align-items: center;\n                height: 35px;\n                width: 95%;\n                border-radius: 3px;\n                color: #fff;\n                cursor: pointer;\n                font-size: 13px;\n                background-color: #009688;\n                transition: all 0.2s ease 0s;\n                margin-bottom: 10px;\n                letter-spacing: 1.3px;\n\n                &:hover {\n                    opacity: 1;\n                }\n            }\n        }\n    }\n\n    .hide-config {\n        transform: scaleY(0) !important;\n        transition: all 0.25s;\n        transform-origin: top;\n        height: 0;\n    }\n    .hide-config .configuration-heading {\n        opacity: 0;\n        transition: all 0.1s;\n    }\n\n    .hide-config .configuration-options {\n        opacity: 0;\n        transition: all 0.1s;\n    }\n\n    .translate {\n        display: flex;\n        justify-content: space-between;\n        padding: 10px;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n        select {\n            width: 65%;\n            outline: none;\n            padding: 0 5px;\n            border-radius: 3px;\n        }\n\n        .btn {\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 33%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #673ab7;\n            transition: all 0.2s ease 0s;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n    }\n    .youtube-link {\n        display: flex;\n        justify-content: space-between;\n        padding: 10px;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n        .youtube-textarea {\n            width: 65%;\n            outline: none;\n            padding: 0 5px;\n            border-radius: 3px;\n        }\n\n        .btn {\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 33%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #673ab7;\n            transition: all 0.2s ease 0s;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n    }\n\n    .hotkey {\n        display: flex;\n        justify-content: space-between;\n        padding: 10px;\n\n        span {\n            width: 49%;\n            font-size: 13px;\n            padding: 5px 0;\n            border-radius: 3px;\n            text-align: center;\n            color: rgb(255 255 255 / 75%);\n            background-color: rgb(255 255 255 / 20%);\n        }\n    }\n\n    .bottom {\n        padding: 10px;\n        a {\n            display: flex;\n            flex-direction: column;\n            border: 1px solid rgb(255 255 255 / 30%);\n            text-decoration: none;\n\n            .title {\n                color: #ffeb3b;\n                padding: 5px 10px;\n                animation: animation 3s infinite;\n                border-bottom: 1px solid rgb(255 255 255 / 30%);\n            }\n\n            @keyframes animation {\n                50% {\n                    color: #00bcd4;\n                }\n            }\n\n            img {\n                max-width: 100%;\n            }\n        }\n    }\n\n    .progress {\n        position: fixed;\n        left: 0;\n        top: 0;\n        right: 0;\n        z-index: 9;\n        height: 2px;\n        background-color: rgb(0 0 0 / 50%);\n\n        span {\n            display: inline-block;\n            position: absolute;\n            left: 0;\n            top: 0;\n            bottom: 0;\n            width: 0;\n            height: 100%;\n            background-color: #ff9800;\n            transition: all 0.2s ease 0s;\n        }\n    }\n"])));V.a.createFFmpeg({log:!0}).load();var Ce=new X.a.FileSystem;function Ne(e){var t=e.player,n=e.waveform,r=e.newSub,i=e.undoSubs,o=e.clearSubs,c=(e.language,e.subtitle),s=e.setLoading,u=(e.formatSub,e.setSubtitle),b=e.setProcessing,g=e.notify,m=e.subtitleEnglish,h=e.setSubtitleEnglish,f=e.clearSubsEnglish,O=(e.setSubtitleOriginal,e.clearedSubs,e.setClearedSubs),x=e.configuration,y=e.setConfiguration,v=(e.enableConfiguration,e.setEnableConfiguration,e.isSetConfiguration),S=e.setIsSetConfiguration,k=e.isSetVideo,T=e.setIsSetVideo,w=e.transcriptSource,E=e.setTranscriptSource,N=Object(a.useState)(null),R=Object(j.a)(N,2),I=R[0],A=R[1],G=Object(a.useState)(""),H=Object(j.a)(G,2),X=H[0],Y=H[1],q=Object(a.useState)(!0),$=Object(j.a)(q,2),Z=$[0],Q=$[1],ee=Object(je.b)(),te=Object(je.c)((function(e){return e.getVideoDetails.data})),ne=Object(a.useCallback)(function(){var e=Object(C.a)(_.a.mark((function e(t){var a,r,i,o,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=V.a.createFFmpeg,r=V.a.fetchFile,(i=a({log:!0})).setProgress((function(e){var t=e.ratio;return b(100*t)})),s(Object(p.t)("LOADING_FFMPEG")),e.next=7,i.load();case 7:return e.t0=i,e.t1=t.name,e.next=11,r(t);case 11:return e.t2=e.sent,e.t0.FS.call(e.t0,"writeFile",e.t1,e.t2),s(""),g({message:Object(p.t)("DECODE_START"),level:"info"}),o="".concat(Date.now(),".mp3"),e.next=18,i.run("-i",t.name,"-ac","1","-ar","8000",o);case 18:return c=i.FS("readFile",o),e.next=21,n.decoder.decodeAudioData(c);case 21:n.drawer.update(),b(0),i.setProgress((function(){return null})),g({message:Object(p.t)("DECODE_SUCCESS"),level:"success"}),e.next=32;break;case 27:e.prev=27,e.t3=e.catch(0),s(""),b(0),g({message:Object(p.t)("DECODE_ERROR"),level:"error"});case 32:case"end":return e.stop()}}),e,null,[[0,27]])})));return function(t){return e.apply(this,arguments)}}(),[n,g,b,s]),ae=Object(a.useCallback)(Object(C.a)(_.a.mark((function e(){var n,a,r,i,o,l,u,m;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===t||void 0===t||t.pause(),e.prev=1,n=V.a.createFFmpeg,a=V.a.fetchFile,(r=n({log:!0})).setProgress((function(e){var t=e.ratio;return b(100*t)})),s(Object(p.t)("LOADING_FFMPEG")),e.next=8,r.load();case 8:return s(Object(p.t)("LOADING_FONT")),e.next=11,Ce.mkdir("/fonts");case 11:return e.next=13,Ce.exists("/fonts/Microsoft-YaHei.ttf");case 13:if(!e.sent){e.next=25;break}return e.next=17,Ce.readFile("/fonts/Microsoft-YaHei.ttf");case 17:return i=e.sent,e.t0=r,e.next=21,a(i);case 21:e.t1=e.sent,e.t0.FS.call(e.t0,"writeFile","tmp/Microsoft-YaHei.ttf",e.t1),e.next=36;break;case 25:return"https://cdn.jsdelivr.net/gh/zhw2590582/SubPlayer/docs/Microsoft-YaHei.ttf",e.next=28,fetch("https://cdn.jsdelivr.net/gh/zhw2590582/SubPlayer/docs/Microsoft-YaHei.ttf").then((function(e){return e.blob()}));case 28:return o=e.sent,e.next=31,Ce.writeFile("/fonts/Microsoft-YaHei.ttf",o);case 31:return e.t2=r,e.next=34,a(o);case 34:e.t3=e.sent,e.t2.FS.call(e.t2,"writeFile","tmp/Microsoft-YaHei.ttf",e.t3);case 36:return s(Object(p.t)("LOADING_VIDEO")),e.t4=r,e.t5=I?I.name:"sample.mp4",e.next=41,a(I||"sample.mp4");case 41:return e.t6=e.sent,e.t4.FS.call(e.t4,"writeFile",e.t5,e.t6),s(Object(p.t)("LOADING_SUB")),l=new File([new Blob([M(c)])],"subtitle.ass"),e.t7=r,e.t8=l.name,e.next=49,a(l);case 49:return e.t9=e.sent,e.t7.FS.call(e.t7,"writeFile",e.t8,e.t9),s(""),g({message:Object(p.t)("BURN_START"),level:"info"}),u="".concat(Date.now(),".mp4"),e.next=56,r.run("-i",I?I.name:"sample.mp4","-vf","ass=".concat(l.name,":fontsdir=/tmp"),"-preset",I?"fast":"ultrafast",u);case 56:m=r.FS("readFile",u),d(URL.createObjectURL(new Blob([m])),"".concat(u)),b(0),r.setProgress((function(){return null})),g({message:Object(p.t)("BURN_SUCCESS"),level:"success"}),e.next=68;break;case 63:e.prev=63,e.t10=e.catch(1),s(""),b(0),g({message:Object(p.t)("BURN_ERROR"),level:"error"});case 68:case"end":return e.stop()}}),e,null,[[1,63]])}))),[g,b,s,I,c]),re=Object(a.useCallback)((function(e){var a=e.target.files[0];if(a){var i=l(a.name),c=t.canPlayType(a.type);if("maybe"===c||"probably"===c){A(a),ne(a);var s=URL.createObjectURL(new Blob([a]));n.decoder.destroy(),n.drawer.update(),t.currentTime=0,o(),u([r({start:"00:00:00.000",end:"00:00:01.000",text:Object(p.t)("SUB_TEXT")})]),t.src=s}else g({message:"".concat(Object(p.t)("VIDEO_EXT_ERR"),": ").concat(a.type||i),level:"error"})}localStorage.setItem("isVideoPresent",!0),T(!0)}),[r,g,t,u,n,o,ne,T]);Object(a.useEffect)((function(){te.direct_video_url&&(localStorage.setItem("videoSrc",te.direct_video_url),localStorage.setItem("videoId",te.video.id),localStorage.setItem("audioSrc",te.direct_audio_url),localStorage.setItem("youtubeURL",te.video.url),localStorage.setItem("isVideoPresent",!0),T(!0),s(""),t.src=te.direct_video_url,t.currentTime=0,o())}),[te]);var ie=Object(a.useCallback)((function(e){if(X.length>0){var t=new fe(X);console.log("called"),s(Object(p.t)("LOADING")),ee(Ee(t))}}),[o,X,"en",t,u,s,T]),oe=Object(a.useCallback)((function(e){var t=e.target.files[0];if(t){var n=l(t.name);["ass","vtt","srt","json"].includes(n)?function(e){return new Promise((function(t,n){var a=new FileReader;a.onload=Object(C.a)(_.a.mark((function r(){var i,o,c,s,u,d,b,g,p,m,h,f;return _.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("json"!==(i=l(e.name))){r.next=5;break}try{o=JSON.parse(a.result).map((function(e){return new L(e)})),t(o)}catch(Te){n(Te)}r.next=34;break;case 5:c=a.result.replace(/{[\s\S]*?}/g,""),r.t0=i,r.next="vtt"===r.t0?9:"ass"===r.t0?15:"srt"===r.t0?22:"json"===r.t0?29:32;break;case 9:return s=F(c),r.next=12,D(s);case 12:return u=r.sent,t(u),r.abrupt("break",34);case 15:return d=P(c),b=F(d),r.next=19,D(b);case 19:return g=r.sent,t(g),r.abrupt("break",34);case 22:return p="WEBVTT \r\n\r\n".concat(c.replace(/\{\\([ibu])\}/g,"</$1>").replace(/\{\\([ibu])1\}/g,"<$1>").replace(/\{([ibu])\}/g,"<$1>").replace(/\{\/([ibu])\}/g,"</$1>").replace(/(\d\d:\d\d:\d\d),(\d\d\d)/g,"$1.$2").replace(/{[\s\S]*?}/g,"").concat("\r\n\r\n")),m=F(p),r.next=26,D(m);case 26:return h=r.sent,t(h),r.abrupt("break",34);case 29:return f=JSON.parse(c).map((function(e){return new L(e)})),t(f),r.abrupt("break",34);case 32:return t([]),r.abrupt("break",34);case 34:case"end":return r.stop()}}),r)}))),a.readAsText(e)}))}(t).then((function(e){o(),localStorage.removeItem("transcript_id"),u(e),h(e)})).catch((function(e){g({message:e.message,level:"error"})})):g({message:"".concat(Object(p.t)("SUB_EXT_ERR"),": ").concat(n),level:"error"})}}),[g,u,o]),ce=Object(a.useCallback)((function(e){E("Manual Upload"),e.target.value=""}),[]),se=Object(a.useCallback)((function(e){null===t||void 0===t||t.pause();var n="",a="".concat(Date.now(),".").concat(e);switch(e){case"vtt":n=z(c);break;case"srt":n=U(c);break;case"ass":n=M(c);break;case"txt":n=B(c);break;case"json":n=JSON.stringify(c)}d(URL.createObjectURL(new Blob([n])),a)}),[c]),le=Object(a.useCallback)((function(e){null===t||void 0===t||t.pause();var n="",a="".concat(Date.now(),".").concat(e);switch(e){case"vtt":n=z(m);break;case"srt":n=U(m);break;case"ass":n=M(m);break;case"txt":n=B(m);break;case"json":n=JSON.stringify(m)}d(URL.createObjectURL(new Blob([n])),a)}),[m]);return Object(a.useEffect)((function(){!1===k&&"true"===window.localStorage.getItem("isVideoPresent")&&(console.log("here inside loop"),T(!k))}),[T,k]),Object(K.jsxs)(_e,{className:"tool ".concat(Z?"tool-open":""),children:[Object(K.jsx)("div",{className:"tool-button",children:Object(K.jsx)("div",{className:"icon",onClick:function(){console.log("hamburger clicked"),Q(!Z)},children:Object(K.jsx)(J.a,{isOpen:Z,width:22,height:18,strokeWidth:2,rotate:0,color:"#fff",borderRadius:0,animationDuration:.5})})}),Object(K.jsxs)("div",{className:"top",children:[Object(K.jsxs)("div",{className:"import ",children:[Object(K.jsxs)("div",{className:"btn",children:[Object(K.jsx)(p.Translate,{value:"OPEN_VIDEO"}),Object(K.jsx)("input",{className:"file",type:"file",onChange:re,onClick:ce})]}),Object(K.jsxs)("div",{className:"btn",children:[Object(K.jsx)(p.Translate,{value:"OPEN_SUB"}),Object(K.jsx)("input",{className:"file",type:"file",onChange:oe,onClick:ce})]})]}),Object(K.jsxs)("div",{className:"youtube-link ",children:[Object(K.jsx)("textarea",{className:"youtube-textarea",placeholder:"Enter YouTube Link Here",value:X,onChange:function(e){Y(e.target.value)}}),Object(K.jsx)("div",{className:"btn",onClick:ie,children:Object(K.jsx)(p.Translate,{value:"Fetch Video"})})]}),Object(K.jsxs)("div",{className:"operate",children:[Object(K.jsx)("div",{className:"btn",onClick:function(){!0===window.confirm(Object(p.t)("CLEAR_TIP"))&&(localStorage.setItem("videoSrc",null),localStorage.setItem("isVideoPresent",!1),localStorage.setItem("lang","en"),localStorage.setItem("subtitleEnglish",null),o(),f(),window.location.reload())},children:Object(K.jsx)(p.Translate,{value:"CLEAR"})}),Object(K.jsx)("div",{className:"btn",onClick:i,children:Object(K.jsx)(p.Translate,{value:"UNDO"})})]}),Object(K.jsx)("div",{className:"operate",children:Object(K.jsx)("div",{className:"btn",onClick:function(){window.localStorage.setItem("subsBeforeClear",JSON.stringify(c)),u([]),h([]),localStorage.removeItem("subtitleEnglish"),O(!0),null===t||void 0===t||t.pause()},children:Object(K.jsx)(p.Translate,{value:"Clear Subtitles"})})}),Object(K.jsxs)("div",{className:"\n                        ".concat(k?"configuration":"hide-config","\n                "),children:[Object(K.jsx)("p",{className:"configuration-heading",children:Object(K.jsx)("b",{children:"Configuration Options"})}),Object(K.jsxs)("div",{className:"configuration-options",children:[Object(K.jsx)("div",{className:"btn",onClick:function(){console.log("Configuration - same");localStorage.getItem("lang");y("Same Language Subtitling"),S(!0),null===t||void 0===t||t.pause()},children:Object(K.jsx)(p.Translate,{value:"SAME_LANGUAGE"})}),Object(K.jsx)("div",{className:"btn",onClick:function(){console.log("Configuration - basic"),y("Subtitling"),S(!0),o(),null===t||void 0===t||t.pause()},children:Object(K.jsx)(p.Translate,{value:"MAIN_LANGUAGE"})})]})]}),Object(K.jsxs)("div",{className:"secondary-options ".concat(v?"":"hide-secondary-options"),children:["Same Language Subtitling"===x&&Object(K.jsx)(K.Fragment,{children:Object(K.jsxs)("div",{className:"select-translation-api-container",children:[Object(K.jsx)("p",{className:"select-heading",children:Object(K.jsx)("b",{children:"Transcript Source"})}),Object(K.jsxs)("select",{value:w,onChange:function(e){console.log(e.target.value),E(e.target.value),f(),null===t||void 0===t||t.pause()},children:[Object(K.jsx)("option",{value:"AI4Bharat",children:"AI4Bharat"}),Object(K.jsx)("option",{value:"Youtube",children:"Youtube"}),Object(K.jsx)("option",{value:"Manual Upload",children:"Manual Upload"})]})]})}),window.crossOriginIsolated?Object(K.jsx)("div",{className:"burn",onClick:ae,children:Object(K.jsx)("div",{className:"btn",children:Object(K.jsx)(p.Translate,{value:"EXPORT_VIDEO"})})}):null,"Same Language Subtitling"!==x&&Object(K.jsx)("p",{style:{paddingLeft:"10px",marginTop:"-0.5px"},children:Object(K.jsx)("b",{children:"Export Translation"})}),"Same Language Subtitling"!==x&&Object(K.jsxs)("div",{className:"export",style:{marginTop:"-20px"},children:[Object(K.jsx)("div",{className:"btn",onClick:function(){return se("ass")},children:Object(K.jsx)(p.Translate,{value:"EXPORT_ASS"})}),Object(K.jsx)("div",{className:"btn",onClick:function(){return se("srt")},children:Object(K.jsx)(p.Translate,{value:"EXPORT_SRT"})}),Object(K.jsx)("div",{className:"btn",onClick:function(){return se("vtt")},children:Object(K.jsx)(p.Translate,{value:"EXPORT_VTT"})})]}),Object(K.jsx)("p",{style:{paddingLeft:"10px",marginTop:"-0.5px"},children:Object(K.jsx)("b",{children:"Export Transcript"})}),Object(K.jsxs)("div",{className:"export",style:{marginTop:"-20px"},children:[Object(K.jsx)("div",{className:"btn",onClick:function(){return le("ass")},children:Object(K.jsx)(p.Translate,{value:"EXPORT_ASS"})}),Object(K.jsx)("div",{className:"btn",onClick:function(){return le("srt")},children:Object(K.jsx)(p.Translate,{value:"EXPORT_SRT"})}),Object(K.jsx)("div",{className:"btn",onClick:function(){return le("vtt")},children:Object(K.jsx)(p.Translate,{value:"EXPORT_VTT"})})]})]}),Object(K.jsx)("div",{className:"",children:Object(K.jsx)(W,{})}),Object(K.jsxs)("div",{className:"hotkey",children:[Object(K.jsx)("span",{children:Object(K.jsx)(p.Translate,{value:"HOTKEY_01"})}),Object(K.jsx)("span",{children:Object(K.jsx)(p.Translate,{value:"HOTKEY_02"})})]})]})]})}var Re=[{name:"\u7b80\u4f53\u4e2d\u6587",key:"zh"},{name:"\u7e41\u4f53\u4e2d\u6587",key:"zh-TW"},{name:"\u82f1\u8bed",key:"en"},{name:"\u5357\u975e\u8377\u5170\u8bed",key:"af"},{name:"\u963f\u5c14\u5df4\u5c3c\u4e9a\u8bed",key:"sq"},{name:"\u963f\u59c6\u54c8\u62c9\u8bed",key:"am"},{name:"\u963f\u62c9\u4f2f\u8bed",key:"ar"},{name:"\u4e9a\u7f8e\u5c3c\u4e9a\u8bed",key:"hy"},{name:"\u963f\u585e\u62dc\u7586\u8bed",key:"az"},{name:"\u5df4\u65af\u514b\u8bed",key:"eu"},{name:"\u767d\u4fc4\u7f57\u65af\u8bed",key:"be"},{name:"\u5b5f\u52a0\u62c9\u8bed",key:"bn"},{name:"\u6ce2\u65af\u5c3c\u4e9a\u8bed",key:"bs"},{name:"\u4fdd\u52a0\u5229\u4e9a\u8bed",key:"bg"},{name:"\u52a0\u6cf0\u7f57\u5c3c\u4e9a\u8bed",key:"ca"},{name:"\u5bbf\u52a1\u8bed",key:"ceb"},{name:"\u79d1\u897f\u5609\u8bed",key:"co"},{name:"\u514b\u7f57\u5730\u4e9a\u8bed",key:"hr"},{name:"\u6377\u514b\u8bed",key:"cs"},{name:"\u4e39\u9ea6\u8bed",key:"da"},{name:"\u8377\u5170\u8bed",key:"nl"},{name:"\u4e16\u754c\u8bed",key:"eo"},{name:"\u7231\u6c99\u5c3c\u4e9a\u8bed",key:"et"},{name:"\u82ac\u5170\u8bed",key:"fi"},{name:"\u6cd5\u8bed",key:"fr"},{name:"\u5f17\u91cc\u65af\u5170\u8bed",key:"fy"},{name:"\u52a0\u5229\u897f\u4e9a\u8bed",key:"gl"},{name:"\u683c\u9c81\u5409\u4e9a\u8bed",key:"ka"},{name:"\u5fb7\u8bed",key:"de"},{name:"\u5e0c\u814a\u8bed",key:"el"},{name:"\u53e4\u5409\u62c9\u7279\u8bed",key:"gu"},{name:"\u6d77\u5730\u514b\u91cc\u5965\u5c14\u8bed",key:"ht"},{name:"\u8c6a\u8428\u8bed",key:"ha"},{name:"\u590f\u5a01\u5937\u8bed",key:"haw"},{name:"\u5e0c\u4f2f\u6765\u8bed",key:"he"},{name:"\u5370\u5730\u8bed",key:"hi"},{name:"\u82d7\u8bed",key:"hmn"},{name:"\u5308\u7259\u5229\u8bed",key:"hu"},{name:"\u51b0\u5c9b\u8bed",key:"is"},{name:"\u4f0a\u535a\u8bed",key:"ig"},{name:"\u5370\u5ea6\u5c3c\u897f\u4e9a\u8bed",key:"id"},{name:"\u7231\u5c14\u5170\u8bed",key:"ga"},{name:"\u610f\u5927\u5229\u8bed",key:"it"},{name:"\u65e5\u8bed",key:"ja"},{name:"\u722a\u54c7\u8bed",key:"jw"},{name:"\u5361\u7eb3\u8fbe\u8bed",key:"kn"},{name:"\u54c8\u8428\u514b\u8bed",key:"kk"},{name:"\u9ad8\u68c9\u6587",key:"km"},{name:"\u97e9\u8bed",key:"ko"},{name:"\u5e93\u5c14\u5fb7\u8bed",key:"ku"},{name:"\u5409\u5c14\u5409\u65af\u8bed",key:"ky"},{name:"\u8001\u631d\u8bed",key:"lo"},{name:"\u62c9\u4e01\u6587",key:"la"},{name:"\u62c9\u8131\u7ef4\u4e9a\u8bed",key:"lv"},{name:"\u7acb\u9676\u5b9b\u8bed",key:"lt"},{name:"\u5362\u68ee\u5821\u8bed",key:"lb"},{name:"\u9a6c\u5176\u987f\u8bed",key:"mk"},{name:"\u9a6c\u5c14\u52a0\u4ec0\u8bed",key:"mg"},{name:"\u9a6c\u6765\u8bed",key:"ms"},{name:"\u9a6c\u62c9\u96c5\u62c9\u59c6\u6587",key:"ml"},{name:"\u9a6c\u8033\u4ed6\u8bed",key:"mt"},{name:"\u6bdb\u5229\u8bed",key:"mi"},{name:"\u9a6c\u62c9\u5730\u8bed",key:"mr"},{name:"\u8499\u53e4\u6587",key:"mn"},{name:"\u7f05\u7538\u8bed",key:"my"},{name:"\u5c3c\u6cca\u5c14\u8bed",key:"ne"},{name:"\u632a\u5a01\u8bed",key:"no"},{name:"\u5c3c\u6768\u624e\u8bed",key:"ny"},{name:"\u666e\u4ec0\u56fe\u8bed",key:"ps"},{name:"\u6ce2\u65af\u8bed",key:"fa"},{name:"\u6ce2\u5170\u8bed",key:"pl"},{name:"\u8461\u8404\u7259\u8bed",key:"pt"},{name:"\u65c1\u906e\u666e\u8bed",key:"pa"},{name:"\u7f57\u9a6c\u5c3c\u4e9a\u8bed",key:"ro"},{name:"\u4fc4\u8bed",key:"ru"},{name:"\u8428\u6469\u4e9a\u8bed",key:"sm"},{name:"\u82cf\u683c\u5170\u76d6\u5c14\u8bed",key:"gd"},{name:"\u585e\u5c14\u7ef4\u4e9a\u8bed",key:"sr"},{name:"\u585e\u7d22\u6258\u8bed",key:"st"},{name:"\u4fee\u7eb3\u8bed",key:"sn"},{name:"\u4fe1\u5fb7\u8bed",key:"sd"},{name:"\u50e7\u4f3d\u7f57\u8bed",key:"si"},{name:"\u65af\u6d1b\u4f10\u514b\u8bed",key:"sk"},{name:"\u65af\u6d1b\u6587\u5c3c\u4e9a\u8bed",key:"sl"},{name:"\u7d22\u9a6c\u91cc\u8bed",key:"so"},{name:"\u897f\u73ed\u7259\u8bed",key:"es"},{name:"\u5dfd\u4ed6\u8bed",key:"su"},{name:"\u65af\u74e6\u5e0c\u91cc\u8bed",key:"sw"},{name:"\u745e\u5178\u8bed",key:"sv"},{name:"\u5854\u52a0\u8def\u8bed",key:"tl"},{name:"\u5854\u5409\u514b\u8bed",key:"tg"},{name:"\u6cf0\u7c73\u5c14\u8bed",key:"ta"},{name:"\u6cf0\u5362\u56fa\u8bed",key:"te"},{name:"\u6cf0\u6587",key:"th"},{name:"\u571f\u8033\u5176\u8bed",key:"tr"},{name:"\u4e4c\u514b\u5170\u8bed",key:"uk"},{name:"\u4e4c\u5c14\u90fd\u8bed",key:"ur"},{name:"\u4e4c\u5179\u522b\u514b\u8bed",key:"uz"},{name:"\u8d8a\u5357\u8bed",key:"vi"},{name:"\u5a01\u5c14\u58eb\u8bed",key:"cy"},{name:"\u73ed\u56fe\u8bed",key:"xh"},{name:"\u610f\u7b2c\u7eea\u8bed",key:"yi"},{name:"\u7ea6\u9c81\u5df4\u8bed",key:"yo"},{name:"\u7956\u9c81\u8bed",key:"zu"}],Ie={en:[{name:"English",key:"en"},{name:"Bengali",key:"bn"},{name:"Gujarati",key:"gu"},{name:"Hindi",key:"hi"},{name:"Kannada",key:"kn"},{name:"Malayalam",key:"ml"},{name:"Marathi",key:"mr"},{name:"Nepali",key:"ne"},{name:"Oriya",key:"or"},{name:"Punjabi",key:"pa"},{name:"Sinhala",key:"si"},{name:"Tamil",key:"ta"},{name:"Telugu",key:"te"},{name:"Urdu",key:"ur"}],zh:Re,"zh-cn":Re,"zh-tw":Re,tr:[{name:"Basitle\u015ftirilmi\u015f \xc7ince",key:"zh"},{name:"Geleneksel \xc7ince",key:"zh-TW"},{name:"\u0130ngilizce",key:"en"},{name:"Afrikaanca",key:"af"},{name:"Arnavut\xe7a",key:"sq"},{name:"Amharca",key:"am"},{name:"Arap\xe7a",key:"ar"},{name:"Ermenice",key:"hy"},{name:"Azerbaycanca",key:"az"},{name:"Bask\xe7a",key:"eu"},{name:"Belarus\xe7a",key:"be"},{name:"Bengalce",key:"bn"},{name:"Bo\u015fnak\xe7a",key:"bs"},{name:"Bulgarca",key:"bg"},{name:"Katalanca",key:"ca"},{name:"Sabuanca",key:"ceb"},{name:"Korsikaca",key:"co"},{name:"H\u0131rvat\xe7a",key:"hr"},{name:"\xc7ek\xe7e",key:"cs"},{name:"Danca",key:"da"},{name:"Felemenk\xe7e",key:"nl"},{name:"Esperanto",key:"eo"},{name:"Estonca",key:"et"},{name:"Fince",key:"fi"},{name:"Frans\u0131zca",key:"fr"},{name:"Frizce",key:"fy"},{name:"Gali\xe7yaca",key:"gl"},{name:"G\xfcrc\xfcce",key:"ka"},{name:"Almanca",key:"de"},{name:"Yunanca",key:"el"},{name:"Gucerat\xe7a",key:"gu"},{name:"Haiti Kreyolu",key:"ht"},{name:"Hausaca",key:"ha"},{name:"Hawaii dili",key:"haw"},{name:"\u0130branice",key:"he"},{name:"Hint\xe7e",key:"hi"},{name:"Hmong",key:"hmn"},{name:"Macarca",key:"hu"},{name:"\u0130zlandaca",key:"is"},{name:"\u0130gbo dili",key:"ig"},{name:"Endonezce",key:"id"},{name:"\u0130rlandaca",key:"ga"},{name:"\u0130talyanca",key:"it"},{name:"Japonca",key:"ja"},{name:"Cava dili",key:"jw"},{name:"Kannada dili",key:"kn"},{name:"Kazak\xe7a",key:"kk"},{name:"Kmerce",key:"km"},{name:"Korece",key:"ko"},{name:"K\xfcrt\xe7e",key:"ku"},{name:"K\u0131rg\u0131zca",key:"ky"},{name:"Laoca",key:"lo"},{name:"Latince",key:"la"},{name:"Letonca",key:"lv"},{name:"Litvanca",key:"lt"},{name:"L\xfcksemburgca",key:"lb"},{name:"Makedonca",key:"mk"},{name:"Malga\u015f\xe7a",key:"mg"},{name:"Malayca",key:"ms"},{name:"Malayalamca",key:"ml"},{name:"Maltaca",key:"mt"},{name:"Maorice",key:"mi"},{name:"Marathice",key:"mr"},{name:"Mo\u011folca",key:"mn"},{name:"Birmanca",key:"my"},{name:"Nepalce",key:"ne"},{name:"Norve\xe7\xe7e",key:"no"},{name:"\xc7evaca",key:"ny"},{name:"Pe\u015ftuca",key:"ps"},{name:"Fars\xe7a",key:"fa"},{name:"Leh\xe7e",key:"pl"},{name:"Portekizce",key:"pt"},{name:"Pencap\xe7a",key:"pa"},{name:"Rumence",key:"ro"},{name:"Rus\xe7a",key:"ru"},{name:"Samoaca",key:"sm"},{name:"\u0130sko\xe7\xe7a Gaelic",key:"gd"},{name:"S\u0131rp\xe7a",key:"sr"},{name:"Sotho dili",key:"st"},{name:"\u015eona dili",key:"sn"},{name:"Since",key:"sd"},{name:"Sinhala dili",key:"si"},{name:"Slovak\xe7a",key:"sk"},{name:"Slovence",key:"sl"},{name:"Somalice",key:"so"},{name:"\u0130spanyolca",key:"es"},{name:"Sundaca",key:"su"},{name:"Svahili",key:"sw"},{name:"\u0130sve\xe7\xe7e",key:"sv"},{name:"Tagalogca",key:"tl"},{name:"Tacik\xe7e",key:"tg"},{name:"Tamilce",key:"ta"},{name:"Teluguca",key:"te"},{name:"Tayca",key:"th"},{name:"T\xfcrk\xe7e",key:"tr"},{name:"Ukraynaca",key:"uk"},{name:"Urduca",key:"ur"},{name:"\xd6zbek\xe7e",key:"uz"},{name:"Vietnamca",key:"vi"},{name:"Galce",key:"cy"},{name:"bantu",key:"xh"},{name:"Yidi\u015f",key:"yi"},{name:"Yoruba dili",key:"yo"},{name:"Zuluca",key:"zu"}]},Ae=n(117),Le=n(116),Pe=n.n(Le),De=n(85),Fe=n.n(De),ze=n(87);function Ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if(console.log("google translate clicked1"),!e.trim())return Promise.resolve("");var n=new URL("https://translate.googleapis.com/translate_a/single");return n.searchParams.append("client","gtx"),n.searchParams.append("sl","auto"),n.searchParams.append("dt","t"),n.searchParams.append("tl",t),n.searchParams.append("q",e),new Promise((function(e,t){fetch(n.href).then((function(e){return e.json()})).then((function(t){e(t?t[0].map((function(e){return e[0].trim()})).join("\n"):"")})).catch((function(e){t(e)}))}))}function Be(){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(C.a)(_.a.mark((function e(){var t,n,a=arguments;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:[],n=a.length>1?a[1]:void 0,console.log("google translate clicked"),e.abrupt("return",new Promise((function(e,a){var r=[];!function i(){var o=t.shift();o?Ue(o.text,n).then((function(e){o.text=e,r.push(o),u(100).then(i)})).catch((function(e){a(e)})):e(r)}()})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Me(){return(Me=Object(C.a)(_.a.mark((function e(){var t,n,a,r=arguments;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:[],n=r.length>1?r[1]:void 0,a=r.length>2?r[2]:void 0,console.log("ai4bharat translate clicked"),e.abrupt("return",new Promise((function(e,r){var i=[],o=[];!function c(){var s=t.shift();if(s)i.push(s.text),o.push(s),c();else{var l={text_lines:i,source_language:n,target_language:a};fetch("".concat("http://216.48.181.177:5050","/batch_translate"),{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){for(var n=0;n<t.text_lines.length;n++)o[n].text=t.text_lines[n];e(o)})).catch((function(e){console.log(e),r(e)}))}}()})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var He,Ve=function(e){Object($.a)(n,e);var t=Object(Z.a)(n);function n(){var e,a,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3;return Object(N.a)(this,n),(a=t.call(this,"GET",r,!1)).type=pe,a.endpoint="".concat(Object(Q.a)((e=Object(q.a)(a),Object(ee.a)(n.prototype)),"apiEndPointAuto",e).call(e)).concat(oe,"generate/supported_languages"),a}return Object(R.a)(n,[{key:"processResponse",value:function(e){Object(Q.a)(Object(ee.a)(n.prototype),"processResponse",this).call(this,e),e&&(this.languages=e)}},{key:"apiEndPoint",value:function(){return this.endpoint}},{key:"getBody",value:function(){}},{key:"getHeaders",value:function(){return this.headers={headers:Object(f.a)({"Content-Type":"application/json"},localStorage.getItem("chitralekha_access_token")&&{Authorization:"Token ".concat(localStorage.getItem("chitralekha_access_token"))})},this.headers}},{key:"getPayload",value:function(){return this.languages}}]),n}(ne),Xe=function(e){Object($.a)(n,e);var t=Object(Z.a)(n);function n(e,a,r){var i,o,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;return Object(N.a)(this,n),(o=t.call(this,"GET",c,!1)).type=he,o.endpoint="".concat(Object(Q.a)((i=Object(q.a)(o),Object(ee.a)(n.prototype)),"apiEndPointAuto",i).call(i)).concat(oe,"?transcript_id=").concat(e,"&target_lang=").concat(a).concat(r?"&get_latest=true":""),o}return Object(R.a)(n,[{key:"processResponse",value:function(e){Object(Q.a)(Object(ee.a)(n.prototype),"processResponse",this).call(this,e),e&&(this.translation=e)}},{key:"apiEndPoint",value:function(){return this.endpoint}},{key:"getBody",value:function(){}},{key:"getHeaders",value:function(){return this.headers={headers:Object(f.a)({"Content-Type":"application/json"},localStorage.getItem("chitralekha_access_token")&&{Authorization:"Token ".concat(localStorage.getItem("chitralekha_access_token"))})},this.headers}},{key:"getPayload",value:function(){return this.translation}}]),n}(ne),Ye=function(e){Object($.a)(n,e);var t=Object(Z.a)(n);function n(e,a){var r,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;return Object(N.a)(this,n),(i=t.call(this,"GET",o,!1)).type=ge,i.endpoint="".concat(Object(Q.a)((r=Object(q.a)(i),Object(ee.a)(n.prototype)),"apiEndPointAuto",r).call(r)).concat(oe,"generate?transcript_id=").concat(e,"&target_lang=").concat(a),i}return Object(R.a)(n,[{key:"processResponse",value:function(e){Object(Q.a)(Object(ee.a)(n.prototype),"processResponse",this).call(this,e),e&&(this.translation=e)}},{key:"apiEndPoint",value:function(){return this.endpoint}},{key:"getBody",value:function(){}},{key:"getHeaders",value:function(){return this.headers={headers:Object(f.a)({"Content-Type":"application/json"},localStorage.getItem("chitralekha_access_token")&&{Authorization:"Token ".concat(localStorage.getItem("chitralekha_access_token"))})},this.headers}},{key:"getPayload",value:function(){return this.translation}}]),n}(ne),Je=function(e){Object($.a)(n,e);var t=Object(Z.a)(n);function n(e,a,r){var i,o,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;return Object(N.a)(this,n),(o=t.call(this,"POST",c,!1)).type=me,o.translationId=e,o.language=a,o.captions=r,o.endpoint="".concat(Object(Q.a)((i=Object(q.a)(o),Object(ee.a)(n.prototype)),"apiEndPointAuto",i).call(i)).concat(oe),o}return Object(R.a)(n,[{key:"processResponse",value:function(e){Object(Q.a)(Object(ee.a)(n.prototype),"processResponse",this).call(this,e),e&&(this.translation=e)}},{key:"apiEndPoint",value:function(){return this.endpoint}},{key:"getBody",value:function(){return console.log("this.lang "+this.language),{translation_id:this.translationId,target_lang:this.language,captions:this.captions}}},{key:"getHeaders",value:function(){return this.headers={headers:Object(f.a)({"Content-Type":"application/json"},localStorage.getItem("chitralekha_access_token")&&{Authorization:"Token ".concat(localStorage.getItem("chitralekha_access_token"))})},this.headers}},{key:"getPayload",value:function(){return this.translation}}]),n}(ne),Ke=w.b.div(He||(He=Object(O.a)(["\n    position: relative;\n    box-shadow: 0px 5px 25px 5px rgb(0 0 0 / 80%);\n    background-color: rgb(0 0 0 / 100%);\n    z-index: 200;\n\n    .translate {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-evenly;\n        align-items: center;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n        height: 80px;\n\n        .heading {\n            h4 {\n                margin: 0;\n            }\n        }\n\n        .options {\n            display: flex;\n            width: 80%;\n        }\n\n        select {\n            width: 65%;\n            outline: none;\n            height: 35px;\n            border-radius: 3px;\n        }\n\n        .btn {\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 50%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #673ab7;\n            transition: all 0.2s ease 0s;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n    }\n\n    .reference {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-evenly;\n        align-items: center;\n        height: 80px;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n        h4 {\n            margin-bottom: 0;\n            margin-top: 0;\n        }\n    }\n\n\n    .ReactVirtualized__Table {\n  \n       \n        .ReactVirtualized__Table__Grid {\n            outline: none;\n        }\n\n        .ReactVirtualized__Grid__innerScrollContainer {\n            overflow: visible !important;\n\n        }\n\n        .ReactVirtualized__Table__row {\n            overflow: visible !important;\n            \n            .item {\n                height: 100%;\n                padding: 10px;\n                \n\n                ul {\n                    \n                    position: absolute !important;\n                    bottom: 200px !important;\n                    left: 0 !important;\n                    z-index: 9999 !important;\n                    height: 170px !important;\n                    width: 100% !important;\n                    transform: translate(0px, 0px) !important;\n                    display: block !important;\n\n                    li {\n                        color: #000 !important;\n                        border-bottom: 1px solid #999;\n                    }\n                }\n\n                .textarea {\n                    border: none;\n                    width: 100%;\n                    height: 100%;\n                    color: #fff;\n                    font-size: 12px;\n                    padding: 10px;\n                    text-align: center;\n                    background-color: rgba(255, 255, 255, 0.05);\n                    border: 1px solid rgba(255, 255, 255, 0.1);\n                    transition: all 0.2s ease;\n                    resize: none;\n                    outline: none;\n\n                    word-wrap: break-word;\n\n                    &.highlight {\n                        background-color: rgb(0 87 158);\n                        border: 1px solid rgba(255, 255, 255, 0.3);\n                    }\n\n                    &.illegal {\n                        background-color: rgb(123 29 0);\n                        border: 1px solid rgba(255, 255, 255, 0.3);\n                    }\n\n                    &.found {\n                        background-color: #FFFFCC;\n                        color: #000;\n                        border: 1px solid rgba(255, 255, 255, 0.3);\n                    }\n\n                    &.current-found {\n                        background-color: #FFFF33;\n                        color: #000;\n                        border: 1px solid rgba(255, 255, 255, 0.3);\n                    }\n                }\n            }\n        }\n    }\n"])));function We(e){var t=e.currentIndex,n=e.subtitle,i=(e.setSubtitleOriginal,e.checkSub),o=e.player,c=e.updateSub,s=e.language,l=e.setLoading,u=e.subtitleEnglish,d=e.formatSub,b=e.setSubtitle,g=e.notify,m=e.isPrimary,h=e.clearedSubs,O=(e.setClearedSubs,e.configuration,e.updateSubOriginal),x=void 0===O?null:O,y=e.isTranslateClicked,v=void 0!==y&&y,S=e.setIsTranslateClicked,k=e.found,T=e.currentFound,w=Object(je.b)(),E=Object(a.useState)(100),N=Object(j.a)(E,2),R=N[0],I=N[1],A=Object(a.useState)(null),L=Object(j.a)(A,2),P=L[0],D=L[1],F=Object(a.useRef)(!1),z=Object(a.useState)([]),U=Object(j.a)(z,2),B=U[0],G=U[1],M=Object(je.c)((function(e){return e.getTranslationLanguages.data})),H=Object(je.c)((function(e){return e.fetchTranslation.data})),V=Object(je.c)((function(e){return e.generateTranslation.data})),X=Object(je.c)((function(e){return e.apiStatus})),Y=Object(a.useState)(!1),J=Object(j.a)(Y,2),W=J[0],q=J[1],$=function(){var e=Object(C.a)(_.a.mark((function e(){var t,n,a,r,i,o;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("subtitle")){e.next=14;break}if(t=JSON.parse(localStorage.getItem("subtitleEnglish")),0!==(null===(n=JSON.parse(localStorage.getItem("subtitle")))||void 0===n?void 0:n.length)){e.next=5;break}return e.abrupt("return");case 5:return a={translations:n.map((function(e,n){return{source:t[n].text,target:e.text}}))},r=new Je(localStorage.getItem("translation_id"),localStorage.getItem("langTranslate"),a),e.next=9,fetch(r.apiEndPoint(),{method:"POST",body:JSON.stringify(r.getBody()),headers:r.getHeaders().headers});case 9:return i=e.sent,e.next=12,i.json();case 12:o=e.sent,console.log(o);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){localStorage.getItem("langTranslate")?(D(localStorage.getItem("langTranslate")),ae(localStorage.getItem("langTranslate"))):(localStorage.setItem("langTranslate","en"),D(localStorage.getItem("langTranslate")),ae(localStorage.getItem("langTranslate"))),function(){var e=new Ve;w(Ee(e))}();var e=document.getElementsByClassName("ReactVirtualized__Table__Grid"),t=function(t){e[t.currentTarget.scrollNum===e.length-1?0:t.currentTarget.scrollNum+1].scrollTop=t.currentTarget.scrollTop};if(e.length>=2)for(var n=0;n<e.length;n++)e[n].scrollNum=n,e[n].addEventListener("scroll",t);return function(){if($(),e.length>=2)for(var n=0;n<e.length;n++)e[n].removeEventListener("scroll",t)}}),[]),Object(a.useEffect)((function(){(null===n||void 0===n?void 0:n.length)>0&&!W&&(q(!0),setTimeout((function(){q(!1)}),1e4))}),[n]),Object(a.useEffect)((function(){W||$()}),[W]),Object(a.useEffect)((function(){if(M&&Object.keys(M).length>0){var e=[];for(var t in M)e.push({name:"".concat(t),key:"".concat(M[t])});G(e),localStorage.setItem("langTranslate",e[0].key),D(e[0].key),ae(e[0].key)}}),[M]);var Z=function(e,t){m||function(){return Me.apply(this,arguments)}([{text:e.text}],localStorage.getItem("langTranscribe"),localStorage.getItem("langTranslate")).then((function(n){x(e,n[0],t)}))},Q=Object(a.useCallback)((function(){I(document.body.clientHeight-240)}),[I]);Object(a.useEffect)((function(){if(Q(),!Q.init){Q.init=!0;var e=Fe()(Q,500);window.addEventListener("resize",e)}}),[Q]);var ee=function(e,t){var n=r.a.useState((function(){var n=window.localStorage.getItem(t);return null!==n?JSON.parse(n):e})),a=Object(j.a)(n,2),i=a[0],o=a[1];return r.a.useEffect((function(){window.localStorage.setItem(t,JSON.stringify(i))}),[t,i]),[i,o]}("en","translated-view"),te=Object(j.a)(ee,2),ne=te[0],ae=te[1],re=Object(a.useCallback)((function(e){console.log("hi");for(var t=JSON.parse(localStorage.getItem("subtitleEnglish")),n=0;n<t.length;n++)t[n].text===e[n].source&&(t[n].text=e[n].target);console.log(t),localStorage.setItem("subtitle",JSON.stringify(t)),b(d(t)),l(""),g({message:Object(p.t)("TRANSLAT_SUCCESS"),level:"success"})}),[b,g,d,l]);Object(a.useEffect)((function(){var e,t;F.current&&(null===(e=H.payload)||void 0===e||null===(t=e.translations)||void 0===t?void 0:t.length)>0&&(M[H.target_lang]===localStorage.getItem("langTranslate")||H.target_lang===localStorage.getItem("langTranslate"))&&(F.current=!1,localStorage.setItem("translation_id",H.id),re(H.payload.translations))}),[H]),Object(a.useEffect)((function(){F.current&&(null===X||void 0===X?void 0:X.error)&&function(){var e=new Ye(localStorage.getItem("transcript_id"),localStorage.getItem("langTranslate"));w(Ee(e))}()}),[X]),Object(a.useEffect)((function(){var e,t;F.current&&(null===(e=V.payload)||void 0===e||null===(t=e.translations)||void 0===t?void 0:t.length)>0&&(M[V.target_lang]===localStorage.getItem("langTranslate")||V.target_lang===localStorage.getItem("langTranslate"))&&(re(V.payload.translations),localStorage.setItem("translation_id",V.id),F.current=!1)}),[V]);var ie=Object(a.useCallback)((function(){S(!0),F.current=!0,console.log("when translate button clicked "+v),l(Object(p.t)("TRANSLATING")),console.log("here1","translate"),function(){var e=new Xe(localStorage.getItem("transcript_id"),localStorage.getItem("langTranslate"),!0);w(Ee(e))}()}),[l,u,d,b,P,g,h]);return n&&Object(K.jsxs)(Ke,{className:"subtitles",children:[console.log("when translate button clicked "+v),m&&P&&B&&Object(K.jsx)("div",{className:"translate",children:Object(K.jsxs)("div",{className:"options",children:[Object(K.jsx)("select",{value:ne,onChange:function(e){D(e.target.value),ae(e.target.value),localStorage.setItem("langTranslate",e.target.value),console.log("in onChange translate langTranslate "+localStorage.getItem("langTranslate"))},children:(B[s]||B.en||B).map((function(e){return Object(K.jsx)("option",{value:e.key,children:e.name},e.key)}))}),Object(K.jsx)("div",{className:"btn",onClick:ie,children:Object(K.jsx)(p.Translate,{value:"TRANSLATE"})}),(null===n||void 0===n?void 0:n.length)>0&&Object(K.jsx)("span",{title:"Save Translation",className:"save-btn",onClick:$,children:"\ud83d\udcbe"})]})}),!m&&Object(K.jsx)("div",{className:"reference",children:Object(K.jsx)("h4",{children:"Reference Subtitles "})}),Object(K.jsx)("div",{style:{display:"flex",position:"relative",height:"90%"},children:Object(K.jsx)(Ae.a,{headerHeight:40,width:250,height:R,rowHeight:80,scrollToIndex:t+2,rowCount:n.length,rowGetter:function(e){var t=e.index;return n[t]},headerRowRenderer:function(){return null},rowRenderer:function(e){return Object(K.jsxs)("div",{className:e.className,style:e.style,onClick:function(){o&&(o.pause(),o.duration>=e.rowData.startTime&&(o.currentTime=e.rowData.startTime+.001))},children:[console.log("langTranslate "+localStorage.getItem("langTranslate")),Object(K.jsx)("div",{className:"item",children:Object(K.jsx)(ze.a,{className:["textarea",t===e.index?"highlight":"",i(e.rowData)?"illegal":"",m&&k.includes(e.index)?"found":"",m&&k[T]===e.index?"current-found":""].join(" ").trim(),value:Pe()(e.rowData.text),spellCheck:!1,onChangeText:function(t){c(e.rowData,{text:t})},onBlur:function(){return Z(e.rowData,e.index)},enabled:m?!(!localStorage.getItem("langTranslate")||"en"===localStorage.getItem("langTranslate")||"en-k"===localStorage.getItem("langTranslate")):!(!localStorage.getItem("langTranscribe")||"en"===localStorage.getItem("langTranscribe")||"en-k"===localStorage.getItem("langTranscribe")),lang:m?localStorage.getItem("langTranslate"):localStorage.getItem("langTranscribe"),maxOptions:5,readOnly:!m,renderComponent:function(e){return Object(K.jsx)("textarea",Object(f.a)({},e))}})})]},e.key)}})})]})}var qe,$e=n(328);function Ze(e,t){try{return Object.keys(t).forEach((function(n){!function(e,t,n){try{e.style[t]=n}catch(a){console.log(a)}}(e,n,t[n])})),e}catch(n){console.log(n)}}function Qe(e,t){try{var n=document.createElement("div");function a(){}n.classList.add("backlight"),Ze(n,{position:"absolute",zIndex:9,left:0,top:0,right:0,bottom:0,width:"100%",height:"100%"}),e.insertBefore(n,t),t.addEventListener("seeked",a),t.addEventListener("loadedmetadata",(function(){return setTimeout(a,1e3)})),function e(){window.requestAnimationFrame((function(){g(t),e()}))}()}catch(r){console.log(r)}}var et=w.b.div(qe||(qe=Object(O.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: 100%;\n    width: 100%;\n    padding-bottom: 2%;\n\n    margin-top: -13px;\n\n    .video {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        height: 100%;\n        width: auto;\n        position: relative;\n\n        video {\n            position: relative;\n            z-index: 10;\n            outline: none;\n            max-height: 100%;\n            max-width: 100%;\n            box-shadow: 0px 5px 25px 5px rgb(0 0 0 / 80%);\n            background-color: #000;\n            cursor: pointer;\n        }\n\n        .subtitle {\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            align-items: center;\n            position: absolute;\n            z-index: 20;\n            left: 0;\n            right: 0;\n            bottom: 5%;\n            width: 100%;\n            padding: 0 20px;\n            user-select: none;\n            pointer-events: none;\n\n            .operate {\n                padding: 5px 15px;\n                color: #fff;\n                font-size: 13px;\n                border-radius: 3px;\n                margin-bottom: 5px;\n                background-color: rgb(0 0 0 / 75%);\n                border: 1px solid rgb(255 255 255 / 20%);\n                cursor: pointer;\n                pointer-events: all;\n            }\n\n            .textarea {\n                width: 100%;\n                outline: none;\n                resize: none;\n                text-align: center;\n                line-height: 1.2;\n                border: none;\n                color: #fff;\n                font-size: 20px;\n                padding: 5px 10px;\n                ","\n                pointer-events: all;\n                background-color: rgb(0 0 0 / 0);\n                \n                text-shadow: rgb(0 0 0) 1px 0px 1px, rgb(0 0 0) 0px 1px 1px, rgb(0 0 0) -1px 0px 1px,\n                    rgb(0 0 0) 0px -1px 1px;\n\n                &.pause {\n                    background-color: rgb(0 0 0 / 50%);\n                }\n            }\n        }\n    }\n"])),""),tt=Object(a.memo)((function(e){var t=e.setPlayer,n=e.setCurrentTime,r=e.setPlaying,i=Object(a.createRef)();Object(a.useEffect)((function(){t(i.current),function e(){window.requestAnimationFrame((function(){i.current&&(r(g(i.current)),n(i.current.currentTime||0)),e()}))}()}),[t,n,r,i]);var o=Object(a.useCallback)((function(){i.current&&(g(i.current)?i.current.pause():i.current.play())}),[i]);return Object(K.jsx)("video",{onClick:o,src:localStorage.getItem("videoSrc"),ref:i})}),(function(){return!0}));function nt(e){console.log(e);var t=Object(a.useState)(null),n=Object(j.a)(t,2),r=n[0],i=n[1],o=Object(a.useState)(!1),c=Object(j.a)(o,2),s=c[0],l=c[1],u=Object(a.useState)(0),d=Object(j.a)(u,2),b=d[0],g=d[1],m=Object(a.createRef)();Object(a.useEffect)((function(){m.current&&e.player&&!Qe.state&&(Qe.state=!0,Qe(m.current,e.player))}),[m,e.player]),Object(a.useMemo)((function(){i("Subtitling"===e.configuration?e.subtitle[e.currentIndex]:e.subtitleEnglish[e.currentIndex])}),[e.subtitle,e.currentIndex]);var h=Object(a.useCallback)((function(t){e.player.pause(),"Subtitling"===e.configuration?e.updateSub(r,{text:t.target.value}):e.updateSubEnglish(r,{text:t.target.value}),t.target.selectionStart&&g(t.target.selectionStart)}),[e,r]),O=Object(a.useCallback)((function(t){e.player.pause(),t.target.selectionStart&&g(t.target.selectionStart)}),[e]),x=Object(a.useCallback)((function(e){l(!0),e.target.selectionStart&&g(e.target.selectionStart)}),[]),y=Object(a.useCallback)((function(){setTimeout((function(){return l(!1)}),500)}),[]),v=Object(a.useCallback)((function(){e.splitSub(r,b)}),[e,r,b]);return Object(K.jsx)(et,{className:"player",children:Object(K.jsxs)("div",{className:"video",ref:m,children:[Object(K.jsx)(tt,Object(f.a)({},e)),e.player&&r?Object(K.jsxs)("div",{className:"subtitle",children:["Same Language Subtitling"===e.configuration&&s?Object(K.jsx)("div",{className:"operate",onClick:v,children:Object(K.jsx)(p.Translate,{value:"SPLIT"})}):null,Object(K.jsx)($e.a,{className:"textarea ".concat(e.playing?"":"pause"),value:r.text,onChange:h,onClick:O,onFocus:x,onBlur:y,onKeyDown:x,spellCheck:!1})]}):null]})})}var at,rt=n(119),it=n(231),ot=n.n(it),ct=n(324),st=n.n(ct),lt=n(149),ut=w.b.div(at||(at=Object(O.a)(["\n    position: absolute;\n    z-index: 9;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    pointer-events: none;\n\n    .react-contextmenu-wrapper {\n        position: absolute;\n        z-index: 9;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        pointer-events: all;\n    }\n\n    .sub-item {\n        position: absolute;\n        top: 30%;\n        left: 0;\n        height: 40%;\n        overflow: hidden;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        text-align: center;\n        word-wrap: break-word;\n        color: #fff;\n        font-size: 14px;\n        cursor: move;\n        user-select: none;\n        pointer-events: all;\n        background-color: rgba(255, 255, 255, 0.2);\n        border: 1px solid rgba(255, 255, 255, 0.2);\n\n        &:hover {\n            background-color: rgba(255, 255, 255, 0.3);\n        }\n\n        &.sub-highlight {\n            background-color: rgba(33, 150, 243, 0.5);\n            border: 1px solid rgba(33, 150, 243, 0.5);\n        }\n\n        &.sub-illegal {\n            background-color: rgba(199, 81, 35, 0.5);\n        }\n\n        .sub-handle {\n            position: absolute;\n            top: 0;\n            bottom: 0;\n            z-index: 1;\n            height: 100%;\n            cursor: col-resize;\n            user-select: none;\n            &:hover {\n                background-color: rgba(255, 255, 255, 0.1);\n            }\n        }\n\n        .sub-text {\n            position: relative;\n            z-index: 0;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            flex-direction: column;\n            \n            text-shadow: rgb(0 0 0) 1px 0px 1px, rgb(0 0 0) 0px 1px 1px, rgb(0 0 0) -1px 0px 1px,\n                rgb(0 0 0) 0px -1px 1px;\n            \n            height: 100%;\n            word-wrap: break-word;\n\n            p {\n                margin: 2px 0;\n                line-height: 1;\n                &.bilingual {\n                    transform: scale(0.8);\n                }\n            }\n        }\n\n        .sub-duration {\n            opacity: 0.5;\n            position: absolute;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            width: 100%;\n            text-align: center;\n            font-size: 12px;\n        }\n    }\n"])));function dt(e,t,n){return e.filter((function(e){return e.startTime>=t&&e.startTime<=t+n||e.endTime>=t&&e.endTime<=t+n||e.startTime<t&&e.endTime>t+n}))}function bt(e,t){return t&&e>t-.1&&t+.1>e?t:e}var gt,pt,mt=null,ht=null,ft="",jt=0,Ot=-1,xt=0,yt=0,vt=!1,St=r.a.memo((function(e){var t=e.player,n=e.subtitle,i=e.subtitleEnglish,o=e.render,c=e.currentTime,s=e.checkSub,l=e.removeSub,u=e.hasSub,d=e.updateSub,g=e.mergeSub,m=e.updateSubEnglish,h=e.configuration,f=(e.setConfiguration,r.a.createRef()),j=r.a.createRef(),O=dt(i,o.beginTime,o.duration);O=dt("Subtitling"===h?n:i,o.beginTime,o.duration);var x=document.body.clientWidth/o.gridNum,y=O.findIndex((function(e){return e.startTime<=c&&e.endTime>c})),v=function(e,t,n){ht=e,0===t.button&&(vt=!0,ft=n,jt=t.pageX,Ot=O.indexOf(e),mt=j.current.children[Ot],xt=parseFloat(mt.style.width))},k=Object(a.useCallback)((function(e){vt&&mt&&(yt=e.pageX-jt,"left"===ft?(mt.style.width="".concat(xt-yt,"px"),mt.style.transform="translate(".concat(yt,"px)")):"right"===ft?mt.style.width="".concat(xt+yt,"px"):mt.style.transform="translate(".concat(yt,"px)"))}),[]),T=Object(a.useCallback)((function(){if(vt&&mt&&yt){var e=yt/x/10,t=u(ht),a=n[t-1],r=n[t+1],i=bt(ht.startTime+e,a?a.endTime:null),o=bt(ht.endTime+e,r?r.startTime:null),c=10*(o-i)*x;if(a&&o<a.startTime||r&&i>r.endTime);else if("left"===ft)if(i>=0&&ht.endTime-i>=.2){var s=S.a.d2t(i);d(ht,{start:s}),m(ht,{start:s})}else mt.style.width="".concat(c,"px");else if("right"===ft)if(o>=0&&o-ht.startTime>=.2){var l=S.a.d2t(o);d(ht,{end:l}),m(ht,{end:l})}else mt.style.width="".concat(c,"px");else if(i>0&&o>0&&o-i>=.2){var b=S.a.d2t(i),g=S.a.d2t(o);d(ht,{start:b,end:g}),m(ht,{start:b,end:g})}else mt.style.width="".concat(c,"px");mt.style.transform="translate(0)"}ft="",jt=0,xt=0,yt=0,vt=!1}),[x,u,n,d,m]),w=Object(a.useCallback)((function(e){var n=O[Ot];if(n&&mt)switch(b(e)){case 37:d(n,{start:S.a.d2t(n.startTime-.1),end:S.a.d2t(n.endTime-.1)}),t.currentTime=n.startTime-.1;break;case 39:d(n,{start:S.a.d2t(n.startTime+.1),end:S.a.d2t(n.endTime+.1)}),t.currentTime=n.startTime+.1;break;case 8:case 46:l(n)}}),[O,t,l,d]);return Object(a.useEffect)((function(){return document.addEventListener("mousemove",k),document.addEventListener("mouseup",T),window.addEventListener("keydown",w),function(){document.removeEventListener("mousemove",k),document.removeEventListener("mouseup",T),window.removeEventListener("keydown",w)}}),[k,T,w]),Object(K.jsxs)(ut,{ref:f,children:[Object(K.jsx)("div",{ref:j,children:O.map((function(e,a){return Object(K.jsx)("div",{className:["sub-item",a===y?"sub-highlight":"",s(e)?"sub-illegal":""].join(" ").trim(),style:{left:o.padding*x+(e.startTime-o.beginTime)*x*10,width:(e.endTime-e.startTime)*x*10},onClick:function(){t.duration>=e.startTime&&(t.currentTime=e.startTime+.001)},onDoubleClick:function(t){return function(e,t){var a=t.currentTarget,r=u(e),i=n[r-1],o=n[r+1];if(i&&o){var c=10*(o.startTime-i.endTime)*x;a.style.width="".concat(c,"px");var s=S.a.d2t(i.endTime),l=S.a.d2t(o.startTime);d(e,{start:s,end:l})}}(e,t)},children:Object(K.jsxs)(lt.b,{id:"contextmenu",holdToDisplay:-1,children:[Object(K.jsx)("div",{className:"sub-handle",style:{left:0,width:10},onMouseDown:function(t){return v(e,t,"left")}}),Object(K.jsx)("div",{className:"sub-text",title:e.text,onMouseDown:function(t){return v(e,t)},children:"".concat(e.text).split(/\r?\n/).map((function(e,t){return Object(K.jsx)("p",{children:e},t)}))}),Object(K.jsx)("div",{className:"sub-handle",style:{right:0,width:10},onMouseDown:function(t){return v(e,t,"right")}}),Object(K.jsx)("div",{className:"sub-duration",children:e.duration})]})},a)}))}),Object(K.jsxs)(lt.a,{id:"contextmenu",children:[Object(K.jsx)(lt.c,{onClick:function(){return l(ht)},children:Object(K.jsx)(p.Translate,{value:"DELETE"})}),"Same Language Subtitling"===h&&Object(K.jsx)(lt.c,{onClick:function(){return g(ht)},children:Object(K.jsx)(p.Translate,{value:"MERGE"})})]})]})}),(function(e,t){return T()(e.subtitle,t.subtitle)&&T()(e.render,t.render)&&e.currentTime===t.currentTime})),kt=w.b.div(gt||(gt=Object(O.a)(["\n    position: absolute;\n    z-index: 8;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    cursor: ew-resize;\n    user-select: none;\n\n    .template {\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        height: 100%;\n        background-color: rgba(76, 175, 80, 0.5);\n        border-left: 1px solid rgba(76, 175, 80, 0.8);\n        border-right: 1px solid rgba(76, 175, 80, 0.8);\n        user-select: none;\n        pointer-events: none;\n    }\n"])));function Tt(e){var t=e.render,n=e.subtitle,r=e.newSub,i=e.addSub,o=e.player,c=e.playing,s=Object(a.useState)(!1),l=Object(j.a)(s,2),u=l[0],d=l[1],b=Object(a.useState)(0),g=Object(j.a)(b,2),m=g[0],h=g[1],f=Object(a.useState)(0),O=Object(j.a)(f,2),x=O[0],y=O[1],v=document.body.clientWidth/t.gridNum,k=Object(a.useCallback)((function(e){return(e.pageX-t.padding*v)/v/10+t.beginTime}),[v,t]),T=Object(a.useCallback)((function(e){if(0===e.button){var t=k(e);d(!0),h(t)}}),[k]),w=Object(a.useCallback)((function(e){u&&(c&&o.pause(),y(k(e)))}),[u,c,o,k]),E=Object(a.useCallback)((function(){if(u&&m>0&&x>0&&x-m>=.2){var e=(c=m,(o=n).findIndex((function(e,t){return c>=e.endTime&&!o[t+1]||e.startTime<=c&&e.endTime>c||c>=e.endTime&&o[t+1]&&c<o[t+1].startTime}))+1),t=S.a.d2t(m),a=S.a.d2t(x);i(e,r({start:t,end:a,text:Object(p.t)("SUB_TEXT")}))}var o,c;d(!1),h(0),y(0)}),[u,m,x,n,i,r]);return Object(a.useEffect)((function(){return document.addEventListener("mouseup",E),function(){return document.removeEventListener("mouseup",E)}}),[E]),Object(K.jsx)(kt,{onMouseDown:T,onMouseMove:w,children:o&&!c&&m&&x&&x>m?Object(K.jsx)("div",{className:"template",style:{left:t.padding*v+(m-t.beginTime)*v*10,width:(x-m)*v*10}}):null})}var wt,Et=w.b.div(pt||(pt=Object(O.a)(["\n    position: relative;\n    display: flex;\n    flex-direction: column;\n\n    .progress {\n        position: absolute;\n        left: 0;\n        right: 0;\n        top: -12px;\n        z-index: 11;\n        width: 100%;\n        height: 12px;\n        user-select: none;\n        border-top: 1px solid rgb(255 255 255 / 20%);\n        background-color: rgb(0 0 0 / 50%);\n\n        .bar {\n            position: absolute;\n            left: 0;\n            top: 0;\n            bottom: 0;\n            width: 0%;\n            height: 100%;\n            display: inline-block;\n            background-color: #730000;\n            overflow: hidden;\n\n            .handle {\n                position: absolute;\n                right: 0;\n                top: 0;\n                bottom: 0;\n                width: 10px;\n                cursor: ew-resize;\n                background-color: #ff9800;\n            }\n        }\n\n        .subtitle {\n            position: absolute;\n            left: 0;\n            top: 0;\n            bottom: 0;\n            right: 0;\n            width: 100%;\n            height: 100%;\n            pointer-events: none;\n\n            span {\n                position: absolute;\n                top: 0;\n                bottom: 0;\n                height: 100%;\n                background-color: rgb(255 255 255 / 20%);\n            }\n        }\n    }\n\n    .duration {\n        position: absolute;\n        left: 0;\n        right: 0;\n        top: -40px;\n        z-index: 12;\n        width: 100%;\n        font-size: 18px;\n        color: rgb(255 255 255 / 75%);\n        text-shadow: 0 1px 2px rgb(0 0 0 / 75%);\n        text-align: center;\n        user-select: none;\n        pointer-events: none;\n    }\n\n    .waveform {\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        z-index: 1;\n        width: 100%;\n        height: 100%;\n        z-index: 1;\n        user-select: none;\n        pointer-events: none;\n    }\n\n    .grab {\n        position: relative;\n        z-index: 11;\n        cursor: grab;\n        height: 20%;\n        user-select: none;\n        background-color: rgb(33 150 243 / 20%);\n        border-top: 1px solid rgb(33 150 243 / 30%);\n        border-bottom: 1px solid rgb(33 150 243 / 30%);\n\n        &.grabbing {\n            cursor: grabbing;\n        }\n    }\n"]))),_t=Object(a.memo)((function(e){var t=e.player,n=e.setWaveform,r=e.setRender,i=Object(a.createRef)();return Object(a.useEffect)((function(){Object(rt.a)(ot.a.instances).forEach((function(e){return e.destroy()}));var e=new ot.a({scrollable:!0,useWorker:!1,duration:10,padding:1,wave:!0,pixelRatio:2,container:i.current,mediaElement:t,backgroundColor:"rgba(0, 0, 0, 0)",waveColor:"rgba(255, 255, 255, 0.2)",progressColor:"rgba(255, 255, 255, 0.5)",gridColor:"rgba(255, 255, 255, 0.05)",rulerColor:"rgba(255, 255, 255, 0.5)",paddingColor:"rgba(0, 0, 0, 0)"});n(e),e.on("update",r),e.load("/sample.mp3")}),[t,i,n,r]),Object(K.jsx)("div",{className:"waveform",ref:i})}),(function(){return!0})),Ct=function(e){var t=Object(a.useState)(0),n=Object(j.a)(t,2),r=n[0],i=n[1],o=Object(a.useState)(0),c=Object(j.a)(o,2),s=c[0],l=c[1],u=Object(a.useState)(!1),d=Object(j.a)(u,2),b=d[0],g=d[1],p=Object(a.useCallback)((function(t){0===t.button&&(i(t.pageX),l(e.player.currentTime),g(!0))}),[e.player]),m=function(){i(0),l(0),g(!1)},h=Object(a.useCallback)((function(t){if(b&&e.player&&e.waveform){var n=A()(s-(t.pageX-r)/document.body.clientWidth*10,0,e.player.duration);e.player.currentTime=n,e.waveform.seek(n)}}),[b,e.player,e.waveform,r,s]);return Object(a.useEffect)((function(){return document.addEventListener("mouseup",m),function(){return document.removeEventListener("mouseup",m)}}),[]),Object(K.jsx)("div",{className:"grab ".concat(b?"grabbing":""),onMouseDown:p,onMouseMove:h})},Nt=function(e){var t=Object(a.useState)(!1),n=Object(j.a)(t,2),r=n[0],i=n[1],o=Object(a.useCallback)((function(t){if(0===t.button){var n=t.pageX/document.body.clientWidth*e.player.duration;e.player.currentTime=n,e.waveform.seek(n)}}),[e]),c=Object(a.useCallback)((function(e){0===e.button&&i(!0)}),[i]),s=Object(a.useCallback)((function(t){if(r){var n=t.pageX/document.body.clientWidth*e.player.duration;e.player.currentTime=n}}),[r,e.player]),l=Object(a.useCallback)((function(){r&&(i(!1),e.waveform.seek(e.player.currentTime))}),[r,e.waveform,e.player.currentTime]);return Object(a.useEffect)((function(){return document.addEventListener("mouseup",l),document.addEventListener("mousemove",s),function(){document.removeEventListener("mouseup",l),document.removeEventListener("mousemove",s)}}),[l,s]),Object(K.jsxs)("div",{className:"progress",onClick:o,children:[Object(K.jsx)("div",{className:"bar",style:{width:"".concat(e.currentTime/e.player.duration*100,"%")},children:Object(K.jsx)("div",{className:"handle",onMouseDown:c})}),Object(K.jsx)("div",{className:"subtitle",children:e.subtitle.length<=200?e.subtitle.map((function(t,n){var a=e.player.duration;return Object(K.jsx)("span",{className:"item",style:{left:"".concat(t.startTime/a*100,"%"),width:"".concat(t.duration/a*100,"%")}},n)})):null})]})},Rt=function(e){var t=Object(a.useCallback)((function(e){return e=e===1/0?0:e,S.a.d2t(e).split(".")[0]}),[]);return Object(K.jsx)("div",{className:"duration",children:Object(K.jsxs)("span",{children:[t(e.currentTime)," / ",t(e.player.duration||0)]})})};function It(e){var t=Object(a.createRef)(),n=Object(a.useState)({padding:2,duration:10,gridGap:10,gridNum:110,beginTime:-5}),i=Object(j.a)(n,2),o=i[0],c=i[1],s=Object(a.useCallback)((function(n){if(e.player&&e.waveform&&!e.player.playing&&t.current&&t.current.contains(n.target)){var a=Math.sign(n.deltaY)/5,r=A()(e.player.currentTime+a,0,e.player.duration);e.player.currentTime=r,e.waveform.seek(r)}}),[e.waveform,e.player,t]);return Object(a.useEffect)((function(){var e=st()(s,100);return window.addEventListener("wheel",e),function(){return window.removeEventListener("wheel",e)}}),[s]),Object(K.jsx)(Et,{className:"footer",ref:t,children:e.player?Object(K.jsxs)(r.a.Fragment,{children:[Object(K.jsx)(Nt,Object(f.a)({},e)),Object(K.jsx)(Rt,Object(f.a)({},e)),Object(K.jsx)(_t,Object(f.a)(Object(f.a)({},e),{},{setRender:c})),Object(K.jsx)(Ct,Object(f.a)(Object(f.a)({},e),{},{render:o})),Object(K.jsx)(Tt,Object(f.a)(Object(f.a)({},e),{},{render:o})),Object(K.jsx)(St,Object(f.a)(Object(f.a)({},e),{},{render:o}))]}):null})}var At,Lt=w.b.div(wt||(wt=Object(O.a)(["\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    z-index: 99;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    -webkit-backdrop-filter: saturate(180%) blur(2px);\n    backdrop-filter: saturate(180%) blur(2px);\n    background-color: rgba(0, 0, 0, 0.5);\n\n    .loading-inner {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        flex-direction: column;\n        width: 200px;\n        height: 200px;\n        padding: 0 10px;\n        border-radius: 10px;\n        color: #fff;\n        background-color: rgb(34 36 60 / 95%);\n        box-shadow: 0 0 3px 0 rgba(0, 0, 0, 0.5);\n\n        img {\n            zoom: 0.5;\n            margin-bottom: 10px;\n        }\n    }\n"])));function Pt(e){var t=e.loading;return Object(K.jsx)(Lt,{children:Object(K.jsxs)("div",{className:"loading-inner",children:[Object(K.jsx)("img",{src:"/loading.svg",alt:"loading"}),Object(K.jsx)("div",{children:t||Object(p.t)("LOADING")})]})})}var Dt=w.b.div(At||(At=Object(O.a)(["\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    z-index: 999;\n    width: 100%;\n    height: 3px;\n    user-select: none;\n    pointer-events: none;\n\n    .inner {\n        position: relative;\n        height: 100%;\n        background-color: #f00;\n        transition: all 0.3s ease 0s;\n        span {\n            position: absolute;\n            top: 3px;\n            right: 0;\n            padding: 2px 5px;\n            color: #fff;\n            font-size: 12px;\n            background-color: rgb(0 0 0 / 80%);\n        }\n    }\n"])));function Ft(e){var t=e.processing;return Object(K.jsx)(Dt,{children:Object(K.jsx)("div",{className:"inner",style:{width:"".concat(t,"%")},children:Object(K.jsx)("span",{children:"".concat(t.toFixed(2),"%")})})})}function zt(){return Object(K.jsx)("div",{className:"links",style:{paddingLeft:"0.3%",paddingTop:"0.5%"},children:Object(K.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://ai4bharat.org/",children:Object(K.jsx)("img",{style:{width:"60px"},src:"https://i.imgur.com/pVT5Mjp.png",alt:"AI4B Logo"})})})}var Ut,Bt,Gt=function(e){Object($.a)(n,e);var t=Object(Z.a)(n);function n(e,a){var r,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;return Object(N.a)(this,n),(i=t.call(this,"POST",o,!1)).username=e,i.password=a,i.endpoint="".concat(Object(Q.a)((r=Object(q.a)(i),Object(ee.a)(n.prototype)),"apiEndPointAuto",r).call(r)).concat(ae,"login/"),i}return Object(R.a)(n,[{key:"processResponse",value:function(e){Object(Q.a)(Object(ee.a)(n.prototype),"processResponse",this).call(this,e),e&&(this.report=e)}},{key:"apiEndPoint",value:function(){return this.endpoint}},{key:"getBody",value:function(){return{username:this.username,password:this.password}}},{key:"getHeaders",value:function(){return this.headers={headers:{"Content-Type":"application/json"}},this.headers}},{key:"getPayload",value:function(){return this.report}}]),n}(ne),Mt=function(e){Object($.a)(n,e);var t=Object(Z.a)(n);function n(e,a,r,i,o,c){var s,l,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2e3;return Object(N.a)(this,n),(l=t.call(this,"POST",u,!1)).username=e,l.email=a,l.first_name=r,l.last_name=i,l.password=o,l.password2=c,l.endpoint="".concat(Object(Q.a)((s=Object(q.a)(l),Object(ee.a)(n.prototype)),"apiEndPointAuto",s).call(s)).concat(ae,"register/"),l}return Object(R.a)(n,[{key:"processResponse",value:function(e){Object(Q.a)(Object(ee.a)(n.prototype),"processResponse",this).call(this,e),e&&(this.report=e)}},{key:"apiEndPoint",value:function(){return this.endpoint}},{key:"getBody",value:function(){return{username:this.username,email:this.email,first_name:this.first_name,last_name:this.last_name,password:this.password,password2:this.password2}}},{key:"getHeaders",value:function(){return this.headers={headers:{"Content-Type":"application/json"}},this.headers}},{key:"getPayload",value:function(){return this.report}}]),n}(ne),Ht=(n(313),function(e){var t=e.showLogin,n=e.setShowLogin,r={username:"",password:""},i={username:"",password:"",password2:"",email:"",first_name:"",last_name:""},o=Object(a.useState)(r),c=Object(j.a)(o,2),s=c[0],l=c[1],u=Object(a.useState)(i),d=Object(j.a)(u,2),b=d[0],g=d[1],p=Object(a.useState)(""),m=Object(j.a)(p,2),h=m[0],O=m[1],x=Object(a.useState)(!0),y=Object(j.a)(x,2),v=y[0],S=y[1],k=function(){n(!1),l(r),g(i),O("")};return Object(K.jsx)("div",{className:"".concat(t?"":"active"," show"),children:Object(K.jsx)("div",{className:"login-form",children:Object(K.jsxs)("div",{className:"form-box solid",children:[Object(K.jsx)("button",{type:"button",className:"close-btn",onClick:k,children:"x"}),v?Object(K.jsxs)("form",{className:"login-form-form",children:[Object(K.jsx)("h1",{className:"login-text",children:"Sign In"}),h&&Object(K.jsx)("p",{className:"err-msg",children:h}),Object(K.jsx)("label",{children:"Username"}),Object(K.jsx)("br",{}),Object(K.jsx)("input",{type:"text",className:"login-box",value:s.username,onChange:function(e){return l(Object(f.a)(Object(f.a)({},s),{},{username:e.currentTarget.value}))}}),Object(K.jsx)("br",{}),Object(K.jsx)("label",{children:"Password"}),Object(K.jsx)("br",{}),Object(K.jsx)("input",{type:"password",className:"login-box",value:s.password,onChange:function(e){return l(Object(f.a)(Object(f.a)({},s),{},{password:e.currentTarget.value}))}}),Object(K.jsx)("br",{}),Object(K.jsx)("button",{className:"login-btn",onClick:function(e){e.preventDefault();var t=new Gt(s.username,s.password);fetch(t.apiEndPoint(),{method:"POST",body:JSON.stringify(t.getBody()),headers:t.getHeaders().headers}).then(function(){var e=Object(C.a)(_.a.mark((function e(t){var n,a,r,i,o,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log(n),t.ok?(localStorage.setItem("chitralekha_access_token",n.token),localStorage.setItem("user_id",null===(a=n.user)||void 0===a?void 0:a.id),localStorage.setItem("username",null===(r=n.user)||void 0===r?void 0:r.username),localStorage.setItem("email",null===(i=n.user)||void 0===i?void 0:i.email),localStorage.setItem("first_name",null===(o=n.user)||void 0===o?void 0:o.first_name),localStorage.setItem("last_name",null===(c=n.user)||void 0===c?void 0:c.last_name),k()):O("Username or Password incorrect");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){O("string"===typeof e?e:"Something went wrong")}))},children:"Login"})]}):Object(K.jsxs)("form",{className:"login-form-form",children:[Object(K.jsx)("h1",{className:"login-text",children:"Sign Up"}),h&&Object(K.jsx)("p",{className:"err-msg",children:h}),Object(K.jsxs)("div",{className:"signup-group",children:[Object(K.jsxs)("div",{children:[Object(K.jsx)("label",{children:"Username"}),Object(K.jsx)("br",{}),Object(K.jsx)("input",{type:"text",className:"login-box",value:b.username,onChange:function(e){return g(Object(f.a)(Object(f.a)({},b),{},{username:e.currentTarget.value}))}}),Object(K.jsx)("br",{})]}),Object(K.jsxs)("div",{children:[Object(K.jsx)("label",{children:"Email"}),Object(K.jsx)("br",{}),Object(K.jsx)("input",{type:"email",className:"login-box",value:b.email,onChange:function(e){return g(Object(f.a)(Object(f.a)({},b),{},{email:e.currentTarget.value}))}}),Object(K.jsx)("br",{})]})]}),Object(K.jsxs)("div",{className:"signup-group",children:[Object(K.jsxs)("div",{children:[Object(K.jsx)("label",{children:"First Name"}),Object(K.jsx)("br",{}),Object(K.jsx)("input",{type:"text",className:"login-box",value:b.first_name,onChange:function(e){return g(Object(f.a)(Object(f.a)({},b),{},{first_name:e.currentTarget.value}))}}),Object(K.jsx)("br",{})]}),Object(K.jsxs)("div",{children:[Object(K.jsx)("label",{children:"Last Name"}),Object(K.jsx)("br",{}),Object(K.jsx)("input",{type:"text",className:"login-box",value:b.last_name,onChange:function(e){return g(Object(f.a)(Object(f.a)({},b),{},{last_name:e.currentTarget.value}))}}),Object(K.jsx)("br",{})]})]}),Object(K.jsxs)("div",{className:"signup-group",children:[Object(K.jsxs)("div",{children:[Object(K.jsx)("label",{children:"Password"}),Object(K.jsx)("br",{}),Object(K.jsx)("input",{type:"password",className:"login-box",value:b.password,onChange:function(e){return g(Object(f.a)(Object(f.a)({},b),{},{password:e.currentTarget.value}))}}),Object(K.jsx)("br",{})]}),Object(K.jsxs)("div",{children:[Object(K.jsx)("label",{children:"Confirm Password"}),Object(K.jsx)("br",{}),Object(K.jsx)("input",{type:"password",className:"login-box",value:b.password2,onChange:function(e){return g(Object(f.a)(Object(f.a)({},b),{},{password2:e.currentTarget.value}))}}),Object(K.jsx)("br",{})]})]}),Object(K.jsx)("button",{className:"login-btn",onClick:function(e){e.preventDefault();var t=new Mt(b.username,b.email,b.first_name,b.last_name,b.password,b.password2);fetch(t.apiEndPoint(),{method:"POST",body:JSON.stringify(t.getBody()),headers:t.getHeaders().headers}).then(function(){var e=Object(C.a)(_.a.mark((function e(t){var n,a,r,i,o,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log(n),t.ok?(localStorage.setItem("chitralekha_access_token",n.token),localStorage.setItem("user_id",null===(a=n.user)||void 0===a?void 0:a.id),localStorage.setItem("username",null===(r=n.user)||void 0===r?void 0:r.username),localStorage.setItem("email",null===(i=n.user)||void 0===i?void 0:i.email),localStorage.setItem("first_name",null===(o=n.user)||void 0===o?void 0:o.first_name),localStorage.setItem("last_name",null===(c=n.user)||void 0===c?void 0:c.last_name),k()):O("Invalid details");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){O("string"===typeof e?e:"Something went wrong")}))},children:"Sign Up"}),Object(K.jsxs)("p",{className:"form-text",children:["Already have an account? ",Object(K.jsx)("span",{className:"link",onClick:function(){O(""),S(!v)},children:"Sign In"})]})]})]})})})}),Vt=function(e){Object($.a)(n,e);var t=Object(Z.a)(n);function n(){var e,a,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3;return Object(N.a)(this,n),(a=t.call(this,"GET",r,!1)).type=ue,a.endpoint="".concat(Object(Q.a)((e=Object(q.a)(a),Object(ee.a)(n.prototype)),"apiEndPointAuto",e).call(e)).concat(ie,"generate/supported_languages"),a}return Object(R.a)(n,[{key:"processResponse",value:function(e){Object(Q.a)(Object(ee.a)(n.prototype),"processResponse",this).call(this,e),e&&(this.languages=e)}},{key:"apiEndPoint",value:function(){return this.endpoint}},{key:"getBody",value:function(){}},{key:"getHeaders",value:function(){return this.headers={headers:Object(f.a)({"Content-Type":"application/json"},localStorage.getItem("chitralekha_access_token")&&{Authorization:"Token ".concat(localStorage.getItem("chitralekha_access_token"))})},this.headers}},{key:"getPayload",value:function(){return this.languages}}]),n}(ne),Xt=function(e){Object($.a)(n,e);var t=Object(Z.a)(n);function n(e,a,r,i){var o,c,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2e3;return Object(N.a)(this,n),(c=t.call(this,"GET",s,!1)).type=le,c.endpoint="".concat(Object(Q.a)((o=Object(q.a)(c),Object(ee.a)(n.prototype)),"apiEndPointAuto",o).call(o)).concat(ie,"?video_id=").concat(e,"&language=").concat(a,"&transcript_type=").concat(r).concat(i?"&load_latest_transcript=true":""),c}return Object(R.a)(n,[{key:"processResponse",value:function(e){Object(Q.a)(Object(ee.a)(n.prototype),"processResponse",this).call(this,e),e&&(this.transcript=e)}},{key:"apiEndPoint",value:function(){return this.endpoint}},{key:"getBody",value:function(){}},{key:"getHeaders",value:function(){return this.headers={headers:Object(f.a)({"Content-Type":"application/json"},localStorage.getItem("chitralekha_access_token")&&{Authorization:"Token ".concat(localStorage.getItem("chitralekha_access_token"))})},this.headers}},{key:"getPayload",value:function(){return this.transcript}}]),n}(ne),Yt=function(e){Object($.a)(n,e);var t=Object(Z.a)(n);function n(e,a){var r,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;return Object(N.a)(this,n),(i=t.call(this,"GET",o,!1)).type=de,i.endpoint="".concat(Object(Q.a)((r=Object(q.a)(i),Object(ee.a)(n.prototype)),"apiEndPointAuto",r).call(r)).concat(ie,"generate/?video_id=").concat(e,"&language=").concat(a),i}return Object(R.a)(n,[{key:"processResponse",value:function(e){Object(Q.a)(Object(ee.a)(n.prototype),"processResponse",this).call(this,e),e&&(this.transcript=e)}},{key:"apiEndPoint",value:function(){return this.endpoint}},{key:"getBody",value:function(){}},{key:"getHeaders",value:function(){return this.headers={headers:Object(f.a)({"Content-Type":"application/json"},localStorage.getItem("chitralekha_access_token")&&{Authorization:"Token ".concat(localStorage.getItem("chitralekha_access_token"))})},this.headers}},{key:"getPayload",value:function(){return this.transcript}}]),n}(ne),Jt=function(e){Object($.a)(n,e);var t=Object(Z.a)(n);function n(e,a,r,i){var o,c,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2e3;return Object(N.a)(this,n),(c=t.call(this,"POST",s,!1)).type=be,c.transcriptId=e,c.language=a,c.payload=i,c.videoId=r,c.endpoint="".concat(Object(Q.a)((o=Object(q.a)(c),Object(ee.a)(n.prototype)),"apiEndPointAuto",o).call(o)).concat(ie,"save/"),c}return Object(R.a)(n,[{key:"processResponse",value:function(e){Object(Q.a)(Object(ee.a)(n.prototype),"processResponse",this).call(this,e),e&&(this.transcript=e)}},{key:"apiEndPoint",value:function(){return this.endpoint}},{key:"getBody",value:function(){return{transcript_id:this.transcriptId,language:this.language,payload:this.payload,video_id:this.videoId}}},{key:"getHeaders",value:function(){return this.headers={headers:Object(f.a)({"Content-Type":"application/json"},localStorage.getItem("chitralekha_access_token")&&{Authorization:"Token ".concat(localStorage.getItem("chitralekha_access_token"))})},this.headers}},{key:"getPayload",value:function(){return this.transcript}}]),n}(ne),Kt=w.b.div(Ut||(Ut=Object(O.a)(["\n    position: relative;\n    box-shadow: 0px 5px 25px 5px rgb(0 0 0 / 80%);\n    background-color: rgb(0 0 0 / 100%);\n    z-index: 200;\n\n    .transcribe {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-evenly;\n        align-items: center;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n        height: 80px;\n\n        .heading {\n            h4 {\n                margin: 0;\n            }\n        }\n\n        .options {\n            display: flex;\n            width: 100%;\n            align-items: center;\n            justify-content: center;\n\n            span {\n                font-size: 18px;\n            }\n        }\n        \n        select {\n            width: 65%;\n            outline: none;\n            height: 35px;\n            border-radius: 3px;\n        }\n\n        .btn {\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 60%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #673ab7;\n            transition: all 0.2s ease 0s;\n            margin-right: 10px;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n    }\n\n    .reference {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-evenly;\n        align-items: center;\n        height: 80px;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n        h4 {\n            margin-bottom: 0;\n            margin-top: 0;\n        }\n    }\n\n    .ReactVirtualized__Table {\n        .ReactVirtualized__Table__Grid {\n            outline: none;\n        }\n\n        .ReactVirtualized__Grid__innerScrollContainer {\n            overflow: visible !important;\n        }\n\n        .ReactVirtualized__Table__row {\n            overflow: visible !important;\n            .item {\n                height: 100%;\n                padding: 10px;\n\n                ul {\n                    position: absolute !important;\n                    bottom: 200px !important;\n                    left: 0 !important;\n                    z-index: 9999 !important;\n                    height: 170px !important;\n                    width: 100% !important;\n                    transform: translate(0px, 0px) !important;\n                    display: block !important;\n\n                    li {\n                        color: #000 !important;\n                        border-bottom: 1px solid #999;\n                    }\n                }\n\n                .textarea {\n                    border: none;\n                    width: 100%;\n                    height: 100%;\n                    color: #fff;\n                    font-size: 12px;\n                    padding: 10px;\n                    text-align: center;\n                    background-color: rgba(255, 255, 255, 0.05);\n                    border: 1px solid rgba(255, 255, 255, 0.1);\n                    transition: all 0.2s ease;\n                    resize: none;\n                    outline: none;\n\n                    word-wrap: break-word;\n\n                    &.highlight {\n                        background-color: rgb(0 87 158);\n                        border: 1px solid rgba(255, 255, 255, 0.3);\n                    }\n\n                    &.illegal {\n                        background-color: rgb(123 29 0);\n                        border: 1px solid rgba(255, 255, 255, 0.3);\n                    }\n\n                    &.found {\n                        background-color: #FFFFCC;\n                        color: #000;\n                        border: 1px solid rgba(255, 255, 255, 0.3);\n                    }\n\n                    &.current-found {\n                        background-color: #FFFF33;\n                        color: #000;\n                        border: 1px solid rgba(255, 255, 255, 0.3);\n                    }\n                }\n            }\n        }\n    }\n"])));function Wt(e){var t=e.currentIndex,n=e.subtitle,i=(e.setSubtitleOriginal,e.checkSub),o=e.player,c=e.updateSub,s=e.language,l=e.setLoading,u=e.subtitleEnglish,d=e.formatSub,b=e.setSubtitle,g=e.notify,m=e.isPrimary,h=(e.clearedSubs,e.setClearedSubs,e.updateSubOriginal),O=void 0===h?null:h,x=e.clearSubs,y=e.setSubtitleEnglish,v=e.transcriptSource,S=(e.setTranscriptSource,e.found),k=e.currentFound,T=Object(a.useState)(100),w=Object(j.a)(T,2),E=w[0],N=w[1],R=Object(je.b)(),I={Youtube:"uos",AI4Bharat:"umg","Manual Upload":"mc"},A=Object(a.useState)(null),L=Object(j.a)(A,2),P=(L[0],L[1]),U=Object(a.useRef)(!1),B=Object(a.useRef)(!1),G=Object(a.useState)([]),M=Object(j.a)(G,2),H=M[0],V=M[1],X=Object(je.c)((function(e){return e.getTranscriptLanguages.data})),Y=Object(je.c)((function(e){return e.fetchTranscript.data})),J=Object(je.c)((function(e){return e.generateTranscript.data})),W=Object(je.c)((function(e){return e.apiStatus})),q=Object(a.useState)(!1),$=Object(j.a)(q,2),Z=$[0],Q=$[1],ee=function(){var e=Object(C.a)(_.a.mark((function e(){var t,a,r,i;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((null===n||void 0===n?void 0:n.length)>0)){e.next=14;break}return console.log(n,"test"),t={output:z(n)},console.log(t),a=new Jt(localStorage.getItem("transcript_id"),localStorage.getItem("langTranscribe"),localStorage.getItem("videoId"),t),e.next=7,fetch(a.apiEndPoint(),{method:"POST",body:JSON.stringify(a.getBody()),headers:a.getHeaders().headers});case 7:return r=e.sent,e.next=10,r.json();case 10:i=e.sent,console.log(i,"resp"),r.ok&&(localStorage.setItem("subtitleEnglish",JSON.stringify(n)),localStorage.setItem("transcript_id",i.id)),l("");case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){return localStorage.getItem("langTranscribe")?P(localStorage.getItem("langTranscribe")):P("en"),function(){var e=new Vt;R(Ee(e))}(),function(){ee()}}),[]),Object(a.useEffect)((function(){(null===n||void 0===n?void 0:n.length)>0&&!Z&&(Q(!0),setTimeout((function(){Q(!1)}),1e4))}),[n]),Object(a.useEffect)((function(){Z||ee()}),[Z]),Object(a.useEffect)((function(){if(null===X||void 0===X?void 0:X.data){var e=[];for(var t in X.data)e.push({name:"".concat(t),key:"".concat(X.data[t])});V(e),localStorage.setItem("langTranscribe",e[0].key),P(e[0].key)}}),[X]);var te=function(e,t){var n=r.a.useState((function(){var n=window.localStorage.getItem(t);return null!==n?JSON.parse(n):e})),a=Object(j.a)(n,2),i=a[0],o=a[1];return r.a.useEffect((function(){window.localStorage.setItem(t,JSON.stringify(i))}),[t,i]),[i,o]}("as","transcribed-view"),ne=Object(j.a)(te,2),ae=ne[0],re=ne[1],ie=Object(a.useCallback)((function(){N(document.body.clientHeight-240)}),[N]);Object(a.useEffect)((function(){if(ie(),!ie.init){ie.init=!0;var e=Fe()(ie,500);window.addEventListener("resize",e)}}),[ie]);var oe=Object(a.useCallback)((function(e){console.log(e),D(F(e)).then((function(e){y(d(e)),localStorage.setItem("subtitleEnglish",JSON.stringify(e)),l("")}))}),[y,l,d]);Object(a.useEffect)((function(){var e;console.log(Y,"transcript"),U.current&&(null===(e=Y.data)||void 0===e?void 0:e.output)&&(U.current=!1,localStorage.setItem("transcript_id",Y.id),oe(Y.data.output))}),[Y]),Object(a.useEffect)((function(){if(B.current&&(null===W||void 0===W?void 0:W.error))if(console.log(W.error,"errror"),"AI4Bharat"===v)!function(){var e=new Yt(localStorage.getItem("videoId"),localStorage.getItem("langTranscribe"));R(Ee(e))}(),B.current=!1;else if("Youtube"===v){var e=new Xt(localStorage.getItem("videoId"),localStorage.getItem("langTranscribe"),"os",!0);R(Ee(e)),B.current=!1}else B.current=!1,U.current=!1,l("")}),[W]),Object(a.useEffect)((function(){var e;U.current&&(null===(e=J.data)||void 0===e?void 0:e.output)&&(U.current=!1,localStorage.setItem("transcript_id",J.id),oe(J.data.output))}),[J]),console.log(J,"generate"),console.log(v,"transcriptSource");var ce=Object(a.useCallback)((function(){l(Object(p.t)("TRANSCRIBING")),U.current=!0,function(){console.log(v,"transcriptSource"),console.log(I[v],"transcriptSource");var e=new Xt(localStorage.getItem("videoId"),localStorage.getItem("langTranscribe"),I[v],!0);R(Ee(e)),B.current=!0}()}),[l,d,b,g,x,o,y,v]);return Object(K.jsxs)(Kt,{className:"subtitles",children:[m&&Object(K.jsxs)("div",{className:"transcribe",children:[Object(K.jsx)("div",{className:"heading",children:Object(K.jsxs)("h4",{children:["Speech-To-Text",(null===n||void 0===n?void 0:n.length)>0&&Object(K.jsx)("span",{title:"Save Transcript",className:"save-btn",onClick:ee,children:"\ud83d\udcbe"})]})}),Object(K.jsxs)("div",{className:"options",children:[Object(K.jsx)("select",{value:ae,onChange:function(e){re(e.target.value),localStorage.setItem("langTranscribe",e.target.value),P(localStorage.getItem("langTranscribe"))},children:(H[s]||H.en||H).map((function(e){return Object(K.jsx)("option",{value:e.key,children:e.name},e.key)}))}),Object(K.jsx)("div",{className:"btn",onClick:ce,children:Object(K.jsx)(p.Translate,{value:"TRANSCRIBE"})})]})]}),!m&&Object(K.jsxs)("div",{className:"reference",children:[Object(K.jsx)("h4",{children:"Reference Subtitles"}),Object(K.jsxs)("span",{children:["Language : ",Ie.en.filter((function(e){return e.key===s}))[0].name]})]}),Object(K.jsx)(Ae.a,{headerHeight:40,width:250,height:E,rowHeight:80,scrollToIndex:t+2,rowCount:u.length,rowGetter:function(e){var t=e.index;return u[t]},headerRowRenderer:function(){return null},rowRenderer:function(e){return Object(K.jsx)("div",{className:e.className,style:e.style,onClick:function(){o&&(o.pause(),o.duration>=e.rowData.startTime&&(o.currentTime=e.rowData.startTime+.001))},children:Object(K.jsx)("div",{className:"item",children:Object(K.jsx)(ze.a,{className:["textarea",t===e.index?"highlight":"",i(e.rowData)?"illegal":"",S.includes(e.index)?"found":"",S[k]===e.index?"current-found":""].join(" ").trim(),value:Pe()(e.rowData.text),spellCheck:!1,onChangeText:function(t){c(e.rowData,{text:t})},onBlur:function(){return t=e.rowData,n=e.index,void(m||Be([{text:t.text}],localStorage.getItem("langTranscribe")).then((function(e){O(t,e[0],n)})));var t,n},enabled:!(!localStorage.getItem("langTranscribe")||"en"===localStorage.getItem("langTranscribe")||"en-k"===localStorage.getItem("langTranscribe")),lang:localStorage.getItem("langTranscribe"),maxOptions:5,renderComponent:function(e){return Object(K.jsx)("textarea",Object(f.a)({},e))}})})},e.key)}})]})}function qt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!e.trim())return Promise.resolve("");var t=new URL("".concat("http://216.48.181.177:5050","/lemmatize_sentence"));return t.searchParams.append("sentence",e),t.searchParams.append("lang","en"),new Promise((function(e,n){fetch(t.href).then((function(e){return e.json()})).then((function(t){e(t||"")})).catch((function(e){n(e)}))}))}function $t(){return Zt.apply(this,arguments)}function Zt(){return(Zt=Object(C.a)(_.a.mark((function e(){var t,n,a=arguments;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:[],n=a.length>1?a[1]:void 0,e.abrupt("return",new Promise((function(e,a){var r=[];!function i(){var o=t.shift();o?qt(o.text,n).then((function(e){o.text=e,r.push(o),u(100).then(i)})).catch((function(e){a(e)})):e(r)}()})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Qt=w.b.div(Bt||(Bt=Object(O.a)(["\n    position: relative;\n    box-shadow: 0px 5px 25px 5px rgb(0 0 0 / 80%);\n    background-color: rgb(0 0 0 / 100%);\n\n    .translate {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-evenly;\n        align-items: center;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n        height: 80px;\n\n        .heading {\n            h4 {\n                margin: 0;\n            }\n        }\n\n        .options {\n            display: flex;\n            width: 90%;\n        }\n\n        select {\n            width: 65%;\n            outline: none;\n            height: 35px;\n            border-radius: 3px;\n        }\n\n        .btn {\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 100%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #673ab7;\n            transition: all 0.2s ease 0s;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n    }\n\n    .reference {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-evenly;\n        align-items: center;\n        height: 80px;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n        h4 {\n            margin-bottom: 0;\n            margin-top: 0;\n        }\n    }\n\n    .ReactVirtualized__Table {\n        .ReactVirtualized__Table__Grid {\n            outline: none;\n        }\n\n        .ReactVirtualized__Grid__innerScrollContainer {\n            overflow: visible !important;\n        }\n\n        .ReactVirtualized__Table__row {\n            overflow: visible !important;\n            .item {\n                height: 100%;\n                padding: 10px;\n\n                ul {\n                    position: absolute !important;\n                    bottom: 200px !important;\n                    left: 0 !important;\n                    z-index: 9999 !important;\n                    height: 170px !important;\n                    width: 100% !important;\n                    transform: translate(0px, 0px) !important;\n                    display: block !important;\n\n                    li {\n                        color: #000 !important;\n                        border-bottom: 1px solid #999;\n                    }\n                }\n\n                .textarea {\n                    border: none;\n                    width: 100%;\n                    height: 100%;\n                    color: #fff;\n                    font-size: 12px;\n                    padding: 10px;\n                    text-align: center;\n                    background-color: rgba(255, 255, 255, 0.05);\n                    border: 1px solid rgba(255, 255, 255, 0.1);\n                    transition: all 0.2s ease;\n                    resize: none;\n                    outline: none;\n\n                    word-wrap: break-word;\n\n                    &.highlight {\n                        background-color: rgb(0 87 158);\n                        border: 1px solid rgba(255, 255, 255, 0.3);\n                    }\n\n                    &.illegal {\n                        background-color: rgb(123 29 0);\n                        border: 1px solid rgba(255, 255, 255, 0.3);\n                    }\n                }\n            }\n        }\n    }\n"])));function en(e){var t=e.currentIndex,n=e.subtitle,r=(e.setSubtitleOriginal,e.checkSub),i=e.player,o=e.updateSub,c=e.language,s=e.setLoading,l=(e.subtitleEnglish,e.formatSub),u=e.setSubtitle,d=e.notify,b=e.isPrimary,g=e.clearedSubs,m=(e.setClearedSubs,e.updateSubOriginal),h=void 0===m?null:m,O=Object(a.useState)(100),x=Object(j.a)(O,2),y=x[0],v=x[1],S=Object(a.useState)(null),k=Object(j.a)(S,2),T=k[0],w=k[1],E=Object(a.useCallback)((function(){v(document.body.clientHeight-240)}),[v]);Object(a.useEffect)((function(){if(E(),!E.init){E.init=!0;var e=Fe()(E,500);window.addEventListener("resize",e)}}),[E]);var _=Object(a.useCallback)((function(){return s(Object(p.t)("TRANSLATING")),g?Be(l(JSON.parse(window.localStorage.getItem("subsBeforeClear"))),"en").then((function(e){$t(l(e),T).then((function(e){s(""),u(l(e)),d({message:Object(p.t)("TRANSLAT_SUCCESS"),level:"success"})})).catch((function(e){s(""),d({message:e.message,level:"error"})}))})).catch((function(e){s(""),d({message:e.message,level:"error"})})):Be(l(n),"en").then((function(e){$t(l(e),T).then((function(e){s(""),u(l(e)),d({message:Object(p.t)("TRANSLAT_SUCCESS"),level:"success"})})).catch((function(e){s(""),d({message:e.message,level:"error"})}))})).catch((function(e){s(""),d({message:e.message,level:"error"})}))}),[n,s,l,u,T,d,g]);return Object(a.useEffect)((function(){localStorage.getItem("lang")?w(localStorage.getItem("lang")):w("en")}),[]),n&&Object(K.jsxs)(Qt,{className:"subtitles",children:[b&&Object(K.jsxs)("div",{className:"translate",children:[Object(K.jsx)("div",{className:"heading",children:Object(K.jsx)("h4",{children:" Sign Language Subtitling"})}),Object(K.jsx)("div",{className:"options",children:Object(K.jsx)("div",{className:"btn",onClick:_,children:Object(K.jsx)(p.Translate,{value:"TRANSLATE"})})})]}),!b&&Object(K.jsxs)("div",{className:"reference",children:[Object(K.jsx)("h4",{children:"Reference Subtitles"}),Object(K.jsxs)("span",{children:["Language : ",Ie.en.filter((function(e){return e.key===c}))[0].name]})]}),Object(K.jsx)(Ae.a,{headerHeight:40,width:250,height:y,rowHeight:80,scrollToIndex:t+2,rowCount:n.length,rowGetter:function(e){var t=e.index;return n[t]},headerRowRenderer:function(){return null},rowRenderer:function(e){return Object(K.jsx)("div",{className:e.className,style:e.style,onClick:function(){i&&(i.pause(),i.duration>=e.rowData.startTime&&(i.currentTime=e.rowData.startTime+.001))},children:Object(K.jsx)("div",{className:"item",children:Object(K.jsx)(ze.a,{className:["textarea",t===e.index?"highlight":"",r(e.rowData)?"illegal":""].join(" ").trim(),value:Pe()(e.rowData.text),spellCheck:!1,onChangeText:function(t){o(e.rowData,{text:t})},onBlur:function(){return t=e.rowData,n=e.index,void(b||Be([{text:t.text}],localStorage.getItem("lang")).then((function(e){h(t,e[0],n)})));var t,n},enabled:!1,lang:b?"en-k"===localStorage.getItem("lang")?"en":localStorage.getItem("lang"):"en",maxOptions:5,renderComponent:function(e){return Object(K.jsx)("textarea",Object(f.a)({},e))}})})},e.key)}})]})}var tn,nn,an=function(e){var t=e.showFindAndReplace,n=e.setShowFindAndReplace,a=e.find,r=e.setFind,i=e.replace,o=e.setReplace,c=e.found,s=e.setFound,l=e.handleReplace,u=e.handleReplaceAll,d=e.handleFind,b=e.currentFound,g=e.setCurrentFound,p=e.configuration;return Object(K.jsx)("div",{className:"".concat(t?"":"active"," show"),children:Object(K.jsx)("div",{className:"login-form",children:Object(K.jsxs)("div",{className:"form-box solid",children:[Object(K.jsx)("button",{type:"button",className:"close-btn",onClick:function(){n(!1),r(""),o(""),s([]),g()},children:"x"}),Object(K.jsxs)("form",{className:"login-form-form",children:[Object(K.jsx)("h1",{className:"login-text",children:"Find and Replace"}),Object(K.jsx)("label",{children:"Find"}),Object(K.jsx)("br",{}),Object(K.jsx)(ze.a,{className:"login-box",value:a,spellCheck:!1,onChangeText:function(e){r(e)},lang:"Subtitling"===p?localStorage.getItem("langTranslate"):localStorage.getItem("langTranscribe"),enabled:"Subtitling"===p?!(!localStorage.getItem("langTranslate")||"en"===localStorage.getItem("langTranslate")||"en-k"===localStorage.getItem("langTranslate")):!(!localStorage.getItem("langTranscribe")||"en"===localStorage.getItem("langTranscribe")||"en-k"===localStorage.getItem("langTranscribe")),maxOptions:5,rows:1,renderComponent:function(e){return Object(K.jsx)("textarea",Object(f.a)({},e))}}),Object(K.jsx)("br",{}),Object(K.jsx)("button",{type:"button",className:"login-btn",onClick:d,children:"Find"}),null!==b&&c.length>0&&Object(K.jsxs)("div",{className:"found-toggle",children:[Object(K.jsxs)("p",{className:"found-num",children:[b+1," / ",c.length]}),Object(K.jsx)("button",{type:"button",className:"login-btn",onClick:function(){return g(b-1)},disabled:0===b,children:"Prev"}),Object(K.jsx)("button",{type:"button",className:"login-btn",onClick:function(){return g(b+1)},disabled:b===c.length-1,children:"Next"})]}),Object(K.jsx)("label",{children:"Replace"}),Object(K.jsx)("br",{}),Object(K.jsx)(ze.a,{className:"login-box",value:i,spellCheck:!1,onChangeText:function(e){o(e)},lang:"Subtitling"===p?localStorage.getItem("langTranslate"):localStorage.getItem("langTranscribe"),enabled:"Subtitling"===p?!(!localStorage.getItem("langTranslate")||"en"===localStorage.getItem("langTranslate")||"en-k"===localStorage.getItem("langTranslate")):!(!localStorage.getItem("langTranscribe")||"en"===localStorage.getItem("langTranscribe")||"en-k"===localStorage.getItem("langTranscribe")),maxOptions:5,rows:1,renderComponent:function(e){return Object(K.jsx)("textarea",Object(f.a)({},e))}}),Object(K.jsx)("br",{}),Object(K.jsxs)("div",{className:"found-toggle",children:[Object(K.jsx)("button",{type:"button",className:"login-btn",onClick:l,disabled:0===c.length,children:"Replace"}),Object(K.jsx)("button",{type:"button",className:"login-btn",onClick:u,disabled:0===c.length,children:"Replace All"})]})]})]})})})},rn=w.b.div(tn||(tn=Object(O.a)(["\n    height: 100%;\n    width: 100%;\n\n    .main {\n        display: flex;\n        height: calc(100% - 200px);\n\n        .main-center {\n            flex: 1;\n            display: flex;\n            flex-direction: column;\n\n            .header {\n                display: flex;\n                flex-direction: row;\n                justify-content: space-between;\n            }\n            \n            .player {\n                flex: 1;\n            }\n        }\n\n        .subtitles {\n            width: 250px;\n            max-width: 32vw;\n        }\n\n        .tool {\n            width: 300px;\n        }\n    }\n\n    .footer {\n        height: 200px;\n    }\n"])));function on(e){var t,n,r=e.defaultLang,i=Object(a.useRef)([]),o=Object(a.useRef)(null),c=Object(a.useState)(null),s=Object(j.a)(c,2),l=s[0],u=s[1],d=Object(a.useState)(""),g=Object(j.a)(d,2),p=g[0],m=g[1],h=Object(a.useState)(0),O=Object(j.a)(h,2),x=O[0],v=O[1],k=Object(a.useState)(r),w=Object(j.a)(k,2),E=w[0],_=w[1],C=Object(a.useState)([]),N=Object(j.a)(C,2),R=N[0],I=N[1],A=Object(a.useState)([]),P=Object(j.a)(A,2),D=P[0],F=P[1],z=Object(a.useState)(null),U=Object(j.a)(z,2),B=U[0],G=U[1],M=Object(a.useState)(!1),H=Object(j.a)(M,2),V=H[0],X=H[1],Y=Object(a.useState)(0),J=Object(j.a)(Y,2),W=J[0],q=J[1],$=Object(a.useState)(-1),Z=Object(j.a)($,2),Q=Z[0],ee=Z[1],te=Object(a.useState)(!1),ne=Object(j.a)(te,2),ae=ne[0],re=ne[1],ie=Object(a.useState)([]),oe=Object(j.a)(ie,2),ce=oe[0],se=oe[1],le=Object(a.useState)(""),ue=Object(j.a)(le,2),de=ue[0],be=ue[1],ge=Object(a.useState)(!1),pe=Object(j.a)(ge,2),me=pe[0],he=pe[1],fe=Object(a.useState)(!1),je=Object(j.a)(fe,2),Oe=je[0],xe=je[1],ye=Object(a.useState)(!1),ve=Object(j.a)(ye,2),Se=ve[0],ke=ve[1],we=Object(a.useState)(!1),Ee=Object(j.a)(we,2),_e=Ee[0],Ce=Ee[1],Re=Object(a.useState)(!1),Ie=Object(j.a)(Re,2),Ae=Ie[0],Le=Ie[1],Pe=Object(a.useState)(100),De=Object(j.a)(Pe,2),ze=(De[0],De[1]),Ue=Object(a.useState)("AI4Bharat"),Be=Object(j.a)(Ue,2),Ge=Be[0],Me=Be[1],He=Object(a.useState)(!1),Ve=Object(j.a)(He,2),Xe=Ve[0],Ye=Ve[1],Je=Object(a.useState)(""),Ke=Object(j.a)(Je,2),qe=Ke[0],$e=Ke[1],Ze=Object(a.useState)(""),Qe=Object(j.a)(Ze,2),et=Qe[0],tt=Qe[1],at=Object(a.useState)([]),rt=Object(j.a)(at,2),it=rt[0],ot=rt[1],ct=Object(a.useState)(),st=Object(j.a)(ct,2),lt=st[0],ut=st[1],dt=Object(a.useCallback)((function(e){return new L(e)}),[]),bt=Object(a.useCallback)((function(e){return R.indexOf(e)}),[R]),gt=Object(a.useCallback)((function(e){return D.indexOf(e)}),[D]),pt=Object(a.useCallback)((function(){ze(document.body.clientHeight-240)}),[ze]);Object(a.useEffect)((function(){if(pt(),!pt.init){pt.init=!0;var e=Fe()(pt,500);window.addEventListener("resize",e)}}),[pt]);var mt=Object(a.useCallback)((function(e){return Array.isArray(e)?e.map((function(e){return dt(e)})):dt(e)}),[dt]),ht=Object(a.useCallback)((function(){return mt(R)}),[R,mt]),ft=Object(a.useCallback)((function(){return mt(D)}),[D,mt]),jt=Object(a.useCallback)((function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];T()(e,R)||(t&&(i.current.length>=1e3&&i.current.shift(),i.current.push(mt(R))),window.localStorage.setItem("subtitle",JSON.stringify(e)),I(e))}),[R,I,mt]),Ot=Object(a.useCallback)((function(){var e=i.current.pop();e&&jt(e,!1)}),[jt,i]),xt=Object(a.useCallback)((function(){jt([]),i.current.length=0}),[jt,i]),yt=Object(a.useCallback)((function(){F([]),i.current.length=0}),[F,i]),vt=Object(a.useCallback)((function(e){var t=bt(e);if(!(t<0)){var n=R[t-1];return n&&e.startTime<n.endTime||!e.check||e.duration<.2}}),[R,bt]),St=Object(a.useCallback)((function(e){var t=o.current;t.clearNotifications(),t.addNotification({position:"tc",dismissible:"none",autoDismiss:2,message:e.message,level:e.level})}),[o]),kt=Object(a.useCallback)((function(e){var t=bt(e),n=gt(e);if(console.log(D),console.log(t,n),t>=0){var a=ht();a.splice(t,1),jt(a)}if((t>=0||n>=0)&&D){console.log("here");var r=ft();r.splice(t>=0?t:n,1),console.log(r),F(r),localStorage.setItem("subtitleEnglish",JSON.stringify(r))}}),[bt,ht,jt,ft,D]),Tt=Object(a.useCallback)((function(e,t){var n=ht();if(n.splice(e,0,mt(t)),jt(n),D){var a=ft();a.splice(e,0,mt(t)),F(a),localStorage.setItem("subtitleEnglish",JSON.stringify(a))}}),[ht,jt,mt,ft,D]),wt=Object(a.useCallback)((function(e,t){var n=bt(e);if(!(n<0)){var a=ht(),r=mt(e);Object.assign(r,t),r.check&&(a[n]=r,jt(a))}}),[bt,ht,jt,mt]),Et=Object(a.useCallback)((function(e,t){var n=gt(e);if(!(n<0)){var a=ft(),r=mt(e);Object.assign(r,t),r.check&&(a[n]=r,F(a))}}),[gt,ft,F,mt]),_t=Object(a.useCallback)((function(e,t,n){var a=ht(),r=mt(e);Object.assign(r,t),r.check&&(a[n]=r,jt(a))}),[ht,jt,mt]),Ct=Object(a.useCallback)((function(e){var t=bt(e),n=gt(e);if(t>=0){var a=ht(),r=a[t+1];if(r){var i=dt({start:e.start,end:r.end,text:e.text.trim()+"\n"+r.text.trim()});a[t]=i,a.splice(t+1,1),jt(a)}}if((t>=0||n>=0)&&D){var o=ft(),c=o[t>=0?t+1:n+1];if(!c)return;var s=dt({start:e.start,end:c.end,text:o[t>=0?t:n].text.trim()+"\n"+c.text.trim()});o[t>=0?t:n]=s,o.splice(t>=0?t+1:n+1,1),F(o),localStorage.setItem("subtitleEnglish",JSON.stringify(o))}}),[bt,ht,jt,dt,ft,D]),Nt=Object(a.useCallback)((function(e,t){var n=bt(e),a=gt(e);if(!(n<0&&a<0)&&e.text&&t&&a>=0){var r=ft(),i=e.text.slice(0,t).trim(),o=e.text.slice(t).trim();if(!i||!o)return;var c=(e.duration*(t/e.text.length)).toFixed(3);if(c<.2||e.duration-c<.2)return;r.splice(a,1);var s=S.a.d2t(e.startTime+parseFloat(c));r.splice(a,0,dt({start:e.start,end:s,text:i})),r.splice(a+1,0,dt({start:s,end:e.end,text:o})),F(r),localStorage.setItem("subtitleEnglish",JSON.stringify(r))}}),[bt,gt,ht,ft,jt,F,dt]),Rt=Object(a.useCallback)((function(e){switch(b(e)){case 32:e.preventDefault(),l&&(V?l.pause():l.play());break;case 90:e.preventDefault(),e.metaKey&&Ot();break;case 70:e.preventDefault(),!e.ctrlKey||"Subtitling"!==de&&"Same Language Subtitling"!==de||(e.preventDefault(),null===l||void 0===l||l.pause(),Ye(!0))}}),[l,V,Ot,de]);Object(a.useEffect)((function(){return window.addEventListener("keydown",Rt),function(){return window.removeEventListener("keydown",Rt)}}),[Rt]),Object(a.useMemo)((function(){var e="Subtitling"===de?R.findIndex((function(e){return e.startTime<=W&&e.endTime>W})):D.findIndex((function(e){return e.startTime<=W&&e.endTime>W}));ee(e)}),[W,R]),Object(a.useEffect)((function(){var e=window.localStorage.getItem("subtitle"),t=window.localStorage.getItem("subtitleEnglish");if(e)try{var n=JSON.parse(e);n.length&&I(n.map((function(e){return new L(e)})))}catch(Te){}if(t)try{var a=JSON.parse(t);a.length?F(a.map((function(e){return new L(e)}))):F([])}catch(Te){F([])}}),[I,F]);var At={player:l,setPlayer:u,subtitle:R,setSubtitle:jt,waveform:B,setWaveform:G,currentTime:W,setCurrentTime:q,currentIndex:Q,setCurrentIndex:ee,playing:V,setPlaying:X,language:E,setLanguage:_,loading:p,setLoading:m,setProcessing:v,subtitleHistory:i,subtitleEnglish:D,setSubtitleEnglish:F,notify:St,newSub:dt,hasSub:bt,checkSub:vt,removeSub:kt,addSub:Tt,undoSubs:Ot,clearSubs:xt,updateSub:wt,formatSub:mt,mergeSub:Ct,splitSub:Nt,clearSubsEnglish:yt,updateSubEnglish:Et,setSubtitleOriginal:I,clearedSubs:ae,setClearedSubs:re,subsBeforeClear:ce,setSubsBeforeClear:se,configuration:de,setConfiguration:be,updateSubTranslate:_t,enableConfiguration:me,setEnableConfiguration:he,isSetVideo:Oe,setIsSetVideo:xe,isSetConfiguration:Se,setIsSetConfiguration:ke,isTranslateClicked:Ae,setIsTranslateClicked:Le,transcriptSource:Ge,setTranscriptSource:Me,showFindAndReplace:Xe,setShowFindAndReplace:Ye,find:qe,setFind:$e,replace:et,setReplace:tt,found:it,setFound:ot,handleReplace:function(){if(!(lt<0||lt>=it.length)){var e=it[lt],t=("Subtitling"===de?R[e]:D[e]).text.replace(new RegExp(qe,"gi"),et);if("Subtitling"===de){var n=ht();n[e].text=t,jt(n)}else if("Same Language Subtitling"===de){var a=ft();a[e].text=t,F(a)}ut(lt+1),ot(it.filter((function(t){return t!==e})))}},handleReplaceAll:function(){if(0!==it.length){if("Subtitling"===de){for(var e=ht(),t=0;t<it.length;t++){var n=it[t];e[n].text=R[n].text.replace(new RegExp(qe,"gi"),et)}jt(e)}else if("Same Language Subtitling"===de){for(var a=ft(),r=0;r<it.length;r++){var i=it[r];a[i].text=D[i].text.replace(new RegExp(qe,"gi"),et)}F(a)}ot([]),ut()}},handleFind:function(){var e=[];if("Subtitling"===de)for(var t=0;t<R.length;t++){R[t].text.toLowerCase().includes(qe.toLowerCase())&&e.push(t)}else if("Same Language Subtitling"===de)for(var n=0;n<D.length;n++){D[n].text.toLowerCase().includes(qe.toLowerCase())&&e.push(n)}ot(e),e.length>0&&ut(0)},currentFound:lt,setCurrentFound:ut};return Object(K.jsxs)(rn,{children:[Object(K.jsxs)("div",{className:"main",children:[Object(K.jsxs)("div",{className:"main-center",children:[Object(K.jsxs)("div",{className:"header",children:[Object(K.jsx)(zt,{}),Object(K.jsx)("div",{style:{zIndex:200},children:localStorage.getItem("user_id")?Object(K.jsxs)("div",{children:[Object(K.jsx)("div",{className:"user-details",children:Object(K.jsxs)("div",{className:"user-initials",children:[null===(t=localStorage.getItem("first_name"))||void 0===t?void 0:t.charAt(0).toUpperCase(),null===(n=localStorage.getItem("last_name"))||void 0===n?void 0:n.charAt(0).toUpperCase()]})}),Object(K.jsx)("ul",{className:"user-menu",children:Object(K.jsx)("li",{onClick:function(){localStorage.clear(),window.location.reload()},children:"Logout"})})]}):Object(K.jsx)("span",{onClick:function(){return Ce(!_e)},className:"loginicon",children:"Sign In"})})]}),Object(K.jsx)(nt,Object(f.a)({},At))]}),""===de&&Object(K.jsx)(K.Fragment,{}),"Subtitling"===de&&Object(K.jsx)("div",{className:{overflow:"visible"},children:Object(K.jsxs)("div",{style:{display:"flex",position:"relative",height:"90%",zIndex:"200"},children:[Object(K.jsx)(We,{currentIndex:At.currentIndex,subtitle:At.subtitleEnglish,checkSub:At.checkSub,player:At.player,updateSub:At.updateSubEnglish,language:At.language,setLanguage:At.setLanguage,setLoading:At.setLoading,subtitleEnglish:At.subtitleEnglish,formatSub:At.formatSub,setSubtitle:At.setSubtitle,notify:At.notify,isPrimary:!1,configuration:At.configuration,setConfiguration:At.setConfiguration,updateSubOriginal:At.updateSubTranslate,found:At.found,currentFound:At.currentFound}),Object(K.jsx)(We,{currentIndex:At.currentIndex,subtitle:At.subtitle,checkSub:At.checkSub,player:At.player,updateSub:At.updateSub,language:At.language,setLanguage:At.setLanguage,setLoading:At.setLoading,subtitleEnglish:At.subtitleEnglish,formatSub:At.formatSub,setSubtitle:At.setSubtitle,notify:At.notify,isPrimary:!0,clearedSubs:At.clearedSubs,setClearedSubs:At.setClearedSubs,setSubtitleOriginal:At.setSubtitleOriginal,configuration:At.configuration,setConfiguration:At.setConfiguration,isTranslateClicked:At.isTranslateClicked,setIsTranslateClicked:At.setIsTranslateClicked,found:At.found,currentFound:At.currentFound})]})}),"Sign Language Subtitling"===de&&Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(en,{currentIndex:At.currentIndex,subtitle:At.subtitleEnglish,checkSub:At.checkSub,player:At.player,updateSub:At.updateSubEnglish,language:At.language,setLanguage:At.setLanguage,setLoading:At.setLoading,subtitleEnglish:At.subtitleEnglish,formatSub:At.formatSub,setSubtitle:At.setSubtitle,notify:At.notify,isPrimary:!1,configuration:At.configuration,setConfiguration:At.setConfiguration,updateSubOriginal:At.updateSubTranslate}),Object(K.jsx)(en,{currentIndex:At.currentIndex,subtitle:At.subtitle,checkSub:At.checkSub,player:At.player,updateSub:At.updateSub,language:At.language,setLanguage:At.setLanguage,setLoading:At.setLoading,subtitleEnglish:At.subtitleEnglish,formatSub:At.formatSub,setSubtitle:At.setSubtitle,notify:At.notify,isPrimary:!0,clearedSubs:At.clearedSubs,setClearedSubs:At.setClearedSubs,setSubtitleOriginal:At.setSubtitleOriginal,configuration:At.configuration,setConfiguration:At.setConfiguration})]}),"Same Language Subtitling"===de&&Object(K.jsx)(K.Fragment,{children:Object(K.jsx)(Wt,{currentIndex:At.currentIndex,subtitle:At.subtitleEnglish,checkSub:At.checkSub,player:At.player,updateSub:At.updateSubEnglish,language:At.language,setLanguage:At.setLanguage,setLoading:At.setLoading,subtitleEnglish:At.subtitleEnglish,formatSub:At.formatSub,setSubtitle:At.setSubtitle,notify:At.notify,isPrimary:!0,clearedSubs:At.clearedSubs,setClearedSubs:At.setClearedSubs,setSubtitleOriginal:At.setSubtitleOriginal,configuration:At.configuration,setConfiguration:At.setConfiguration,clearSubs:At.clearSubs,setSubtitleEnglish:At.setSubtitleEnglish,updateSubOriginal:At.updateSubTranslate,transcriptSource:At.transcriptSource,setTranscriptSource:At.setTranscriptSource,found:At.found,currentFound:At.currentFound})}),Object(K.jsx)(Ht,{showLogin:_e,setShowLogin:Ce}),Object(K.jsx)(Ne,Object(f.a)({},At)),Object(K.jsx)(an,{find:At.find,replace:At.replace,found:At.found,setFind:At.setFind,setReplace:At.setReplace,setFound:At.setFound,showFindAndReplace:At.showFindAndReplace,setShowFindAndReplace:At.setShowFindAndReplace,handleReplace:At.handleReplace,handleReplaceAll:At.handleReplaceAll,handleFind:At.handleFind,currentFound:At.currentFound,setCurrentFound:At.setCurrentFound,configuration:At.configuration})]}),Oe&&Object(K.jsx)(It,Object(f.a)({},At)),p?Object(K.jsx)(Pt,{loading:p}):null,x>0&&x<100?Object(K.jsx)(Ft,{processing:x}):null,Object(K.jsx)(y.a,{ref:o,allowHTML:!0})]})}var cn,sn=w.b.div(nn||(nn=Object(O.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n    width: 100%;\n"])));function ln(){return Object(K.jsx)(sn,{children:Object(K.jsx)(p.Translate,{value:"MOBILE_TIP"})})}var un=Object(w.a)(cn||(cn=Object(O.a)(["\n    html,\n    body,\n    #root {\n        height: 100%;\n    }\n\n    body {\n        font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;\n        line-height: 1.5;\n        overflow: hidden;\n    }\n\n    *, *::before, *::after {\n        box-sizing: border-box;\n    }\n\n    #root {\n        display: flex;\n        font-size: 14px;\n        color: #ccc;\n        background-color: rgb(0 0 0 / 90%);\n    }\n\n    ::-webkit-scrollbar {\n        width: 5px;\n    }\n\n    ::-webkit-scrollbar-thumb {\n        background-color: #999;\n    }\n\n    ::-webkit-scrollbar-thumb:hover {\n        background-color: #ccc;\n    }\n"]))),dn=n(86),bn=n(326),gn=(n(779),n(780),n(327)),pn=n(325),mn={data:{}},hn={data:{}},fn={data:{}},jn={data:{}},On={data:{}},xn={data:{}},yn={data:{}},vn={data:{}},Sn={data:{}},kn={apiStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce:return t.payload;default:return e}},getVideoDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se:return Object(f.a)(Object(f.a)({},e),{},{data:t.payload});default:return Object(f.a)({},e)}},fetchTranscript:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le:return Object(f.a)(Object(f.a)({},e),{},{data:t.payload});default:return Object(f.a)({},e)}},getTranscriptLanguages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue:return Object(f.a)(Object(f.a)({},e),{},{data:t.payload});default:return Object(f.a)({},e)}},generateTranscript:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de:return Object(f.a)(Object(f.a)({},e),{},{data:t.payload});default:return Object(f.a)({},e)}},saveTranscript:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be:return Object(f.a)(Object(f.a)({},e),{},{data:t.payload});default:return Object(f.a)({},e)}},generateTranslation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge:return Object(f.a)(Object(f.a)({},e),{},{data:t.payload});default:return Object(f.a)({},e)}},getTranslationLanguages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe:return Object(f.a)(Object(f.a)({},e),{},{data:t.payload});default:return Object(f.a)({},e)}},saveTranslation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:return Object(f.a)(Object(f.a)({},e),{},{data:t.payload});default:return Object(f.a)({},e)}},fetchTranslation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he:return Object(f.a)(Object(f.a)({},e),{},{data:t.payload});default:return Object(f.a)({},e)}}},Tn=[],wn={key:"root",storage:n.n(pn).a},En=Object(gn.a)(wn,kn);Tn.push(bn.a);var _n=Object(dn.createStore)((function(e,t){return"LOGOUT"===t.type&&(e=void 0),En(e,t)}),{},Object(dn.compose)(dn.applyMiddleware.apply(void 0,Tn)));Object(p.setTranslations)(h);var Cn=navigator.language.toLowerCase(),Nn=h[Cn]?Cn:"en";Object(p.setLocale)(Nn),o.a.render(Object(K.jsx)(r.a.Fragment,{children:Object(K.jsxs)(je.a,{store:_n,children:[Object(K.jsx)(un,{}),s?Object(K.jsx)(ln,{}):Object(K.jsx)(on,{defaultLang:Nn})]})}),document.getElementById("root"))}},[[783,1,2]]]);
//# sourceMappingURL=main.e3fd0491.chunk.js.map