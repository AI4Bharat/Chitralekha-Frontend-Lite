(this.webpackJsonpsubplayer=this.webpackJsonpsubplayer||[]).push([[0],{596:function(e,n,t){},704:function(e,n,t){},723:function(e,n,t){"use strict";t.r(n);t(299),t(303),t(304),t(305),t(306),t(307),t(308),t(309),t(310),t(311),t(312),t(313),t(314),t(315),t(316),t(317),t(318),t(319),t(320),t(321),t(322),t(323),t(324),t(326),t(327),t(141),t(328),t(329),t(330),t(331),t(332),t(333),t(334),t(335),t(336),t(337),t(338),t(339),t(340),t(342),t(343),t(344),t(192),t(345),t(346),t(347),t(348),t(349),t(350),t(351),t(352),t(353),t(354),t(355),t(357),t(358),t(359),t(360),t(361),t(362),t(363),t(364),t(365),t(366),t(367),t(368),t(369),t(370),t(371),t(373),t(374),t(376),t(377),t(378),t(379),t(380),t(381),t(382),t(383),t(384),t(385),t(386),t(387),t(388),t(389),t(390),t(391),t(392),t(393),t(394),t(395),t(397),t(398),t(403),t(404),t(405),t(407),t(408),t(409),t(410),t(411),t(412),t(413),t(414),t(415),t(416),t(417),t(248),t(420),t(421),t(422),t(423),t(424),t(425),t(426),t(250),t(427),t(428),t(429),t(430),t(431),t(432),t(433),t(434),t(435),t(436),t(437),t(438),t(439),t(440),t(441),t(442),t(443),t(444),t(445),t(446),t(447),t(448),t(449),t(450),t(451),t(452),t(456),t(457),t(458),t(459),t(460),t(461),t(462),t(463),t(464),t(465),t(466),t(467),t(470),t(471),t(472),t(473),t(474),t(475),t(476),t(477),t(478),t(479),t(480),t(481),t(482),t(483),t(484),t(485),t(486),t(487),t(488),t(489),t(490),t(202),t(491),t(492),t(498),t(499),t(500),t(501),t(502),t(504),t(505),t(506),t(507),t(508),t(509),t(510),t(511),t(513),t(514),t(515),t(516),t(517),t(518),t(519),t(520),t(521),t(522),t(523),t(524),t(525),t(526),t(527),t(528),t(529),t(530),t(531),t(532),t(533),t(534),t(535),t(536),t(537),t(539),t(541),t(542),t(543),t(544),t(545),t(547),t(548),t(549),t(550),t(551),t(552),t(553),t(554),t(555),t(556),t(557),t(558),t(559),t(560),t(561),t(562),t(563),t(564),t(565),t(566),t(567),t(568),t(569),t(570),t(571),t(572),t(574),t(576),t(577),t(578),t(579),t(580),t(581),t(582),t(583),t(584),t(585),t(586),t(588),t(589),t(590),t(591),t(594),t(265),t(595),t(596);var a=t(0),r=t.n(a),i=t(77),o=t.n(i),c=window.navigator.userAgent,s=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(c);function l(e){return e.trim().toLowerCase().split(".").pop()}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(n){return setTimeout(n,e)}))}function d(e,n){var t=document.createElement("a");t.style.display="none",t.href=e,t.download=n,document.body.appendChild(t),t.click(),document.body.removeChild(t)}function b(e){var n=document.activeElement.tagName.toUpperCase(),t=document.activeElement.getAttribute("contenteditable");if("INPUT"!==n&&"TEXTAREA"!==n&&""!==t&&"true"!==t)return Number(e.keyCode)}function m(e){return!!(e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2)}var g=t(11),p={LOADING:"\u52a0\u8f7d\u4e2d...",SUB_TEXT:"\u5b57\u5e55\u6587\u672c",OPEN_VIDEO:"\u6253\u5f00\u89c6\u9891",OPEN_SUB:"\u6253\u5f00\u5b57\u5e55",EXPORT_ASS:"\u5bfc\u51fa ASS",EXPORT_SRT:"\u5bfc\u51fa SRT",EXPORT_VTT:"\u5bfc\u51fa VTT",EXPORT_VIDEO:"\u5bfc\u51fa\u89c6\u9891",TRANSLATE:"\u6279\u91cf\u7ffb\u8bd1",TRANSLATING:"\u7ffb\u8bd1\u4e2d...",TRANSLAT_SUCCESS:"\u7ffb\u8bd1\u6210\u529f",DECODE_START:"\u5f00\u59cb\u89e3\u7801\u97f3\u9891",DECODE_SUCCESS:"\u89e3\u7801\u97f3\u9891\u6210\u529f",DECODE_ERROR:"\u89e3\u7801\u97f3\u9891\u5931\u8d25",VIDEO_EXT_ERR:"\u65e0\u6cd5\u6253\u5f00\u8be5\u89c6\u9891\u683c\u5f0f",SUB_EXT_ERR:"\u65e0\u6cd5\u6253\u5f00\u8be5\u5b57\u5e55\u683c\u5f0f",MOBILE_TIP:"\u8bf7\u4f7f\u7528\u7535\u8111\u8bbf\u95ee",HOTKEY_01:"\u7a7a\u683c\u952e: \u64ad\u653e / \u6682\u505c",HOTKEY_02:"Ctrl + Z: \u64a4\u9500",CLEAR:"\u6e05\u7a7a",UNDO:"\u64a4\u9500",DELETE:"\u5220\u9664\u5b57\u5e55",MERGE:"\u5408\u5e76\u4e0b\u4e00\u4e2a",SPLIT:"\u62c6\u5206\u5b57\u5e55",LOADING_FFMPEG:"\u52a0\u8f7d\u4f9d\u8d56\u4e2d...",LOADING_FONT:"\u52a0\u8f7d\u5b57\u4f53\u4e2d...",LOADING_VIDEO:"\u52a0\u8f7d\u89c6\u9891\u4e2d...",LOADING_SUB:"\u52a0\u8f7d\u5b57\u5e55\u4e2d...",CLEAR_TIP:"\u786e\u8ba4\u6e05\u7a7a\u6240\u6709\u6570\u636e\u5417",BURN_ERROR:"\u5408\u6210\u5b57\u5e55\u5931\u8d25",BURN_START:"\u5f00\u59cb\u5408\u6210\u5b57\u5e55",BURN_SUCCESS:"\u5408\u6210\u5b57\u5e55\u6210\u529f",OPEN_VIDEO_ERROR:"\u8bf7\u5148\u6253\u5f00\u89c6\u9891"},f={en:{LOADING:"Loading...",SUB_TEXT:"Subtitle Text",OPEN_VIDEO:"Open Video",OPEN_SUB:"Open Subtitle",EXPORT_ASS:"Export ASS",EXPORT_SRT:"Export SRT",EXPORT_VTT:"Export VTT",EXPORT_VIDEO:"Export Video",TRANSLATE:"Translate!",TRANSCRIBE:"Transcribe!",TRANSLATING:"Translating...",TRANSCRIBING:"Transcribing ...",TRANSLAT_SUCCESS:"Translation success",DECODE_START:"Start decoding audio",DECODE_SUCCESS:"Decoding audio success",DECODE_ERROR:"Decoding audio failed",VIDEO_EXT_ERR:"Unable to open this video format",SUB_EXT_ERR:"Unable to open this subtitle format",MOBILE_TIP:"Please use computer access",HOTKEY_01:"Space: Play / Pause",HOTKEY_02:"Ctrl + Z: Undo",CLEAR:"Clear",UNDO:"Undo",DELETE:"Delete Subtitle",MERGE:"Merge Next",SPLIT:"Split Subtitle",LOADING_FFMPEG:"Loading dependency...",LOADING_FONT:"Loading font...",LOADING_VIDEO:"Loading video...",LOADING_SUB:"Loading subtitle...",CLEAR_TIP:"Confirm that all data is cleared",BURN_ERROR:"Burn subtitles failed",BURN_START:"Start burn subtitles",BURN_SUCCESS:"Burn subtitles success",OPEN_VIDEO_ERROR:"Please open the video first",SAME_LANGUAGE:"Transcription",SIGN_LANGUAGE:"Sign Language",MAIN_LANGUAGE:"Translation"},it:{LOADING:"Caricamento in corso...",SUB_TEXT:"Sottotitoli",OPEN_VIDEO:"Apri video",OPEN_SUB:"Apri sottotitoli",EXPORT_ASS:"Esporta ASS",EXPORT_SRT:"Esporta SRT",EXPORT_VTT:"Esporta VTT",EXPORT_VIDEO:"Esporta video",TRANSLATE:"Traduci",TRANSLATING:"Traduzione...",TRANSLAT_SUCCESS:"Traduzione riuscita",DECODE_START:"Avvia decodifica audio",DECODE_SUCCESS:"Decodifica audio riuscita",DECODE_ERROR:"Decodifica audio non riuscita",VIDEO_EXT_ERR:"Impossibile aprire questo formato video",SUB_EXT_ERR:"Impossibile aprire questo formato di sottotitoli",MOBILE_TIP:"Utilizza l'accesso al computer",HOTKEY_01:"Spazio: Riproduci / Pausa",HOTKEY_02:"Ctrl + Z: Annulla",CLEAR:"Pulisci",UNDO:"Annulla",DELETE:"Elimina sottotitoli",MERGE:"Unisci dopo",SPLIT:"Dividi sottotitoli",LOADING_FFMPEG:"Caricamento dipendenza in corso...",LOADING_FONT:"Caricamento font in corso...",LOADING_VIDEO:"Caricamento video in corso...",LOADING_SUB:"Caricamento sottotitoli in corso...",CLEAR_TIP:"Conferma che tutti i dati siano stati cancellati",BURN_ERROR:"Masterizzazione sottotitoli non riuscita",BURN_START:"Avvia masterizzazione sottotitoli",BURN_SUCCESS:"Masterizzazione sottotitoli riuscita",OPEN_VIDEO_ERROR:"Apri prima il video"},zh:p,"zh-cn":p,"zh-tw":p,tr:{LOADING:"Loading...",SUB_TEXT:"Subtitle Text",OPEN_VIDEO:"Video A\xe7",OPEN_SUB:"Altyaz\u0131 A\xe7",EXPORT_ASS:"ASS \xc7\u0131kar",EXPORT_SRT:"SRT \xc7\u0131kar",EXPORT_VTT:"VTT \xc7\u0131kar",EXPORT_VIDEO:"Videoyu \xc7\u0131kar",TRANSLATE:"\xc7evir",TRANSLATING:"\xc7evriliyor...",TRANSLAT_SUCCESS:"\xc7evirme ba\u015far\u0131l\u0131",DECODE_START:"Ses \xe7\xf6z\xfcmlemesi ba\u015flad\u0131",DECODE_SUCCESS:"Ses \xe7\xf6z\xfcmlemesi ba\u015far\u0131l\u0131",DECODE_ERROR:"Ses \xe7\xf6z\xfcmlemesi ba\u015far\u0131s\u0131z",VIDEO_EXT_ERR:"Bu video bi\xe7imi a\xe7\u0131lam\u0131yor",SUB_EXT_ERR:"Bu altyaz\u0131 bi\xe7imi a\xe7\u0131lam\u0131yor",MOBILE_TIP:"L\xfctfen bilgisayardan eri\u015fin",HOTKEY_01:"Bo\u015fluk: Oynat / Duraklat",HOTKEY_02:"Ctrl + Z: Geri Al",CLEAR:"Temizle",UNDO:"Geri Al",DELETE:"Altyaz\u0131y\u0131 Sil",MERGE:"Sonrakiyle Birle\u015ftir",SPLIT:"Altyaz\u0131y\u0131 B\xf6l",LOADING_FFMPEG:"Ba\u011f\u0131ml\u0131l\u0131k y\xfckleniyor...",CLEAR_TIP:"T\xfcm verilerin silinece\u011fini onayl\u0131yor musunuz?",BURN_ERROR:"Altyaz\u0131 g\xf6mme ba\u015far\u0131s\u0131z",BURN_START:"Altyaz\u0131 g\xf6mmeyi ba\u015flat",BURN_SUCCESS:"Altyaz\u0131 g\xf6mme ba\u015far\u0131l\u0131",OPEN_VIDEO_ERROR:"L\xfctfen \xf6nce videoyu a\xe7\u0131n"}},h=t(33),x=t(12),j=t(36),O=t(288),y=t.n(O),k=t(38),v=t.n(k),S=t(133),T=t.n(S),E=t(37),w=t(7),C=t.n(w),N=t(19),R=t(63),_=t(73),I=t(107),L=t.n(I),A=function(){function e(n){Object(R.a)(this,e),this.start=n.start,this.end=n.end,this.text=n.text,this.text2=n.text2}return Object(_.a)(e,[{key:"check",get:function(){return this.startTime>=0&&this.endTime>=0&&this.startTime<this.endTime}},{key:"clone",get:function(){return new e(this)}},{key:"startTime",get:function(){return v.a.t2d(this.start)},set:function(e){this.start=v.a.d2t(L()(e,0,1/0))}},{key:"endTime",get:function(){return v.a.t2d(this.end)},set:function(e){this.end=v.a.d2t(L()(e,0,1/0))}},{key:"duration",get:function(){return parseFloat((this.endTime-this.startTime).toFixed(3))}}]),e}();function D(e){var n=new RegExp("Dialogue:\\s\\d,(\\d+:\\d\\d:\\d\\d.\\d\\d),(\\d+:\\d\\d:\\d\\d.\\d\\d),([^,]*),([^,]*),(?:[^,]*,){4}([\\s\\S]*)$","i");function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.split(/[:.]/).map((function(e,n,t){if(n===t.length-1){if(1===e.length)return"."+e+"00";if(2===e.length)return"."+e+"0"}else if(1===e.length)return(0===n?"0":":0")+e;return 0===n?e:n===t.length-1?"."+e:":"+e})).join("")}return"WEBVTT\n\n"+e.split(/\r?\n/).map((function(e){var a=e.match(n);return a?{start:t(a[1].trim()),end:t(a[2].trim()),text:a[5].replace(/{[\s\S]*?}/g,"").replace(/(\\N)/g,"\n").trim().split(/\r?\n/).map((function(e){return e.trim()})).join("\n")}:null})).filter((function(e){return e})).map((function(e,n){return e?n+1+"\n"+e.start+" --\x3e "+e.end+"\n"+e.text:""})).filter((function(e){return e.trim()})).join("\n\n")}function z(e){return new Promise((function(n){var t=document.createElement("video"),a=document.createElement("track");a.default=!0,a.kind="metadata",t.appendChild(a),a.onload=function(){n(Array.from(a.track.cues).map((function(e){var n=v.a.d2t(e.startTime),t=v.a.d2t(e.endTime),a=e.text;return new A({start:n,end:t,text:a})})))},a.src=e}))}function P(e){return URL.createObjectURL(new Blob([e],{type:"text/vtt"}))}function B(e){return"WEBVTT\n\n"+e.map((function(e,n){return n+1+"\n"+e.start+" --\x3e "+e.end+"\n"+e.text})).join("\n\n")}function U(e){return e.map((function(e,n){return"".concat(n+1,"\n").concat(e.start.replace(".",",")," --\x3e ").concat(e.end.replace(".",","),"\n").concat(e.text)})).join("\n\n")}function F(e){return e.map((function(e){return e.text})).join("\n\n")}var G=function(e){var n=[],t="",a=e.split(/[:.]/).map((function(e){return Number(e)}));return(a=e.split(/[:.]/).map((function(e){return Number(e)})))[3]="0."+("00"+a[3]).slice(-3),t=(t=(60*a[0]*60+60*a[1]+a[2]+Number(a[3])).toFixed(2)).toString().split("."),n.unshift(t[1]),t=Number(t[0]),n.unshift(("0"+(t%60).toString()).slice(-2)),n.unshift(("0"+(Math.floor(t/60)%60).toString()).slice(-2)),n.unshift((Math.floor(t/3600)%60).toString()),n.slice(0,3).join(":")+"."+n[3]};function M(e){return"\n[Script Info]\n; // \u6b64\u5b57\u5e55\u7531\u7231\u5e55\u751f\u6210\nSynch Point:1\nScriptType:v4.00+\nCollisions:Normal\n\n[V4+ Styles]\nFormat: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding\nStyle: Default, Microsoft YaHei, 20, &H00FFFFFF, &H000000FF, &H00000000, &H00000000, 0, 0, 0, 0, 100, 100, 0, 0, 1, 1, 0, 2, 10, 10, 10, 134\n\n[Events]\nFormat: Layer, Start, End, Style, Actor, MarginL, MarginR, MarginV, Effect, Text\n".concat(e.map((function(e){var n=G(e.start),t=G(e.end),a=e.text.replace(/\r?\n/g,"\\N");return"Dialogue: 0,".concat(n,",").concat(t,",Default,NTP,0000,0000,0000,,").concat(a)})).join("\n"),"\n    ").trim()}var V,X=t(108),H=t.n(X),Y=t(297),J=t(289),K=t.n(J),W=(t(704),t(1));function q(){return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)("p",{style:{paddingLeft:"10px",marginTop:"-0.5px"},children:Object(W.jsx)("b",{children:"External Links"})}),Object(W.jsxs)("ul",{style:{listStyle:"none",flexDirection:"column",margin:"-10px 10px 10px 10px",padding:0,textAlign:"center"},children:[Object(W.jsx)("li",{style:{width:"100%",backgroundColor:"rgb(33 150 243 / 20%)",padding:"10px 5px"},children:Object(W.jsx)("a",{target:"_blank",rel:"noreferrer",style:{textDecoration:"none",color:"white",padding:"10px 50px"},href:"https://github.com/AI4Bharat",children:"Organisation"})}),Object(W.jsx)("br",{}),Object(W.jsx)("li",{style:{width:"100%",backgroundColor:"rgb(33 150 243 / 20%)",padding:"10px 5px"},children:Object(W.jsx)("a",{target:"_blank",rel:"noreferrer",style:{textDecoration:"none",color:"white",padding:"10px 50px"},href:"https://github.com/AI4Bharat/Chitralekha/",children:"GitHub Repo"})})]})]})}var $=E.b.div(V||(V=Object(j.a)(["\n    border-left: 1px solid white;\n\n    .tool-button {\n        display: flex;\n        justify-content: flex-end;\n        align-items: center;\n        padding: 10px 10px 2px 0;\n        margin-bottom: 5px;\n\n        .icon {\n            cursor: pointer;\n        }\n    }\n\n    .import {\n        display: flex;\n        justify-content: space-between;\n        padding: 10px;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n        .btn {\n            position: relative;\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 48%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #3f51b5;\n            transition: all 0.2s ease 0s;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n\n        .file {\n            position: absolute;\n            left: 0;\n            top: 0;\n            right: 0;\n            bottom: 0;\n            width: 100%;\n            height: 100%;\n            opacity: 0;\n        }\n    }\n\n    .seconday-options {\n        transform: scaleY(1) !important;\n        transition: all 0.25s 0.4s;\n        transform-origin: top;\n    }\n\n    .hide-secondary-options {\n        transform: scaleY(0) !important;\n        transition: all 0.25s;\n        transform-origin: top;\n        height: 0;\n    }\n\n    .hide-secondary-options * > {\n        opacity: 0;\n        transition: all 0.1s;\n    }\n\n    .select-translation-api-container {\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n        display: flex;\n        flex-direction: column;\n        // justify-content: center;\n        padding-left: 10px;\n\n        .select-heading {\n            margin-top: -0.5px;\n        }\n\n        select {\n            width: 95%;\n            outline: none;\n            height: 35px;\n            border-radius: 3px;\n            margin-bottom: 10px;\n            margin-top: -10px;\n        }\n    }\n\n    .burn {\n        display: flex;\n        justify-content: space-between;\n        padding: 10px;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n        .btn {\n            position: relative;\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 100%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #673ab7;\n            transition: all 0.2s ease 0s;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n    }\n\n    .export {\n        display: flex;\n        justify-content: space-between;\n        padding: 10px;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n        .btn {\n            position: relative;\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 31%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #009688;\n            transition: all 0.2s ease 0s;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n    }\n\n    .operate {\n        display: flex;\n        justify-content: space-between;\n        padding: 10px;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n        .btn {\n            position: relative;\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 48%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #009688;\n            transition: all 0.2s ease 0s;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n    }\n\n    .configuration {\n        transform: scaleY(1) !important;\n        transition: all 0.25s 0.4s;\n        transform-origin: top;\n\n        &-heading {\n            opacity: 1;\n            padding-left: 10px;\n            margin-top: -0.5px;\n        }\n\n        &-options {\n            opacity: 1;\n            display: flex;\n            flex-direction: column;\n            flex-wrap: wrap;\n            border-bottom: 1px solid rgb(255 255 255 / 20%);\n            // align-items: center;\n            margin-top: -10px;\n            padding-left: 10px;\n\n            .btn {\n                position: relative;\n                opacity: 0.85;\n                display: flex;\n                justify-content: center;\n                align-items: center;\n                height: 35px;\n                width: 95%;\n                border-radius: 3px;\n                color: #fff;\n                cursor: pointer;\n                font-size: 13px;\n                background-color: #009688;\n                transition: all 0.2s ease 0s;\n                margin-bottom: 10px;\n                letter-spacing: 1.3px;\n\n                &:hover {\n                    opacity: 1;\n                }\n            }\n        }\n    }\n\n    .hide-config {\n        transform: scaleY(0) !important;\n        transition: all 0.25s;\n        transform-origin: top;\n        height: 0;\n    }\n    .hide-config .configuration-heading {\n        opacity: 0;\n        transition: all 0.1s;\n    }\n\n    .hide-config .configuration-options {\n        opacity: 0;\n        transition: all 0.1s;\n    }\n\n    .translate {\n        display: flex;\n        justify-content: space-between;\n        padding: 10px;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n        select {\n            width: 65%;\n            outline: none;\n            padding: 0 5px;\n            border-radius: 3px;\n        }\n\n        .btn {\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 33%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #673ab7;\n            transition: all 0.2s ease 0s;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n    }\n    .youtube-link {\n        display: flex;\n        justify-content: space-between;\n        padding: 10px;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n        .youtube-textarea {\n            width: 65%;\n            outline: none;\n            padding: 0 5px;\n            border-radius: 3px;\n        }\n\n        .btn {\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 33%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #673ab7;\n            transition: all 0.2s ease 0s;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n    }\n\n    .hotkey {\n        display: flex;\n        justify-content: space-between;\n        padding: 10px;\n\n        span {\n            width: 49%;\n            font-size: 13px;\n            padding: 5px 0;\n            border-radius: 3px;\n            text-align: center;\n            color: rgb(255 255 255 / 75%);\n            background-color: rgb(255 255 255 / 20%);\n        }\n    }\n\n    .bottom {\n        padding: 10px;\n        a {\n            display: flex;\n            flex-direction: column;\n            border: 1px solid rgb(255 255 255 / 30%);\n            text-decoration: none;\n\n            .title {\n                color: #ffeb3b;\n                padding: 5px 10px;\n                animation: animation 3s infinite;\n                border-bottom: 1px solid rgb(255 255 255 / 30%);\n            }\n\n            @keyframes animation {\n                50% {\n                    color: #00bcd4;\n                }\n            }\n\n            img {\n                max-width: 100%;\n            }\n        }\n    }\n\n    .progress {\n        position: fixed;\n        left: 0;\n        top: 0;\n        right: 0;\n        z-index: 9;\n        height: 2px;\n        background-color: rgb(0 0 0 / 50%);\n\n        span {\n            display: inline-block;\n            position: absolute;\n            left: 0;\n            top: 0;\n            bottom: 0;\n            width: 0;\n            height: 100%;\n            background-color: #ff9800;\n            transition: all 0.2s ease 0s;\n        }\n    }\n"])));H.a.createFFmpeg({log:!0}).load();var Z=new Y.a.FileSystem;function Q(e){var n=e.player,t=e.waveform,r=e.newSub,i=e.undoSubs,o=e.clearSubs,c=(e.language,e.subtitle),s=e.setLoading,u=(e.formatSub,e.setSubtitle),b=e.setProcessing,m=e.notify,p=e.subtitleEnglish,f=e.setSubtitleEnglish,h=e.clearSubsEnglish,j=(e.setSubtitleOriginal,e.clearedSubs,e.setClearedSubs),O=e.configuration,y=e.setConfiguration,k=(e.enableConfiguration,e.setEnableConfiguration,e.isSetConfiguration),v=e.setIsSetConfiguration,S=e.translationApi,T=e.setTranslationApi,E=e.isSetVideo,w=e.setIsSetVideo,R=Object(a.useState)(null),_=Object(x.a)(R,2),I=_[0],L=_[1],G=Object(a.useState)(""),V=Object(x.a)(G,2),X=V[0],Y=V[1],J=Object(a.useState)(!0),Q=Object(x.a)(J,2),ee=Q[0],ne=Q[1],te=Object(a.useCallback)(function(){var e=Object(N.a)(C.a.mark((function e(n){var a,r,i,o,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=H.a.createFFmpeg,r=H.a.fetchFile,(i=a({log:!0})).setProgress((function(e){var n=e.ratio;return b(100*n)})),s(Object(g.t)("LOADING_FFMPEG")),e.next=7,i.load();case 7:return e.t0=i,e.t1=n.name,e.next=11,r(n);case 11:return e.t2=e.sent,e.t0.FS.call(e.t0,"writeFile",e.t1,e.t2),s(""),m({message:Object(g.t)("DECODE_START"),level:"info"}),o="".concat(Date.now(),".mp3"),e.next=18,i.run("-i",n.name,"-ac","1","-ar","8000",o);case 18:return c=i.FS("readFile",o),e.next=21,t.decoder.decodeAudioData(c);case 21:t.drawer.update(),b(0),i.setProgress((function(){return null})),m({message:Object(g.t)("DECODE_SUCCESS"),level:"success"}),e.next=32;break;case 27:e.prev=27,e.t3=e.catch(0),s(""),b(0),m({message:Object(g.t)("DECODE_ERROR"),level:"error"});case 32:case"end":return e.stop()}}),e,null,[[0,27]])})));return function(n){return e.apply(this,arguments)}}(),[t,m,b,s]),ae=Object(a.useCallback)(Object(N.a)(C.a.mark((function e(){var n,t,a,r,i,o,l,u;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=H.a.createFFmpeg,t=H.a.fetchFile,(a=n({log:!0})).setProgress((function(e){var n=e.ratio;return b(100*n)})),s(Object(g.t)("LOADING_FFMPEG")),e.next=7,a.load();case 7:return s(Object(g.t)("LOADING_FONT")),e.next=10,Z.mkdir("/fonts");case 10:return e.next=12,Z.exists("/fonts/Microsoft-YaHei.ttf");case 12:if(!e.sent){e.next=24;break}return e.next=16,Z.readFile("/fonts/Microsoft-YaHei.ttf");case 16:return r=e.sent,e.t0=a,e.next=20,t(r);case 20:e.t1=e.sent,e.t0.FS.call(e.t0,"writeFile","tmp/Microsoft-YaHei.ttf",e.t1),e.next=35;break;case 24:return"https://cdn.jsdelivr.net/gh/zhw2590582/SubPlayer/docs/Microsoft-YaHei.ttf",e.next=27,fetch("https://cdn.jsdelivr.net/gh/zhw2590582/SubPlayer/docs/Microsoft-YaHei.ttf").then((function(e){return e.blob()}));case 27:return i=e.sent,e.next=30,Z.writeFile("/fonts/Microsoft-YaHei.ttf",i);case 30:return e.t2=a,e.next=33,t(i);case 33:e.t3=e.sent,e.t2.FS.call(e.t2,"writeFile","tmp/Microsoft-YaHei.ttf",e.t3);case 35:return s(Object(g.t)("LOADING_VIDEO")),e.t4=a,e.t5=I?I.name:"sample.mp4",e.next=40,t(I||"sample.mp4");case 40:return e.t6=e.sent,e.t4.FS.call(e.t4,"writeFile",e.t5,e.t6),s(Object(g.t)("LOADING_SUB")),o=new File([new Blob([M(c)])],"subtitle.ass"),e.t7=a,e.t8=o.name,e.next=48,t(o);case 48:return e.t9=e.sent,e.t7.FS.call(e.t7,"writeFile",e.t8,e.t9),s(""),m({message:Object(g.t)("BURN_START"),level:"info"}),l="".concat(Date.now(),".mp4"),e.next=55,a.run("-i",I?I.name:"sample.mp4","-vf","ass=".concat(o.name,":fontsdir=/tmp"),"-preset",I?"fast":"ultrafast",l);case 55:u=a.FS("readFile",l),d(URL.createObjectURL(new Blob([u])),"".concat(l)),b(0),a.setProgress((function(){return null})),m({message:Object(g.t)("BURN_SUCCESS"),level:"success"}),e.next=67;break;case 62:e.prev=62,e.t10=e.catch(0),s(""),b(0),m({message:Object(g.t)("BURN_ERROR"),level:"error"});case 67:case"end":return e.stop()}}),e,null,[[0,62]])}))),[m,b,s,I,c]),re=Object(a.useCallback)((function(e){var a=e.target.files[0];if(a){var i=l(a.name),c=n.canPlayType(a.type);if("maybe"===c||"probably"===c){L(a),te(a);var s=URL.createObjectURL(new Blob([a]));t.decoder.destroy(),t.drawer.update(),n.currentTime=0,o(),u([r({start:"00:00:00.000",end:"00:00:01.000",text:Object(g.t)("SUB_TEXT")})]),n.src=s}else m({message:"".concat(Object(g.t)("VIDEO_EXT_ERR"),": ").concat(a.type||i),level:"error"})}localStorage.setItem("isVideoPresent",!0),w(!0)}),[r,m,n,u,t,o,te,w]),ie=Object(a.useCallback)((function(e){X.length>0&&(s(Object(g.t)("LOADING")),fetch("".concat("http://216.48.182.174:5000","/get_youtube_video_link_with_captions?url=").concat(X,"&lang=").concat("en"),{method:"POST"}).then((function(e){return e.json()})).then((function(e){var t=e.video;if(n.src=t,localStorage.setItem("videoSrc",e.video),localStorage.setItem("audioSrc",e.audio),localStorage.setItem("youtubeURL",X),e.subtitles){var a=e.subtitles;fetch(a).then((function(e){return e.text()})).then((function(e){console.log(e),n.currentTime=0,o(),z(P(e)).then((function(e){u(e),localStorage.setItem("subtitle",JSON.stringify(e))}))})).catch((function(e){console.log(e)}))}}))),localStorage.setItem("isVideoPresent",!0),w(!0),s("")}),[o,X,"en",n,u,s,w]),oe=Object(a.useCallback)((function(e){var n=e.target.files[0];if(n){var t=l(n.name);["ass","vtt","srt","json"].includes(t)?function(e){return new Promise((function(n,t){var a=new FileReader;a.onload=Object(N.a)(C.a.mark((function r(){var i,o,c,s,u,d,b,m,g,p,f,h;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("json"!==(i=l(e.name))){r.next=5;break}try{o=JSON.parse(a.result).map((function(e){return new A(e)})),n(o)}catch(x){t(x)}r.next=34;break;case 5:c=a.result.replace(/{[\s\S]*?}/g,""),r.t0=i,r.next="vtt"===r.t0?9:"ass"===r.t0?15:"srt"===r.t0?22:"json"===r.t0?29:32;break;case 9:return s=P(c),r.next=12,z(s);case 12:return u=r.sent,n(u),r.abrupt("break",34);case 15:return d=D(c),b=P(d),r.next=19,z(b);case 19:return m=r.sent,n(m),r.abrupt("break",34);case 22:return g="WEBVTT \r\n\r\n".concat(c.replace(/\{\\([ibu])\}/g,"</$1>").replace(/\{\\([ibu])1\}/g,"<$1>").replace(/\{([ibu])\}/g,"<$1>").replace(/\{\/([ibu])\}/g,"</$1>").replace(/(\d\d:\d\d:\d\d),(\d\d\d)/g,"$1.$2").replace(/{[\s\S]*?}/g,"").concat("\r\n\r\n")),p=P(g),r.next=26,z(p);case 26:return f=r.sent,n(f),r.abrupt("break",34);case 29:return h=JSON.parse(c).map((function(e){return new A(e)})),n(h),r.abrupt("break",34);case 32:return n([]),r.abrupt("break",34);case 34:case"end":return r.stop()}}),r)}))),a.readAsText(e)}))}(n).then((function(e){o(),u(e)})).catch((function(e){m({message:e.message,level:"error"})})):m({message:"".concat(Object(g.t)("SUB_EXT_ERR"),": ").concat(t),level:"error"})}}),[m,u,o]),ce=Object(a.useCallback)((function(e){e.target.value=""}),[]),se=Object(a.useCallback)((function(e){var n="",t="".concat(Date.now(),".").concat(e);switch(e){case"vtt":n=B(c);break;case"srt":n=U(c);break;case"ass":n=M(c);break;case"txt":n=F(c);break;case"json":n=JSON.stringify(c)}d(URL.createObjectURL(new Blob([n])),t)}),[c]),le=Object(a.useCallback)((function(e){var n="",t="".concat(Date.now(),".").concat(e);switch(e){case"vtt":n=B(p);break;case"srt":n=U(p);break;case"ass":n=M(p);break;case"txt":n=F(p);break;case"json":n=JSON.stringify(p)}d(URL.createObjectURL(new Blob([n])),t)}),[p]);return Object(a.useEffect)((function(){!1===E&&"true"===window.localStorage.getItem("isVideoPresent")&&(console.log("here inside loop"),w(!E))}),[w,E]),Object(W.jsxs)($,{className:"tool ".concat(ee?"tool-open":""),children:[Object(W.jsx)("div",{className:"tool-button",children:Object(W.jsx)("div",{className:"icon",onClick:function(){console.log("hamburger clicked"),ne(!ee)},children:Object(W.jsx)(K.a,{isOpen:ee,width:22,height:18,strokeWidth:2,rotate:0,color:"#fff",borderRadius:0,animationDuration:.5})})}),Object(W.jsxs)("div",{className:"top",children:[Object(W.jsxs)("div",{className:"import ",children:[Object(W.jsxs)("div",{className:"btn",children:[Object(W.jsx)(g.Translate,{value:"OPEN_VIDEO"}),Object(W.jsx)("input",{className:"file",type:"file",onChange:re,onClick:ce})]}),Object(W.jsxs)("div",{className:"btn",children:[Object(W.jsx)(g.Translate,{value:"OPEN_SUB"}),Object(W.jsx)("input",{className:"file",type:"file",onChange:oe,onClick:ce})]})]}),Object(W.jsxs)("div",{className:"youtube-link ",children:[Object(W.jsx)("textarea",{className:"youtube-textarea",placeholder:"Enter YouTube Link Here",value:X,onChange:function(e){Y(e.target.value)}}),Object(W.jsx)("div",{className:"btn",onClick:ie,children:Object(W.jsx)(g.Translate,{value:"Fetch Video"})})]}),Object(W.jsxs)("div",{className:"operate",children:[Object(W.jsx)("div",{className:"btn",onClick:function(){!0===window.confirm(Object(g.t)("CLEAR_TIP"))&&(localStorage.setItem("videoSrc",null),localStorage.setItem("isVideoPresent",!1),localStorage.setItem("lang","en"),o(),h(),window.location.reload())},children:Object(W.jsx)(g.Translate,{value:"CLEAR"})}),Object(W.jsx)("div",{className:"btn",onClick:i,children:Object(W.jsx)(g.Translate,{value:"UNDO"})})]}),Object(W.jsx)("div",{className:"operate",children:Object(W.jsx)("div",{className:"btn",onClick:function(){window.localStorage.setItem("subsBeforeClear",JSON.stringify(c)),u([]),f([]),localStorage.removeItem("subtitleEnglish"),j(!0)},children:Object(W.jsx)(g.Translate,{value:"Clear Subtitles"})})}),Object(W.jsxs)("div",{className:"\n                        ".concat(E?"configuration":"hide-config","\n                "),children:[Object(W.jsx)("p",{className:"configuration-heading",children:Object(W.jsx)("b",{children:"Configuration Options"})}),Object(W.jsxs)("div",{className:"configuration-options",children:[Object(W.jsx)("div",{className:"btn",onClick:function(){console.log("Configuration - same");var e=localStorage.getItem("lang");console.log("lang "+e),y("Same Language Subtitling"),v(!0)},children:Object(W.jsx)(g.Translate,{value:"SAME_LANGUAGE"})}),Object(W.jsx)("div",{className:"btn",onClick:function(){console.log("Configuration - basic"),y("Subtitling"),v(!0)},children:Object(W.jsx)(g.Translate,{value:"MAIN_LANGUAGE"})}),Object(W.jsx)("div",{className:"btn",onClick:function(){console.log("Configuration - sign"),y("Sign Language Subtitling"),v(!0)},children:Object(W.jsx)(g.Translate,{value:"SIGN_LANGUAGE"})})]})]}),Object(W.jsxs)("div",{className:"secondary-options ".concat(k?"":"hide-secondary-options"),children:["Subtitling"===O&&Object(W.jsx)(W.Fragment,{children:Object(W.jsxs)("div",{className:"select-translation-api-container",children:[Object(W.jsx)("p",{className:"select-heading",children:Object(W.jsx)("b",{children:"Translation Api"})}),Object(W.jsxs)("select",{value:S,onChange:function(e){T(e.target.value)},children:[Object(W.jsx)("option",{value:"AI4Bharat",children:"AI4Bharat"}),Object(W.jsx)("option",{value:"Google",children:"Google"})]})]})}),window.crossOriginIsolated?Object(W.jsx)("div",{className:"burn",onClick:ae,children:Object(W.jsx)("div",{className:"btn",children:Object(W.jsx)(g.Translate,{value:"EXPORT_VIDEO"})})}):null,Object(W.jsx)("p",{style:{paddingLeft:"10px",marginTop:"-0.5px"},children:Object(W.jsx)("b",{children:"Export Your Subtitles"})}),Object(W.jsxs)("div",{className:"export",style:{marginTop:"-20px"},children:[Object(W.jsx)("div",{className:"btn",onClick:function(){return se("ass")},children:Object(W.jsx)(g.Translate,{value:"EXPORT_ASS"})}),Object(W.jsx)("div",{className:"btn",onClick:function(){return se("srt")},children:Object(W.jsx)(g.Translate,{value:"EXPORT_SRT"})}),Object(W.jsx)("div",{className:"btn",onClick:function(){return se("vtt")},children:Object(W.jsx)(g.Translate,{value:"EXPORT_VTT"})})]}),Object(W.jsx)("p",{style:{paddingLeft:"10px",marginTop:"-0.5px"},children:Object(W.jsx)("b",{children:"Export Reference Subtitles"})}),Object(W.jsxs)("div",{className:"export",style:{marginTop:"-20px"},children:[Object(W.jsx)("div",{className:"btn",onClick:function(){return le("ass")},children:Object(W.jsx)(g.Translate,{value:"EXPORT_ASS"})}),Object(W.jsx)("div",{className:"btn",onClick:function(){return le("srt")},children:Object(W.jsx)(g.Translate,{value:"EXPORT_SRT"})}),Object(W.jsx)("div",{className:"btn",onClick:function(){return le("vtt")},children:Object(W.jsx)(g.Translate,{value:"EXPORT_VTT"})})]})]}),Object(W.jsx)("div",{className:"",children:Object(W.jsx)(q,{})}),Object(W.jsxs)("div",{className:"hotkey",children:[Object(W.jsx)("span",{children:Object(W.jsx)(g.Translate,{value:"HOTKEY_01"})}),Object(W.jsx)("span",{children:Object(W.jsx)(g.Translate,{value:"HOTKEY_02"})})]})]})]})}var ee,ne=[{name:"\u7b80\u4f53\u4e2d\u6587",key:"zh"},{name:"\u7e41\u4f53\u4e2d\u6587",key:"zh-TW"},{name:"\u82f1\u8bed",key:"en"},{name:"\u5357\u975e\u8377\u5170\u8bed",key:"af"},{name:"\u963f\u5c14\u5df4\u5c3c\u4e9a\u8bed",key:"sq"},{name:"\u963f\u59c6\u54c8\u62c9\u8bed",key:"am"},{name:"\u963f\u62c9\u4f2f\u8bed",key:"ar"},{name:"\u4e9a\u7f8e\u5c3c\u4e9a\u8bed",key:"hy"},{name:"\u963f\u585e\u62dc\u7586\u8bed",key:"az"},{name:"\u5df4\u65af\u514b\u8bed",key:"eu"},{name:"\u767d\u4fc4\u7f57\u65af\u8bed",key:"be"},{name:"\u5b5f\u52a0\u62c9\u8bed",key:"bn"},{name:"\u6ce2\u65af\u5c3c\u4e9a\u8bed",key:"bs"},{name:"\u4fdd\u52a0\u5229\u4e9a\u8bed",key:"bg"},{name:"\u52a0\u6cf0\u7f57\u5c3c\u4e9a\u8bed",key:"ca"},{name:"\u5bbf\u52a1\u8bed",key:"ceb"},{name:"\u79d1\u897f\u5609\u8bed",key:"co"},{name:"\u514b\u7f57\u5730\u4e9a\u8bed",key:"hr"},{name:"\u6377\u514b\u8bed",key:"cs"},{name:"\u4e39\u9ea6\u8bed",key:"da"},{name:"\u8377\u5170\u8bed",key:"nl"},{name:"\u4e16\u754c\u8bed",key:"eo"},{name:"\u7231\u6c99\u5c3c\u4e9a\u8bed",key:"et"},{name:"\u82ac\u5170\u8bed",key:"fi"},{name:"\u6cd5\u8bed",key:"fr"},{name:"\u5f17\u91cc\u65af\u5170\u8bed",key:"fy"},{name:"\u52a0\u5229\u897f\u4e9a\u8bed",key:"gl"},{name:"\u683c\u9c81\u5409\u4e9a\u8bed",key:"ka"},{name:"\u5fb7\u8bed",key:"de"},{name:"\u5e0c\u814a\u8bed",key:"el"},{name:"\u53e4\u5409\u62c9\u7279\u8bed",key:"gu"},{name:"\u6d77\u5730\u514b\u91cc\u5965\u5c14\u8bed",key:"ht"},{name:"\u8c6a\u8428\u8bed",key:"ha"},{name:"\u590f\u5a01\u5937\u8bed",key:"haw"},{name:"\u5e0c\u4f2f\u6765\u8bed",key:"he"},{name:"\u5370\u5730\u8bed",key:"hi"},{name:"\u82d7\u8bed",key:"hmn"},{name:"\u5308\u7259\u5229\u8bed",key:"hu"},{name:"\u51b0\u5c9b\u8bed",key:"is"},{name:"\u4f0a\u535a\u8bed",key:"ig"},{name:"\u5370\u5ea6\u5c3c\u897f\u4e9a\u8bed",key:"id"},{name:"\u7231\u5c14\u5170\u8bed",key:"ga"},{name:"\u610f\u5927\u5229\u8bed",key:"it"},{name:"\u65e5\u8bed",key:"ja"},{name:"\u722a\u54c7\u8bed",key:"jw"},{name:"\u5361\u7eb3\u8fbe\u8bed",key:"kn"},{name:"\u54c8\u8428\u514b\u8bed",key:"kk"},{name:"\u9ad8\u68c9\u6587",key:"km"},{name:"\u97e9\u8bed",key:"ko"},{name:"\u5e93\u5c14\u5fb7\u8bed",key:"ku"},{name:"\u5409\u5c14\u5409\u65af\u8bed",key:"ky"},{name:"\u8001\u631d\u8bed",key:"lo"},{name:"\u62c9\u4e01\u6587",key:"la"},{name:"\u62c9\u8131\u7ef4\u4e9a\u8bed",key:"lv"},{name:"\u7acb\u9676\u5b9b\u8bed",key:"lt"},{name:"\u5362\u68ee\u5821\u8bed",key:"lb"},{name:"\u9a6c\u5176\u987f\u8bed",key:"mk"},{name:"\u9a6c\u5c14\u52a0\u4ec0\u8bed",key:"mg"},{name:"\u9a6c\u6765\u8bed",key:"ms"},{name:"\u9a6c\u62c9\u96c5\u62c9\u59c6\u6587",key:"ml"},{name:"\u9a6c\u8033\u4ed6\u8bed",key:"mt"},{name:"\u6bdb\u5229\u8bed",key:"mi"},{name:"\u9a6c\u62c9\u5730\u8bed",key:"mr"},{name:"\u8499\u53e4\u6587",key:"mn"},{name:"\u7f05\u7538\u8bed",key:"my"},{name:"\u5c3c\u6cca\u5c14\u8bed",key:"ne"},{name:"\u632a\u5a01\u8bed",key:"no"},{name:"\u5c3c\u6768\u624e\u8bed",key:"ny"},{name:"\u666e\u4ec0\u56fe\u8bed",key:"ps"},{name:"\u6ce2\u65af\u8bed",key:"fa"},{name:"\u6ce2\u5170\u8bed",key:"pl"},{name:"\u8461\u8404\u7259\u8bed",key:"pt"},{name:"\u65c1\u906e\u666e\u8bed",key:"pa"},{name:"\u7f57\u9a6c\u5c3c\u4e9a\u8bed",key:"ro"},{name:"\u4fc4\u8bed",key:"ru"},{name:"\u8428\u6469\u4e9a\u8bed",key:"sm"},{name:"\u82cf\u683c\u5170\u76d6\u5c14\u8bed",key:"gd"},{name:"\u585e\u5c14\u7ef4\u4e9a\u8bed",key:"sr"},{name:"\u585e\u7d22\u6258\u8bed",key:"st"},{name:"\u4fee\u7eb3\u8bed",key:"sn"},{name:"\u4fe1\u5fb7\u8bed",key:"sd"},{name:"\u50e7\u4f3d\u7f57\u8bed",key:"si"},{name:"\u65af\u6d1b\u4f10\u514b\u8bed",key:"sk"},{name:"\u65af\u6d1b\u6587\u5c3c\u4e9a\u8bed",key:"sl"},{name:"\u7d22\u9a6c\u91cc\u8bed",key:"so"},{name:"\u897f\u73ed\u7259\u8bed",key:"es"},{name:"\u5dfd\u4ed6\u8bed",key:"su"},{name:"\u65af\u74e6\u5e0c\u91cc\u8bed",key:"sw"},{name:"\u745e\u5178\u8bed",key:"sv"},{name:"\u5854\u52a0\u8def\u8bed",key:"tl"},{name:"\u5854\u5409\u514b\u8bed",key:"tg"},{name:"\u6cf0\u7c73\u5c14\u8bed",key:"ta"},{name:"\u6cf0\u5362\u56fa\u8bed",key:"te"},{name:"\u6cf0\u6587",key:"th"},{name:"\u571f\u8033\u5176\u8bed",key:"tr"},{name:"\u4e4c\u514b\u5170\u8bed",key:"uk"},{name:"\u4e4c\u5c14\u90fd\u8bed",key:"ur"},{name:"\u4e4c\u5179\u522b\u514b\u8bed",key:"uz"},{name:"\u8d8a\u5357\u8bed",key:"vi"},{name:"\u5a01\u5c14\u58eb\u8bed",key:"cy"},{name:"\u73ed\u56fe\u8bed",key:"xh"},{name:"\u610f\u7b2c\u7eea\u8bed",key:"yi"},{name:"\u7ea6\u9c81\u5df4\u8bed",key:"yo"},{name:"\u7956\u9c81\u8bed",key:"zu"}],te={en:[{name:"English",key:"en"},{name:"Bengali",key:"bn"},{name:"Gujarati",key:"gu"},{name:"Hindi",key:"hi"},{name:"Kannada",key:"kn"},{name:"Malayalam",key:"ml"},{name:"Marathi",key:"mr"},{name:"Nepali",key:"ne"},{name:"Oriya",key:"or"},{name:"Punjabi",key:"pa"},{name:"Sinhala",key:"si"},{name:"Tamil",key:"ta"},{name:"Telugu",key:"te"},{name:"Urdu",key:"ur"}],zh:ne,"zh-cn":ne,"zh-tw":ne,tr:[{name:"Basitle\u015ftirilmi\u015f \xc7ince",key:"zh"},{name:"Geleneksel \xc7ince",key:"zh-TW"},{name:"\u0130ngilizce",key:"en"},{name:"Afrikaanca",key:"af"},{name:"Arnavut\xe7a",key:"sq"},{name:"Amharca",key:"am"},{name:"Arap\xe7a",key:"ar"},{name:"Ermenice",key:"hy"},{name:"Azerbaycanca",key:"az"},{name:"Bask\xe7a",key:"eu"},{name:"Belarus\xe7a",key:"be"},{name:"Bengalce",key:"bn"},{name:"Bo\u015fnak\xe7a",key:"bs"},{name:"Bulgarca",key:"bg"},{name:"Katalanca",key:"ca"},{name:"Sabuanca",key:"ceb"},{name:"Korsikaca",key:"co"},{name:"H\u0131rvat\xe7a",key:"hr"},{name:"\xc7ek\xe7e",key:"cs"},{name:"Danca",key:"da"},{name:"Felemenk\xe7e",key:"nl"},{name:"Esperanto",key:"eo"},{name:"Estonca",key:"et"},{name:"Fince",key:"fi"},{name:"Frans\u0131zca",key:"fr"},{name:"Frizce",key:"fy"},{name:"Gali\xe7yaca",key:"gl"},{name:"G\xfcrc\xfcce",key:"ka"},{name:"Almanca",key:"de"},{name:"Yunanca",key:"el"},{name:"Gucerat\xe7a",key:"gu"},{name:"Haiti Kreyolu",key:"ht"},{name:"Hausaca",key:"ha"},{name:"Hawaii dili",key:"haw"},{name:"\u0130branice",key:"he"},{name:"Hint\xe7e",key:"hi"},{name:"Hmong",key:"hmn"},{name:"Macarca",key:"hu"},{name:"\u0130zlandaca",key:"is"},{name:"\u0130gbo dili",key:"ig"},{name:"Endonezce",key:"id"},{name:"\u0130rlandaca",key:"ga"},{name:"\u0130talyanca",key:"it"},{name:"Japonca",key:"ja"},{name:"Cava dili",key:"jw"},{name:"Kannada dili",key:"kn"},{name:"Kazak\xe7a",key:"kk"},{name:"Kmerce",key:"km"},{name:"Korece",key:"ko"},{name:"K\xfcrt\xe7e",key:"ku"},{name:"K\u0131rg\u0131zca",key:"ky"},{name:"Laoca",key:"lo"},{name:"Latince",key:"la"},{name:"Letonca",key:"lv"},{name:"Litvanca",key:"lt"},{name:"L\xfcksemburgca",key:"lb"},{name:"Makedonca",key:"mk"},{name:"Malga\u015f\xe7a",key:"mg"},{name:"Malayca",key:"ms"},{name:"Malayalamca",key:"ml"},{name:"Maltaca",key:"mt"},{name:"Maorice",key:"mi"},{name:"Marathice",key:"mr"},{name:"Mo\u011folca",key:"mn"},{name:"Birmanca",key:"my"},{name:"Nepalce",key:"ne"},{name:"Norve\xe7\xe7e",key:"no"},{name:"\xc7evaca",key:"ny"},{name:"Pe\u015ftuca",key:"ps"},{name:"Fars\xe7a",key:"fa"},{name:"Leh\xe7e",key:"pl"},{name:"Portekizce",key:"pt"},{name:"Pencap\xe7a",key:"pa"},{name:"Rumence",key:"ro"},{name:"Rus\xe7a",key:"ru"},{name:"Samoaca",key:"sm"},{name:"\u0130sko\xe7\xe7a Gaelic",key:"gd"},{name:"S\u0131rp\xe7a",key:"sr"},{name:"Sotho dili",key:"st"},{name:"\u015eona dili",key:"sn"},{name:"Since",key:"sd"},{name:"Sinhala dili",key:"si"},{name:"Slovak\xe7a",key:"sk"},{name:"Slovence",key:"sl"},{name:"Somalice",key:"so"},{name:"\u0130spanyolca",key:"es"},{name:"Sundaca",key:"su"},{name:"Svahili",key:"sw"},{name:"\u0130sve\xe7\xe7e",key:"sv"},{name:"Tagalogca",key:"tl"},{name:"Tacik\xe7e",key:"tg"},{name:"Tamilce",key:"ta"},{name:"Teluguca",key:"te"},{name:"Tayca",key:"th"},{name:"T\xfcrk\xe7e",key:"tr"},{name:"Ukraynaca",key:"uk"},{name:"Urduca",key:"ur"},{name:"\xd6zbek\xe7e",key:"uz"},{name:"Vietnamca",key:"vi"},{name:"Galce",key:"cy"},{name:"bantu",key:"xh"},{name:"Yidi\u015f",key:"yi"},{name:"Yoruba dili",key:"yo"},{name:"Zuluca",key:"zu"}]},ae=t(104),re=t(103),ie=t.n(re),oe=t(91),ce=t.n(oe),se=t(106);function le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;if(!e.trim())return Promise.resolve("");var t=new URL("https://translate.googleapis.com/translate_a/single");return t.searchParams.append("client","gtx"),t.searchParams.append("sl","auto"),t.searchParams.append("dt","t"),t.searchParams.append("tl",n),t.searchParams.append("q",e),new Promise((function(e,n){fetch(t.href).then((function(e){return e.json()})).then((function(n){e(n?n[0].map((function(e){return e[0].trim()})).join("\n"):"")})).catch((function(e){n(e)}))}))}function ue(){return de.apply(this,arguments)}function de(){return(de=Object(N.a)(C.a.mark((function e(){var n,t,a=arguments;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:[],t=a.length>1?a[1]:void 0,e.abrupt("return",new Promise((function(e,a){var r=[];!function i(){var o=n.shift();o?le(o.text,t).then((function(e){o.text=e,r.push(o),u(100).then(i)})).catch((function(e){a(e)})):e(r)}()})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(){return me.apply(this,arguments)}function me(){return(me=Object(N.a)(C.a.mark((function e(){var n,t,a,r=arguments;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>0&&void 0!==r[0]?r[0]:[],t=r.length>1?r[1]:void 0,a=r.length>2?r[2]:void 0,console.log("ai4bharat translate clicked"),e.abrupt("return",new Promise((function(e,r){var i=[],o=[];!function c(){var s=n.shift();if(s)i.push(s.text),o.push(s),c();else{var l={text_lines:i,source_language:t,target_language:a};fetch("".concat("http://216.48.182.174:5050","/batch_translate"),{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(n){console.log(n);for(var t=0;t<n.text_lines.length;t++)o[t].text=n.text_lines[t];e(o)})).catch((function(e){console.log(e),r(e)}))}}()})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ge=E.b.div(ee||(ee=Object(j.a)(["\n    position: relative;\n    box-shadow: 0px 5px 25px 5px rgb(0 0 0 / 80%);\n    background-color: rgb(0 0 0 / 100%);\n\n    .translate {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-evenly;\n        align-items: center;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n        height: 80px;\n\n        .heading {\n            h4 {\n                margin: 0;\n            }\n        }\n\n        .options {\n            display: flex;\n            width: 80%;\n        }\n\n        select {\n            width: 65%;\n            outline: none;\n            height: 35px;\n            border-radius: 3px;\n        }\n\n        .btn {\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 50%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #673ab7;\n            transition: all 0.2s ease 0s;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n    }\n\n    .reference {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-evenly;\n        align-items: center;\n        height: 80px;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n        h4 {\n            margin-bottom: 0;\n            margin-top: 0;\n        }\n    }\n\n    .ReactVirtualized__Table {\n        .ReactVirtualized__Table__Grid {\n            outline: none;\n        }\n\n        .ReactVirtualized__Grid__innerScrollContainer {\n            overflow: visible !important;\n        }\n\n        .ReactVirtualized__Table__row {\n            overflow: visible !important;\n            .item {\n                height: 100%;\n                padding: 10px;\n\n                ul {\n                    position: absolute !important;\n                    bottom: 200px !important;\n                    left: 0 !important;\n                    z-index: 9999 !important;\n                    height: 170px !important;\n                    width: 100% !important;\n                    transform: translate(0px, 0px) !important;\n                    display: block !important;\n\n                    li {\n                        color: #000 !important;\n                        border-bottom: 1px solid #999;\n                    }\n                }\n\n                .textarea {\n                    border: none;\n                    width: 100%;\n                    height: 100%;\n                    color: #fff;\n                    font-size: 12px;\n                    padding: 10px;\n                    text-align: center;\n                    background-color: rgba(255, 255, 255, 0.05);\n                    border: 1px solid rgba(255, 255, 255, 0.1);\n                    transition: all 0.2s ease;\n                    resize: none;\n                    outline: none;\n\n                    word-wrap: break-word;\n\n                    &.highlight {\n                        background-color: rgb(0 87 158);\n                        border: 1px solid rgba(255, 255, 255, 0.3);\n                    }\n\n                    &.illegal {\n                        background-color: rgb(123 29 0);\n                        border: 1px solid rgba(255, 255, 255, 0.3);\n                    }\n                }\n            }\n        }\n    }\n"])));function pe(e){var n=e.currentIndex,t=e.subtitle,i=(e.setSubtitleOriginal,e.checkSub),o=e.player,c=e.updateSub,s=e.language,l=e.setLoading,u=e.subtitleEnglish,d=e.formatSub,b=e.setSubtitle,m=e.notify,p=e.isPrimary,f=e.clearedSubs,j=(e.setClearedSubs,e.configuration,e.updateSubOriginal),O=void 0===j?null:j,y=e.translationApi,k=Object(a.useState)(100),v=Object(x.a)(k,2),S=v[0],T=v[1],E=Object(a.useState)(null),w=Object(x.a)(E,2),C=w[0],N=w[1],R=Object(a.useState)(te),_=Object(x.a)(R,2),I=_[0],L=_[1];Object(a.useEffect)((function(){localStorage.getItem("lang")?N(localStorage.getItem("lang")):N("en")}),[]),Object(a.useEffect)((function(){"AI4Bharat"===y?fetch("".concat("http://216.48.182.174:5050","/supported_languages")).then((function(e){return e.json()})).then((function(e){var n=[];for(var t in e)n.push({name:"".concat(t),key:"".concat(e[t])});L(n),localStorage.setItem("lang",n[0].key),N(n[0].key)})).catch((function(e){console.log(e)})):(L(te),localStorage.setItem("lang",te.en[1].key),N(te.en[1].key))}),[y]);var A=Object(a.useCallback)((function(){T(document.body.clientHeight-240)}),[T]);Object(a.useEffect)((function(){if(A(),!A.init){A.init=!0;var e=ce()(A,500);window.addEventListener("resize",e)}}),[A]);var D=function(e,n){var t=r.a.useState((function(){var t=window.localStorage.getItem(n);return null!==t?JSON.parse(t):e})),a=Object(x.a)(t,2),i=a[0],o=a[1];return r.a.useEffect((function(){window.localStorage.setItem(n,JSON.stringify(i))}),[n,i]),[i,o]}("as","translated-view"),z=Object(x.a)(D,2),P=z[0],B=z[1],U=Object(a.useCallback)((function(){return console.log(y),l(Object(g.t)("TRANSLATING")),f?"AI4Bharat"===y?be(d(JSON.parse(window.localStorage.getItem("subsBeforeClear"))),"en",C).then((function(e){l(""),b(d(e)),localStorage.setItem("currentLang",C),m({message:Object(g.t)("TRANSLAT_SUCCESS"),level:"success"})})).catch((function(e){l(""),m({message:e.message,level:"error"})})):ue(d(JSON.parse(window.localStorage.getItem("subsBeforeClear"))),C).then((function(e){l(""),console.log("Format Sub"),console.log(d(JSON.parse(window.localStorage.getItem("subsBeforeClear")))),b(d(e)),localStorage.setItem("currentLang",C),m({message:Object(g.t)("TRANSLAT_SUCCESS"),level:"success"})})).catch((function(e){l(""),m({message:e.message,level:"error"})})):("AI4Bharat"===y&&(console.log("localstorage get item"),console.log(localStorage.getItem("lang"))),ue(d(u),C).then((function(e){l(""),b(d(e)),localStorage.setItem("currentLang",C),m({message:Object(g.t)("TRANSLAT_SUCCESS"),level:"success"})})).catch((function(e){l(""),m({message:e.message,level:"error"})})))}),[l,u,d,b,C,m,f,y]);return t&&Object(W.jsxs)(ge,{className:"subtitles",children:[p&&C&&I&&Object(W.jsx)("div",{className:"translate",children:Object(W.jsxs)("div",{className:"options",children:[Object(W.jsx)("select",{value:P,onChange:function(e){N(e.target.value),B(e.target.value),localStorage.setItem("lang",e.target.value),console.log(localStorage.getItem("lang"))},children:(I[s]||I.en||I).map((function(e){return"en"!==e.key&&Object(W.jsx)("option",{value:e.key,children:e.name},e.key)}))}),Object(W.jsx)("div",{className:"btn",onClick:U,children:Object(W.jsx)(g.Translate,{value:"TRANSLATE"})})]})}),!p&&Object(W.jsx)("div",{className:"reference",children:Object(W.jsx)("h4",{children:"Reference Subtitles"})}),Object(W.jsx)(ae.a,{headerHeight:40,width:250,height:S,rowHeight:80,scrollToIndex:n,rowCount:t.length,rowGetter:function(e){var n=e.index;return t[n]},headerRowRenderer:function(){return null},rowRenderer:function(e){return Object(W.jsx)("div",{className:e.className,style:e.style,onClick:function(){o&&(o.pause(),o.duration>=e.rowData.startTime&&(o.currentTime=e.rowData.startTime+.001))},children:Object(W.jsx)("div",{className:"item",children:Object(W.jsx)(se.a,{className:["textarea",n===e.index?"highlight":"",i(e.rowData)?"illegal":""].join(" ").trim(),value:ie()(e.rowData.text),spellCheck:!1,onChangeText:function(n){c(e.rowData,{text:n})},onBlur:function(){return n=e.rowData,t=e.index,void(p||("AI4Bharat"===y?be([{text:n.text}],"hi",localStorage.getItem("lang")).then((function(e){O(n,e[0],t)})):ue([{text:n.text}],localStorage.getItem("lang")).then((function(e){O(n,e[0],t)}))));var n,t},enabled:!p||!(!localStorage.getItem("lang")||"en"===localStorage.getItem("lang")||"en-k"===localStorage.getItem("lang")),lang:p?"en-k"===localStorage.getItem("lang")?"en":localStorage.getItem("lang"):"hi",maxOptions:5,renderComponent:function(e){return Object(W.jsx)("textarea",Object(h.a)({},e))}})})},e.key)}})]})}var fe,he=t(298);function xe(e,n){try{return Object.keys(n).forEach((function(t){!function(e,n,t){try{e.style[n]=t}catch(a){console.log(a)}}(e,t,n[t])})),e}catch(t){console.log(t)}}function je(e,n){try{var t=document.createElement("div");function a(){}t.classList.add("backlight"),xe(t,{position:"absolute",zIndex:9,left:0,top:0,right:0,bottom:0,width:"100%",height:"100%"}),e.insertBefore(t,n),n.addEventListener("seeked",a),n.addEventListener("loadedmetadata",(function(){return setTimeout(a,1e3)})),function e(){window.requestAnimationFrame((function(){m(n),e()}))}()}catch(r){console.log(r)}}var Oe=E.b.div(fe||(fe=Object(j.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: 100%;\n    width: 100%;\n    padding: 5%;\n\n    margin-top: -13px;\n\n    .video {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        height: 100%;\n        width: auto;\n        position: relative;\n\n        video {\n            position: relative;\n            z-index: 10;\n            outline: none;\n            max-height: 100%;\n            max-width: 100%;\n            box-shadow: 0px 5px 25px 5px rgb(0 0 0 / 80%);\n            background-color: #000;\n            cursor: pointer;\n        }\n\n        .subtitle {\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            align-items: center;\n            position: absolute;\n            z-index: 20;\n            left: 0;\n            right: 0;\n            bottom: 5%;\n            width: 100%;\n            padding: 0 20px;\n            user-select: none;\n            pointer-events: none;\n\n            .operate {\n                padding: 5px 15px;\n                color: #fff;\n                font-size: 13px;\n                border-radius: 3px;\n                margin-bottom: 5px;\n                background-color: rgb(0 0 0 / 75%);\n                border: 1px solid rgb(255 255 255 / 20%);\n                cursor: pointer;\n                pointer-events: all;\n            }\n\n            .textarea {\n                width: 100%;\n                outline: none;\n                resize: none;\n                text-align: center;\n                line-height: 1.2;\n                border: none;\n                color: #fff;\n                font-size: 20px;\n                padding: 5px 10px;\n                user-select: all;\n                pointer-events: all;\n                background-color: rgb(0 0 0 / 0);\n                text-shadow: rgb(0 0 0) 1px 0px 1px, rgb(0 0 0) 0px 1px 1px, rgb(0 0 0) -1px 0px 1px,\n                    rgb(0 0 0) 0px -1px 1px;\n\n                &.pause {\n                    background-color: rgb(0 0 0 / 50%);\n                }\n            }\n        }\n    }\n"]))),ye=Object(a.memo)((function(e){var n=e.setPlayer,t=e.setCurrentTime,r=e.setPlaying,i=Object(a.createRef)();Object(a.useEffect)((function(){n(i.current),function e(){window.requestAnimationFrame((function(){i.current&&(r(m(i.current)),t(i.current.currentTime||0)),e()}))}()}),[n,t,r,i]);var o=Object(a.useCallback)((function(){i.current&&(m(i.current)?i.current.pause():i.current.play())}),[i]);return Object(W.jsx)("video",{onClick:o,src:localStorage.getItem("videoSrc"),ref:i})}),(function(){return!0}));function ke(e){var n=Object(a.useState)(null),t=Object(x.a)(n,2),r=t[0],i=t[1],o=Object(a.useState)(!1),c=Object(x.a)(o,2),s=c[0],l=c[1],u=Object(a.useState)(0),d=Object(x.a)(u,2),b=d[0],m=d[1],p=Object(a.createRef)();Object(a.useEffect)((function(){p.current&&e.player&&!je.state&&(je.state=!0,je(p.current,e.player))}),[p,e.player]),Object(a.useMemo)((function(){i(e.subtitle[e.currentIndex])}),[e.subtitle,e.currentIndex]);var f=Object(a.useCallback)((function(n){e.player.pause(),e.updateSub(r,{text:n.target.value}),n.target.selectionStart&&m(n.target.selectionStart)}),[e,r]),j=Object(a.useCallback)((function(n){e.player.pause(),n.target.selectionStart&&m(n.target.selectionStart)}),[e]),O=Object(a.useCallback)((function(e){l(!0),e.target.selectionStart&&m(e.target.selectionStart)}),[]),y=Object(a.useCallback)((function(){setTimeout((function(){return l(!1)}),500)}),[]),k=Object(a.useCallback)((function(){e.splitSub(r,b)}),[e,r,b]);return Object(W.jsx)(Oe,{className:"player",children:Object(W.jsxs)("div",{className:"video",ref:p,children:[Object(W.jsx)(ye,Object(h.a)({},e)),e.player&&r?Object(W.jsxs)("div",{className:"subtitle",children:[s?Object(W.jsx)("div",{className:"operate",onClick:k,children:Object(W.jsx)(g.Translate,{value:"SPLIT"})}):null,Object(W.jsx)(he.a,{className:"textarea ".concat(e.playing?"":"pause"),value:r.text,onChange:f,onClick:j,onFocus:O,onBlur:y,onKeyDown:O,spellCheck:!1})]}):null]})})}var ve,Se=t(170),Te=t(214),Ee=t.n(Te),we=t(296),Ce=t.n(we),Ne=t(134),Re=E.b.div(ve||(ve=Object(j.a)(["\n    position: absolute;\n    z-index: 9;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    pointer-events: none;\n\n    .react-contextmenu-wrapper {\n        position: absolute;\n        z-index: 9;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        pointer-events: all;\n    }\n\n    .sub-item {\n        position: absolute;\n        top: 30%;\n        left: 0;\n        height: 40%;\n        overflow: hidden;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        text-align: center;\n        color: #fff;\n        font-size: 14px;\n        cursor: move;\n        user-select: none;\n        pointer-events: all;\n        background-color: rgba(255, 255, 255, 0.2);\n        border: 1px solid rgba(255, 255, 255, 0.2);\n\n        &:hover {\n            background-color: rgba(255, 255, 255, 0.3);\n        }\n\n        &.sub-highlight {\n            background-color: rgba(33, 150, 243, 0.5);\n            border: 1px solid rgba(33, 150, 243, 0.5);\n        }\n\n        &.sub-illegal {\n            background-color: rgba(199, 81, 35, 0.5);\n        }\n\n        .sub-handle {\n            position: absolute;\n            top: 0;\n            bottom: 0;\n            z-index: 1;\n            height: 100%;\n            cursor: col-resize;\n            user-select: none;\n            &:hover {\n                background-color: rgba(255, 255, 255, 0.1);\n            }\n        }\n\n        .sub-text {\n            position: relative;\n            z-index: 0;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            flex-direction: column;\n            word-break: break-all;\n            white-space: nowrap;\n            text-shadow: rgb(0 0 0) 1px 0px 1px, rgb(0 0 0) 0px 1px 1px, rgb(0 0 0) -1px 0px 1px,\n                rgb(0 0 0) 0px -1px 1px;\n            width: 100%;\n            height: 100%;\n\n            p {\n                margin: 2px 0;\n                line-height: 1;\n\n                &.bilingual {\n                    transform: scale(0.8);\n                }\n            }\n        }\n\n        .sub-duration {\n            opacity: 0.5;\n            position: absolute;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            width: 100%;\n            text-align: center;\n            font-size: 12px;\n        }\n    }\n"])));function _e(e,n){return n&&e>n-.1&&n+.1>e?n:e}var Ie,Le,Ae=null,De=null,ze="",Pe=0,Be=-1,Ue=0,Fe=0,Ge=!1,Me=r.a.memo((function(e){var n,t,i,o=e.player,c=e.subtitle,s=e.render,l=e.currentTime,u=e.checkSub,d=e.removeSub,m=e.hasSub,p=e.updateSub,f=e.mergeSub,h=e.updateSubEnglish,x=r.a.createRef(),j=r.a.createRef(),O=(n=c,t=s.beginTime,i=s.duration,n.filter((function(e){return e.startTime>=t&&e.startTime<=t+i||e.endTime>=t&&e.endTime<=t+i||e.startTime<t&&e.endTime>t+i}))),y=document.body.clientWidth/s.gridNum,k=O.findIndex((function(e){return e.startTime<=l&&e.endTime>l})),S=function(e,n,t){De=e,0===n.button&&(Ge=!0,ze=t,Pe=n.pageX,Be=O.indexOf(e),Ae=j.current.children[Be],Ue=parseFloat(Ae.style.width))},T=Object(a.useCallback)((function(e){Ge&&Ae&&(Fe=e.pageX-Pe,"left"===ze?(Ae.style.width="".concat(Ue-Fe,"px"),Ae.style.transform="translate(".concat(Fe,"px)")):"right"===ze?Ae.style.width="".concat(Ue+Fe,"px"):Ae.style.transform="translate(".concat(Fe,"px)"))}),[]),E=Object(a.useCallback)((function(){if(Ge&&Ae&&Fe){var e=Fe/y/10,n=m(De),t=c[n-1],a=c[n+1],r=_e(De.startTime+e,t?t.endTime:null),i=_e(De.endTime+e,a?a.startTime:null),o=10*(i-r)*y;if(t&&i<t.startTime||a&&r>a.endTime);else if(console.log("here"),"left"===ze)if(r>=0&&De.endTime-r>=.2){var s=v.a.d2t(r);p(De,{start:s}),h(De,{start:s})}else Ae.style.width="".concat(o,"px");else if("right"===ze)if(i>=0&&i-De.startTime>=.2){var l=v.a.d2t(i);p(De,{end:l}),h(De,{end:l})}else Ae.style.width="".concat(o,"px");else if(r>0&&i>0&&i-r>=.2){var u=v.a.d2t(r),d=v.a.d2t(i);p(De,{start:u,end:d}),h(De,{start:u,end:d})}else Ae.style.width="".concat(o,"px");Ae.style.transform="translate(0)"}ze="",Pe=0,Ue=0,Fe=0,Ge=!1}),[y,m,c,p,h]),w=Object(a.useCallback)((function(e){var n=O[Be];if(n&&Ae)switch(b(e)){case 37:p(n,{start:v.a.d2t(n.startTime-.1),end:v.a.d2t(n.endTime-.1)}),o.currentTime=n.startTime-.1;break;case 39:p(n,{start:v.a.d2t(n.startTime+.1),end:v.a.d2t(n.endTime+.1)}),o.currentTime=n.startTime+.1;break;case 8:case 46:d(n)}}),[O,o,d,p]);return Object(a.useEffect)((function(){return document.addEventListener("mousemove",T),document.addEventListener("mouseup",E),window.addEventListener("keydown",w),function(){document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",E),window.removeEventListener("keydown",w)}}),[T,E,w]),Object(W.jsxs)(Re,{ref:x,children:[Object(W.jsx)("div",{ref:j,children:O.map((function(e,n){return Object(W.jsx)("div",{className:["sub-item",n===k?"sub-highlight":"",u(e)?"sub-illegal":""].join(" ").trim(),style:{left:s.padding*y+(e.startTime-s.beginTime)*y*10,width:(e.endTime-e.startTime)*y*10},onClick:function(){o.duration>=e.startTime&&(o.currentTime=e.startTime+.001)},onDoubleClick:function(n){return function(e,n){var t=n.currentTarget,a=m(e),r=c[a-1],i=c[a+1];if(r&&i){var o=10*(i.startTime-r.endTime)*y;t.style.width="".concat(o,"px");var s=v.a.d2t(r.endTime),l=v.a.d2t(i.startTime);p(e,{start:s,end:l})}}(e,n)},children:Object(W.jsxs)(Ne.b,{id:"contextmenu",holdToDisplay:-1,children:[Object(W.jsx)("div",{className:"sub-handle",style:{left:0,width:10},onMouseDown:function(n){return S(e,n,"left")}}),Object(W.jsx)("div",{className:"sub-text",title:e.text,onMouseDown:function(n){return S(e,n)},children:"".concat(e.text).split(/\r?\n/).map((function(e,n){return Object(W.jsx)("p",{children:e},n)}))}),Object(W.jsx)("div",{className:"sub-handle",style:{right:0,width:10},onMouseDown:function(n){return S(e,n,"right")}}),Object(W.jsx)("div",{className:"sub-duration",children:e.duration})]})},n)}))}),Object(W.jsxs)(Ne.a,{id:"contextmenu",children:[Object(W.jsx)(Ne.c,{onClick:function(){return d(De)},children:Object(W.jsx)(g.Translate,{value:"DELETE"})}),Object(W.jsx)(Ne.c,{onClick:function(){return f(De)},children:Object(W.jsx)(g.Translate,{value:"MERGE"})})]})]})}),(function(e,n){return T()(e.subtitle,n.subtitle)&&T()(e.render,n.render)&&e.currentTime===n.currentTime})),Ve=E.b.div(Ie||(Ie=Object(j.a)(["\n    position: absolute;\n    z-index: 8;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    cursor: ew-resize;\n    user-select: none;\n\n    .template {\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        height: 100%;\n        background-color: rgba(76, 175, 80, 0.5);\n        border-left: 1px solid rgba(76, 175, 80, 0.8);\n        border-right: 1px solid rgba(76, 175, 80, 0.8);\n        user-select: none;\n        pointer-events: none;\n    }\n"])));function Xe(e){var n=e.render,t=e.subtitle,r=e.newSub,i=e.addSub,o=e.player,c=e.playing,s=Object(a.useState)(!1),l=Object(x.a)(s,2),u=l[0],d=l[1],b=Object(a.useState)(0),m=Object(x.a)(b,2),p=m[0],f=m[1],h=Object(a.useState)(0),j=Object(x.a)(h,2),O=j[0],y=j[1],k=document.body.clientWidth/n.gridNum,S=Object(a.useCallback)((function(e){return(e.pageX-n.padding*k)/k/10+n.beginTime}),[k,n]),T=Object(a.useCallback)((function(e){if(0===e.button){var n=S(e);d(!0),f(n)}}),[S]),E=Object(a.useCallback)((function(e){u&&(c&&o.pause(),y(S(e)))}),[u,c,o,S]),w=Object(a.useCallback)((function(){if(u&&p>0&&O>0&&O-p>=.2){var e=(c=p,(o=t).findIndex((function(e,n){return c>=e.endTime&&!o[n+1]||e.startTime<=c&&e.endTime>c||c>=e.endTime&&o[n+1]&&c<o[n+1].startTime}))+1),n=v.a.d2t(p),a=v.a.d2t(O);i(e,r({start:n,end:a,text:Object(g.t)("SUB_TEXT")}))}var o,c;d(!1),f(0),y(0)}),[u,p,O,t,i,r]);return Object(a.useEffect)((function(){return document.addEventListener("mouseup",w),function(){return document.removeEventListener("mouseup",w)}}),[w]),Object(W.jsx)(Ve,{onMouseDown:T,onMouseMove:E,children:o&&!c&&p&&O&&O>p?Object(W.jsx)("div",{className:"template",style:{left:n.padding*k+(p-n.beginTime)*k*10,width:(O-p)*k*10}}):null})}var He,Ye=E.b.div(Le||(Le=Object(j.a)(["\n    position: relative;\n    display: flex;\n    flex-direction: column;\n\n    .progress {\n        position: absolute;\n        left: 0;\n        right: 0;\n        top: -12px;\n        z-index: 11;\n        width: 100%;\n        height: 12px;\n        user-select: none;\n        border-top: 1px solid rgb(255 255 255 / 20%);\n        background-color: rgb(0 0 0 / 50%);\n\n        .bar {\n            position: absolute;\n            left: 0;\n            top: 0;\n            bottom: 0;\n            width: 0%;\n            height: 100%;\n            display: inline-block;\n            background-color: #730000;\n            overflow: hidden;\n\n            .handle {\n                position: absolute;\n                right: 0;\n                top: 0;\n                bottom: 0;\n                width: 10px;\n                cursor: ew-resize;\n                background-color: #ff9800;\n            }\n        }\n\n        .subtitle {\n            position: absolute;\n            left: 0;\n            top: 0;\n            bottom: 0;\n            right: 0;\n            width: 100%;\n            height: 100%;\n            pointer-events: none;\n\n            span {\n                position: absolute;\n                top: 0;\n                bottom: 0;\n                height: 100%;\n                background-color: rgb(255 255 255 / 20%);\n            }\n        }\n    }\n\n    .duration {\n        position: absolute;\n        left: 0;\n        right: 0;\n        top: -40px;\n        z-index: 12;\n        width: 100%;\n        font-size: 18px;\n        color: rgb(255 255 255 / 75%);\n        text-shadow: 0 1px 2px rgb(0 0 0 / 75%);\n        text-align: center;\n        user-select: none;\n        pointer-events: none;\n    }\n\n    .waveform {\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        z-index: 1;\n        width: 100%;\n        height: 100%;\n        z-index: 1;\n        user-select: none;\n        pointer-events: none;\n    }\n\n    .grab {\n        position: relative;\n        z-index: 11;\n        cursor: grab;\n        height: 20%;\n        user-select: none;\n        background-color: rgb(33 150 243 / 20%);\n        border-top: 1px solid rgb(33 150 243 / 30%);\n        border-bottom: 1px solid rgb(33 150 243 / 30%);\n\n        &.grabbing {\n            cursor: grabbing;\n        }\n    }\n"]))),Je=Object(a.memo)((function(e){var n=e.player,t=e.setWaveform,r=e.setRender,i=Object(a.createRef)();return Object(a.useEffect)((function(){Object(Se.a)(Ee.a.instances).forEach((function(e){return e.destroy()}));var e=new Ee.a({scrollable:!0,useWorker:!1,duration:10,padding:1,wave:!0,pixelRatio:2,container:i.current,mediaElement:n,backgroundColor:"rgba(0, 0, 0, 0)",waveColor:"rgba(255, 255, 255, 0.2)",progressColor:"rgba(255, 255, 255, 0.5)",gridColor:"rgba(255, 255, 255, 0.05)",rulerColor:"rgba(255, 255, 255, 0.5)",paddingColor:"rgba(0, 0, 0, 0)"});t(e),e.on("update",r),e.load("/sample.mp3")}),[n,i,t,r]),Object(W.jsx)("div",{className:"waveform",ref:i})}),(function(){return!0})),Ke=function(e){var n=Object(a.useState)(0),t=Object(x.a)(n,2),r=t[0],i=t[1],o=Object(a.useState)(0),c=Object(x.a)(o,2),s=c[0],l=c[1],u=Object(a.useState)(!1),d=Object(x.a)(u,2),b=d[0],m=d[1],g=Object(a.useCallback)((function(n){0===n.button&&(i(n.pageX),l(e.player.currentTime),m(!0))}),[e.player]),p=function(){i(0),l(0),m(!1)},f=Object(a.useCallback)((function(n){if(b&&e.player&&e.waveform){var t=L()(s-(n.pageX-r)/document.body.clientWidth*10,0,e.player.duration);e.player.currentTime=t,e.waveform.seek(t)}}),[b,e.player,e.waveform,r,s]);return Object(a.useEffect)((function(){return document.addEventListener("mouseup",p),function(){return document.removeEventListener("mouseup",p)}}),[]),Object(W.jsx)("div",{className:"grab ".concat(b?"grabbing":""),onMouseDown:g,onMouseMove:f})},We=function(e){var n=Object(a.useState)(!1),t=Object(x.a)(n,2),r=t[0],i=t[1],o=Object(a.useCallback)((function(n){if(0===n.button){var t=n.pageX/document.body.clientWidth*e.player.duration;e.player.currentTime=t,e.waveform.seek(t)}}),[e]),c=Object(a.useCallback)((function(e){0===e.button&&i(!0)}),[i]),s=Object(a.useCallback)((function(n){if(r){var t=n.pageX/document.body.clientWidth*e.player.duration;e.player.currentTime=t}}),[r,e.player]),l=Object(a.useCallback)((function(){r&&(i(!1),e.waveform.seek(e.player.currentTime))}),[r,e.waveform,e.player.currentTime]);return Object(a.useEffect)((function(){return document.addEventListener("mouseup",l),document.addEventListener("mousemove",s),function(){document.removeEventListener("mouseup",l),document.removeEventListener("mousemove",s)}}),[l,s]),Object(W.jsxs)("div",{className:"progress",onClick:o,children:[Object(W.jsx)("div",{className:"bar",style:{width:"".concat(e.currentTime/e.player.duration*100,"%")},children:Object(W.jsx)("div",{className:"handle",onMouseDown:c})}),Object(W.jsx)("div",{className:"subtitle",children:e.subtitle.length<=200?e.subtitle.map((function(n,t){var a=e.player.duration;return Object(W.jsx)("span",{className:"item",style:{left:"".concat(n.startTime/a*100,"%"),width:"".concat(n.duration/a*100,"%")}},t)})):null})]})},qe=function(e){var n=Object(a.useCallback)((function(e){return e=e===1/0?0:e,v.a.d2t(e).split(".")[0]}),[]);return Object(W.jsx)("div",{className:"duration",children:Object(W.jsxs)("span",{children:[n(e.currentTime)," / ",n(e.player.duration||0)]})})};function $e(e){var n=Object(a.createRef)(),t=Object(a.useState)({padding:2,duration:10,gridGap:10,gridNum:110,beginTime:-5}),i=Object(x.a)(t,2),o=i[0],c=i[1],s=Object(a.useCallback)((function(t){if(e.player&&e.waveform&&!e.player.playing&&n.current&&n.current.contains(t.target)){var a=Math.sign(t.deltaY)/5,r=L()(e.player.currentTime+a,0,e.player.duration);e.player.currentTime=r,e.waveform.seek(r)}}),[e.waveform,e.player,n]);return Object(a.useEffect)((function(){var e=Ce()(s,100);return window.addEventListener("wheel",e),function(){return window.removeEventListener("wheel",e)}}),[s]),Object(W.jsx)(Ye,{className:"footer",ref:n,children:e.player?Object(W.jsxs)(r.a.Fragment,{children:[Object(W.jsx)(We,Object(h.a)({},e)),Object(W.jsx)(qe,Object(h.a)({},e)),Object(W.jsx)(Je,Object(h.a)(Object(h.a)({},e),{},{setRender:c})),Object(W.jsx)(Ke,Object(h.a)(Object(h.a)({},e),{},{render:o})),Object(W.jsx)(Xe,Object(h.a)(Object(h.a)({},e),{},{render:o})),Object(W.jsx)(Me,Object(h.a)(Object(h.a)({},e),{},{render:o}))]}):null})}var Ze,Qe=E.b.div(He||(He=Object(j.a)(["\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    z-index: 99;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    -webkit-backdrop-filter: saturate(180%) blur(2px);\n    backdrop-filter: saturate(180%) blur(2px);\n    background-color: rgba(0, 0, 0, 0.5);\n\n    .loading-inner {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        flex-direction: column;\n        width: 200px;\n        height: 200px;\n        padding: 0 10px;\n        border-radius: 10px;\n        color: #fff;\n        background-color: rgb(34 36 60 / 95%);\n        box-shadow: 0 0 3px 0 rgba(0, 0, 0, 0.5);\n\n        img {\n            zoom: 0.5;\n            margin-bottom: 10px;\n        }\n    }\n"])));function en(e){var n=e.loading;return Object(W.jsx)(Qe,{children:Object(W.jsxs)("div",{className:"loading-inner",children:[Object(W.jsx)("img",{src:"/loading.svg",alt:"loading"}),Object(W.jsx)("div",{children:n||Object(g.t)("LOADING")})]})})}var nn,tn=E.b.div(Ze||(Ze=Object(j.a)(["\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    z-index: 999;\n    width: 100%;\n    height: 3px;\n    user-select: none;\n    pointer-events: none;\n\n    .inner {\n        position: relative;\n        height: 100%;\n        background-color: #f00;\n        transition: all 0.3s ease 0s;\n        span {\n            position: absolute;\n            top: 3px;\n            right: 0;\n            padding: 2px 5px;\n            color: #fff;\n            font-size: 12px;\n            background-color: rgb(0 0 0 / 80%);\n        }\n    }\n"])));function an(e){var n=e.processing;return Object(W.jsx)(tn,{children:Object(W.jsx)("div",{className:"inner",style:{width:"".concat(n,"%")},children:Object(W.jsx)("span",{children:"".concat(n.toFixed(2),"%")})})})}function rn(){return Object(W.jsx)("div",{className:"links",style:{paddingLeft:"0.3%",paddingTop:"0.5%"},children:Object(W.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://ai4bharat.org/",children:Object(W.jsx)("img",{style:{width:"100px"},src:"https://i.imgur.com/pVT5Mjp.png",alt:"AI4B Logo"})})})}var on,cn=E.b.div(nn||(nn=Object(j.a)(["\n    position: relative;\n    box-shadow: 0px 5px 25px 5px rgb(0 0 0 / 80%);\n    background-color: rgb(0 0 0 / 100%);\n\n    .transcribe {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-evenly;\n        align-items: center;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n        height: 80px;\n\n        .heading {\n            h4 {\n                margin: 0;\n            }\n        }\n\n        .options {\n            display: flex;\n            width: 100%;\n            align-items: center;\n            justify-content: center;\n\n            span {\n                font-size: 18px;\n            }\n        }\n        \n        select {\n            width: 65%;\n            outline: none;\n            height: 35px;\n            border-radius: 3px;\n        }\n\n        .btn {\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 60%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #673ab7;\n            transition: all 0.2s ease 0s;\n            margin-right: 10px;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n    }\n\n    .reference {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-evenly;\n        align-items: center;\n        height: 80px;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n        h4 {\n            margin-bottom: 0;\n            margin-top: 0;\n        }\n    }\n\n    .ReactVirtualized__Table {\n        .ReactVirtualized__Table__Grid {\n            outline: none;\n        }\n\n        .ReactVirtualized__Grid__innerScrollContainer {\n            overflow: visible !important;\n        }\n\n        .ReactVirtualized__Table__row {\n            overflow: visible !important;\n            .item {\n                height: 100%;\n                padding: 10px;\n\n                ul {\n                    position: absolute !important;\n                    bottom: 200px !important;\n                    left: 0 !important;\n                    z-index: 9999 !important;\n                    height: 170px !important;\n                    width: 100% !important;\n                    transform: translate(0px, 0px) !important;\n                    display: block !important;\n\n                    li {\n                        color: #000 !important;\n                        border-bottom: 1px solid #999;\n                    }\n                }\n\n                .textarea {\n                    border: none;\n                    width: 100%;\n                    height: 100%;\n                    color: #fff;\n                    font-size: 12px;\n                    padding: 10px;\n                    text-align: center;\n                    background-color: rgba(255, 255, 255, 0.05);\n                    border: 1px solid rgba(255, 255, 255, 0.1);\n                    transition: all 0.2s ease;\n                    resize: none;\n                    outline: none;\n\n                    word-wrap: break-word;\n\n                    &.highlight {\n                        background-color: rgb(0 87 158);\n                        border: 1px solid rgba(255, 255, 255, 0.3);\n                    }\n\n                    &.illegal {\n                        background-color: rgb(123 29 0);\n                        border: 1px solid rgba(255, 255, 255, 0.3);\n                    }\n                }\n            }\n        }\n    }\n"])));function sn(e){var n=e.currentIndex,t=(e.subtitle,e.setSubtitleOriginal,e.checkSub),i=e.player,o=e.updateSub,c=e.language,s=e.setLoading,l=e.subtitleEnglish,u=e.formatSub,d=e.setSubtitle,b=e.notify,m=e.isPrimary,p=(e.clearedSubs,e.setClearedSubs,e.updateSubOriginal),f=void 0===p?null:p,j=e.clearSubs,O=e.setSubtitleEnglish,y=(e.translationApi,Object(a.useState)(100)),k=Object(x.a)(y,2),v=k[0],S=k[1],T=Object(a.useState)(null),E=Object(x.a)(T,2),w=(E[0],E[1]),C=Object(a.useState)([]),N=Object(x.a)(C,2),R=N[0],_=N[1];Object(a.useEffect)((function(){localStorage.getItem("lang")?w(localStorage.getItem("lang")):w("en")}),[]),Object(a.useEffect)((function(){fetch("".concat("http://216.48.182.174:5000","/supported_languages")).then((function(e){return e.json()})).then((function(e){var n=[];for(var t in e)n.push({name:"".concat(t),key:"".concat(e[t])});_(n),localStorage.setItem("lang",n[0].key),w(n[0].key)})).catch((function(e){console.log(e)}))}),[]);var I=function(e,n){var t=r.a.useState((function(){var t=window.localStorage.getItem(n);return null!==t?JSON.parse(t):e})),a=Object(x.a)(t,2),i=a[0],o=a[1];return r.a.useEffect((function(){window.localStorage.setItem(n,JSON.stringify(i))}),[n,i]),[i,o]}("as","transcribed-view"),L=Object(x.a)(I,2),A=L[0],D=L[1],B=Object(a.useCallback)((function(){S(document.body.clientHeight-240)}),[S]);Object(a.useEffect)((function(){if(B(),!B.init){B.init=!0;var e=ce()(B,500);window.addEventListener("resize",e)}}),[B]);var U=Object(a.useCallback)((function(){console.log(localStorage.getItem("youtubeURL"));var e=localStorage.getItem("lang");s(Object(g.t)("TRANSCRIBING"));var n=localStorage.getItem("youtubeURL");console.log("localstorage transcribe get item"+localStorage.getItem("lang"));var t={url:n,vad_level:2,chunk_size:10,language:e};return fetch("".concat("http://216.48.182.174:5000","/transcribe"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){console.log(e.output),i.currentTime=0,j(),z(P(e.output)).then((function(e){d(u(e)),O(u(e)),localStorage.setItem("subtitle",JSON.stringify(e)),localStorage.setItem("subtitleEnglish",JSON.stringify(e))}))})).then((function(){return s("")})).catch((function(e){console.log(e),s(""),b({message:e.message,level:"error"})}))}),[s,u,d,b,j,i,O]);return Object(W.jsxs)(cn,{className:"subtitles",children:[m&&Object(W.jsxs)("div",{className:"transcribe",children:[Object(W.jsx)("div",{className:"heading",children:Object(W.jsx)("h4",{children:"Speech-To-Text"})}),console.log("rendering here"),Object(W.jsxs)("div",{className:"options",children:[Object(W.jsx)("select",{value:A,onChange:function(e){D(e.target.value),localStorage.setItem("lang",e.target.value),w(localStorage.getItem("lang"))},children:(R[c]||R.en||R).map((function(e){return Object(W.jsx)("option",{value:e.key,children:e.name},e.key)}))}),Object(W.jsx)("div",{className:"btn",onClick:U,children:Object(W.jsx)(g.Translate,{value:"TRANSCRIBE"})})]})]}),!m&&Object(W.jsxs)("div",{className:"reference",children:[Object(W.jsx)("h4",{children:"Reference Subtitles"}),Object(W.jsxs)("span",{children:["Language : ",te.en.filter((function(e){return e.key===c}))[0].name]})]}),Object(W.jsx)(ae.a,{headerHeight:40,width:250,height:v,rowHeight:80,scrollToIndex:n,rowCount:l.length,rowGetter:function(e){var n=e.index;return l[n]},headerRowRenderer:function(){return null},rowRenderer:function(e){return Object(W.jsx)("div",{className:e.className,style:e.style,onClick:function(){i&&(i.pause(),i.duration>=e.rowData.startTime&&(i.currentTime=e.rowData.startTime+.001))},children:Object(W.jsx)("div",{className:"item",children:Object(W.jsx)(se.a,{className:["textarea",n===e.index?"highlight":"",t(e.rowData)?"illegal":""].join(" ").trim(),value:ie()(e.rowData.text),spellCheck:!1,onChangeText:function(n){console.log(n),o(e.rowData,{text:n})},onBlur:function(){return n=e.rowData,t=e.index,void(m||ue([{text:n.text}],localStorage.getItem("lang")).then((function(e){f(n,e[0],t)})));var n,t},enabled:!0,lang:localStorage.getItem("lang"),maxOptions:5,renderComponent:function(e){return Object(W.jsx)("textarea",Object(h.a)({},e))}})})},e.key)}})]})}function ln(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!e.trim())return Promise.resolve("");var n=new URL("".concat("http://216.48.182.174:5050","/lemmatize_sentence"));return n.searchParams.append("sentence",e),n.searchParams.append("lang","en"),new Promise((function(e,t){fetch(n.href).then((function(e){return e.json()})).then((function(n){e(n||"")})).catch((function(e){t(e)}))}))}function un(){return dn.apply(this,arguments)}function dn(){return(dn=Object(N.a)(C.a.mark((function e(){var n,t,a=arguments;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:[],t=a.length>1?a[1]:void 0,e.abrupt("return",new Promise((function(e,a){var r=[];!function i(){var o=n.shift();o?ln(o.text,t).then((function(e){o.text=e,r.push(o),u(100).then(i)})).catch((function(e){a(e)})):e(r)}()})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var bn,mn=E.b.div(on||(on=Object(j.a)(["\n    position: relative;\n    box-shadow: 0px 5px 25px 5px rgb(0 0 0 / 80%);\n    background-color: rgb(0 0 0 / 100%);\n\n    .translate {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-evenly;\n        align-items: center;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n        height: 80px;\n\n        .heading {\n            h4 {\n                margin: 0;\n            }\n        }\n\n        .options {\n            display: flex;\n            width: 90%;\n        }\n\n        select {\n            width: 65%;\n            outline: none;\n            height: 35px;\n            border-radius: 3px;\n        }\n\n        .btn {\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 100%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #673ab7;\n            transition: all 0.2s ease 0s;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n    }\n\n    .reference {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-evenly;\n        align-items: center;\n        height: 80px;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n        h4 {\n            margin-bottom: 0;\n            margin-top: 0;\n        }\n    }\n\n    .ReactVirtualized__Table {\n        .ReactVirtualized__Table__Grid {\n            outline: none;\n        }\n\n        .ReactVirtualized__Grid__innerScrollContainer {\n            overflow: visible !important;\n        }\n\n        .ReactVirtualized__Table__row {\n            overflow: visible !important;\n            .item {\n                height: 100%;\n                padding: 10px;\n\n                ul {\n                    position: absolute !important;\n                    bottom: 200px !important;\n                    left: 0 !important;\n                    z-index: 9999 !important;\n                    height: 170px !important;\n                    width: 100% !important;\n                    transform: translate(0px, 0px) !important;\n                    display: block !important;\n\n                    li {\n                        color: #000 !important;\n                        border-bottom: 1px solid #999;\n                    }\n                }\n\n                .textarea {\n                    border: none;\n                    width: 100%;\n                    height: 100%;\n                    color: #fff;\n                    font-size: 12px;\n                    padding: 10px;\n                    text-align: center;\n                    background-color: rgba(255, 255, 255, 0.05);\n                    border: 1px solid rgba(255, 255, 255, 0.1);\n                    transition: all 0.2s ease;\n                    resize: none;\n                    outline: none;\n\n                    word-wrap: break-word;\n\n                    &.highlight {\n                        background-color: rgb(0 87 158);\n                        border: 1px solid rgba(255, 255, 255, 0.3);\n                    }\n\n                    &.illegal {\n                        background-color: rgb(123 29 0);\n                        border: 1px solid rgba(255, 255, 255, 0.3);\n                    }\n                }\n            }\n        }\n    }\n"])));function gn(e){var n=e.currentIndex,t=e.subtitle,r=(e.setSubtitleOriginal,e.checkSub),i=e.player,o=e.updateSub,c=e.language,s=e.setLoading,l=(e.subtitleEnglish,e.formatSub),u=e.setSubtitle,d=e.notify,b=e.isPrimary,m=e.clearedSubs,p=(e.setClearedSubs,e.updateSubOriginal),f=void 0===p?null:p,j=Object(a.useState)(100),O=Object(x.a)(j,2),y=O[0],k=O[1],v=Object(a.useState)(null),S=Object(x.a)(v,2),T=S[0],E=S[1],w=Object(a.useCallback)((function(){k(document.body.clientHeight-240)}),[k]);Object(a.useEffect)((function(){if(w(),!w.init){w.init=!0;var e=ce()(w,500);window.addEventListener("resize",e)}}),[w]);var C=Object(a.useCallback)((function(){return s(Object(g.t)("TRANSLATING")),m?ue(l(JSON.parse(window.localStorage.getItem("subsBeforeClear"))),"en").then((function(e){un(l(e),T).then((function(e){s(""),u(l(e)),d({message:Object(g.t)("TRANSLAT_SUCCESS"),level:"success"})})).catch((function(e){s(""),d({message:e.message,level:"error"})}))})).catch((function(e){s(""),d({message:e.message,level:"error"})})):ue(l(t),"en").then((function(e){un(l(e),T).then((function(e){s(""),u(l(e)),d({message:Object(g.t)("TRANSLAT_SUCCESS"),level:"success"})})).catch((function(e){s(""),d({message:e.message,level:"error"})}))})).catch((function(e){s(""),d({message:e.message,level:"error"})}))}),[t,s,l,u,T,d,m]);return Object(a.useEffect)((function(){localStorage.getItem("lang")?E(localStorage.getItem("lang")):E("en")}),[]),t&&Object(W.jsxs)(mn,{className:"subtitles",children:[b&&Object(W.jsxs)("div",{className:"translate",children:[Object(W.jsx)("div",{className:"heading",children:Object(W.jsx)("h4",{children:" Sign Language Subtitling"})}),Object(W.jsx)("div",{className:"options",children:Object(W.jsx)("div",{className:"btn",onClick:C,children:Object(W.jsx)(g.Translate,{value:"TRANSLATE"})})})]}),!b&&Object(W.jsxs)("div",{className:"reference",children:[Object(W.jsx)("h4",{children:"Reference Subtitles"}),Object(W.jsxs)("span",{children:["Language : ",te.en.filter((function(e){return e.key===c}))[0].name]})]}),Object(W.jsx)(ae.a,{headerHeight:40,width:250,height:y,rowHeight:80,scrollToIndex:n,rowCount:t.length,rowGetter:function(e){var n=e.index;return t[n]},headerRowRenderer:function(){return null},rowRenderer:function(e){return Object(W.jsx)("div",{className:e.className,style:e.style,onClick:function(){i&&(i.pause(),i.duration>=e.rowData.startTime&&(i.currentTime=e.rowData.startTime+.001))},children:Object(W.jsx)("div",{className:"item",children:Object(W.jsx)(se.a,{className:["textarea",n===e.index?"highlight":"",r(e.rowData)?"illegal":""].join(" ").trim(),value:ie()(e.rowData.text),spellCheck:!1,onChangeText:function(n){o(e.rowData,{text:n})},onBlur:function(){return n=e.rowData,t=e.index,void(b||ue([{text:n.text}],localStorage.getItem("lang")).then((function(e){f(n,e[0],t)})));var n,t},enabled:!1,lang:b?"en-k"===localStorage.getItem("lang")?"en":localStorage.getItem("lang"):"en",maxOptions:5,renderComponent:function(e){return Object(W.jsx)("textarea",Object(h.a)({},e))}})})},e.key)}})]})}var pn,fn=E.b.div(bn||(bn=Object(j.a)(["\n    height: 100%;\n    width: 100%;\n\n    .main {\n        display: flex;\n        height: calc(100% - 200px);\n\n        .player {\n            flex: 1;\n        }\n\n        .subtitles {\n            width: 250px;\n        }\n\n        .tool {\n            width: 300px;\n        }\n    }\n\n    .footer {\n        height: 200px;\n    }\n"])));function hn(e){var n=e.defaultLang,t=Object(a.useRef)([]),r=Object(a.useRef)(null),i=Object(a.useState)(null),o=Object(x.a)(i,2),c=o[0],s=o[1],l=Object(a.useState)(""),u=Object(x.a)(l,2),d=u[0],m=u[1],g=Object(a.useState)(0),p=Object(x.a)(g,2),f=p[0],j=p[1],O=Object(a.useState)(n),k=Object(x.a)(O,2),S=k[0],E=k[1],w=Object(a.useState)([]),C=Object(x.a)(w,2),N=C[0],R=C[1],_=Object(a.useState)([]),I=Object(x.a)(_,2),L=I[0],D=I[1],z=Object(a.useState)(null),P=Object(x.a)(z,2),B=P[0],U=P[1],F=Object(a.useState)(!1),G=Object(x.a)(F,2),M=G[0],V=G[1],X=Object(a.useState)(0),H=Object(x.a)(X,2),Y=H[0],J=H[1],K=Object(a.useState)(-1),q=Object(x.a)(K,2),$=q[0],Z=q[1],ee=Object(a.useState)(!1),ne=Object(x.a)(ee,2),te=ne[0],ae=ne[1],re=Object(a.useState)([]),ie=Object(x.a)(re,2),oe=ie[0],ce=ie[1],se=Object(a.useState)(""),le=Object(x.a)(se,2),ue=le[0],de=le[1],be=Object(a.useState)(!1),me=Object(x.a)(be,2),ge=me[0],fe=me[1],he=Object(a.useState)(!1),xe=Object(x.a)(he,2),je=xe[0],Oe=xe[1],ye=Object(a.useState)(!1),ve=Object(x.a)(ye,2),Se=ve[0],Te=ve[1],Ee=Object(a.useState)("AI4Bharat"),we=Object(x.a)(Ee,2),Ce=we[0],Ne=we[1],Re=Object(a.useCallback)((function(e){return new A(e)}),[]),_e=Object(a.useCallback)((function(e){return N.indexOf(e)}),[N]),Ie=Object(a.useCallback)((function(e){return L.indexOf(e)}),[L]),Le=Object(a.useCallback)((function(e){return Array.isArray(e)?e.map((function(e){return Re(e)})):Re(e)}),[Re]),Ae=Object(a.useCallback)((function(){return Le(N)}),[N,Le]),De=Object(a.useCallback)((function(){return Le(L)}),[L,Le]),ze=Object(a.useCallback)((function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];T()(e,N)||(n&&(t.current.length>=1e3&&t.current.shift(),t.current.push(Le(N))),window.localStorage.setItem("subtitle",JSON.stringify(e)),R(e))}),[N,R,Le]),Pe=Object(a.useCallback)((function(){var e=t.current.pop();e&&ze(e,!1)}),[ze,t]),Be=Object(a.useCallback)((function(){ze([]),t.current.length=0}),[ze,t]),Ue=Object(a.useCallback)((function(){D([]),t.current.length=0}),[D,t]),Fe=Object(a.useCallback)((function(e){var n=_e(e);if(!(n<0)){var t=N[n-1];return t&&e.startTime<t.endTime||!e.check||e.duration<.2}}),[N,_e]),Ge=Object(a.useCallback)((function(e){var n=r.current;n.clearNotifications(),n.addNotification({position:"tc",dismissible:"none",autoDismiss:2,message:e.message,level:e.level})}),[r]),Me=Object(a.useCallback)((function(e){var n=_e(e);if(!(n<0)){var t=Ae();if(t.splice(n,1),ze(t),L){console.log("here");var a=De();a.splice(n,1),D(a),localStorage.setItem("subtitleEnglish",JSON.stringify(a))}}}),[_e,Ae,ze,De,L]),Ve=Object(a.useCallback)((function(e,n){var t=Ae();if(t.splice(e,0,Le(n)),ze(t),L){var a=De();a.splice(e,0,Le(n)),D(t),localStorage.setItem("subtitleEnglish",JSON.stringify(a))}}),[Ae,ze,Le,De,L]),Xe=Object(a.useCallback)((function(e,n){var t=_e(e);if(!(t<0)){var a=Ae(),r=Le(e);Object.assign(r,n),r.check&&(a[t]=r,ze(a))}}),[_e,Ae,ze,Le]),He=Object(a.useCallback)((function(e,n){var t=Ie(e);if(!(t<0)){var a=De(),r=Le(e);Object.assign(r,n),r.check&&(a[t]=r,D(a))}}),[Ie,De,D,Le]),Ye=Object(a.useCallback)((function(e,n,t){var a=Ae(),r=Le(e);Object.assign(r,n),r.check&&(a[t]=r,ze(a))}),[Ae,ze,Le]),Je=Object(a.useCallback)((function(e){var n=_e(e);if(!(n<0)){var t=Ae(),a=t[n+1];if(a){var r=Re({start:e.start,end:a.end,text:e.text.trim()+"\n"+a.text.trim()});if(t[n]=r,t.splice(n+1,1),ze(t),L){var i=De(),o=i[n+1];if(!o)return;var c=Re({start:e.start,end:o.end,text:i[n].text.trim()+"\n"+o.text.trim()});i[n]=c,i.splice(n+1,1),D(i),localStorage.setItem("subtitleEnglish",JSON.stringify(i))}}}}),[_e,Ae,ze,Re,De,L]),Ke=Object(a.useCallback)((function(e,n){var t=_e(e);if(!(t<0)&&e.text&&n){var a=Ae(),r=e.text.slice(0,n).trim(),i=e.text.slice(n).trim();if(r&&i){var o=(e.duration*(n/e.text.length)).toFixed(3);if(!(o<.2||e.duration-o<.2)){a.splice(t,1);var c=v.a.d2t(e.startTime+parseFloat(o));a.splice(t,0,Re({start:e.start,end:c,text:r})),a.splice(t+1,0,Re({start:c,end:e.end,text:i})),ze(a)}}}}),[_e,Ae,ze,Re]),We=Object(a.useCallback)((function(e){switch(b(e)){case 32:e.preventDefault(),c&&(M?c.pause():c.play());break;case 90:e.preventDefault(),e.metaKey&&Pe()}}),[c,M,Pe]);Object(a.useEffect)((function(){return window.addEventListener("keydown",We),function(){return window.removeEventListener("keydown",We)}}),[We]),Object(a.useMemo)((function(){var e=N.findIndex((function(e){return e.startTime<=Y&&e.endTime>Y}));Z(e)}),[Y,N]),Object(a.useEffect)((function(){var e=window.localStorage.getItem("subtitle"),n=window.localStorage.getItem("subtitleEnglish");if(e)try{var t=JSON.parse(e);t.length&&R(t.map((function(e){return new A(e)})))}catch(r){}if(n)try{var a=JSON.parse(n);a.length?D(a.map((function(e){return new A(e)}))):D([])}catch(r){D([])}}),[R,D]);var qe={player:c,setPlayer:s,subtitle:N,setSubtitle:ze,waveform:B,setWaveform:U,currentTime:Y,setCurrentTime:J,currentIndex:$,setCurrentIndex:Z,playing:M,setPlaying:V,language:S,setLanguage:E,loading:d,setLoading:m,setProcessing:j,subtitleHistory:t,subtitleEnglish:L,setSubtitleEnglish:D,notify:Ge,newSub:Re,hasSub:_e,checkSub:Fe,removeSub:Me,addSub:Ve,undoSubs:Pe,clearSubs:Be,updateSub:Xe,formatSub:Le,mergeSub:Je,splitSub:Ke,clearSubsEnglish:Ue,updateSubEnglish:He,setSubtitleOriginal:R,clearedSubs:te,setClearedSubs:ae,subsBeforeClear:oe,setSubsBeforeClear:ce,configuration:ue,setConfiguration:de,updateSubTranslate:Ye,enableConfiguration:ge,setEnableConfiguration:fe,isSetVideo:je,setIsSetVideo:Oe,isSetConfiguration:Se,setIsSetConfiguration:Te,translationApi:Ce,setTranslationApi:Ne};return Object(W.jsxs)(fn,{children:[Object(W.jsxs)("div",{className:"main",children:[Object(W.jsx)(rn,{}),Object(W.jsx)(ke,Object(h.a)({},qe)),""===ue&&Object(W.jsx)(W.Fragment,{}),"Subtitling"===ue&&Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(pe,{currentIndex:qe.currentIndex,subtitle:qe.subtitleEnglish,checkSub:qe.checkSub,player:qe.player,updateSub:qe.updateSubEnglish,language:qe.language,setLanguage:qe.setLanguage,setLoading:qe.setLoading,subtitleEnglish:qe.subtitleEnglish,formatSub:qe.formatSub,setSubtitle:qe.setSubtitle,notify:qe.notify,isPrimary:!1,configuration:qe.configuration,setConfiguration:qe.setConfiguration,updateSubOriginal:qe.updateSubTranslate,translationApi:qe.translationApi}),Object(W.jsx)(pe,{currentIndex:qe.currentIndex,subtitle:qe.subtitle,checkSub:qe.checkSub,player:qe.player,updateSub:qe.updateSub,language:qe.language,setLanguage:qe.setLanguage,setLoading:qe.setLoading,subtitleEnglish:qe.subtitleEnglish,formatSub:qe.formatSub,setSubtitle:qe.setSubtitle,notify:qe.notify,isPrimary:!0,clearedSubs:qe.clearedSubs,setClearedSubs:qe.setClearedSubs,setSubtitleOriginal:qe.setSubtitleOriginal,configuration:qe.configuration,setConfiguration:qe.setConfiguration,translationApi:qe.translationApi})]}),"Sign Language Subtitling"===ue&&Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(gn,{currentIndex:qe.currentIndex,subtitle:qe.subtitleEnglish,checkSub:qe.checkSub,player:qe.player,updateSub:qe.updateSubEnglish,language:qe.language,setLanguage:qe.setLanguage,setLoading:qe.setLoading,subtitleEnglish:qe.subtitleEnglish,formatSub:qe.formatSub,setSubtitle:qe.setSubtitle,notify:qe.notify,isPrimary:!1,configuration:qe.configuration,setConfiguration:qe.setConfiguration,updateSubOriginal:qe.updateSubTranslate}),Object(W.jsx)(gn,{currentIndex:qe.currentIndex,subtitle:qe.subtitle,checkSub:qe.checkSub,player:qe.player,updateSub:qe.updateSub,language:qe.language,setLanguage:qe.setLanguage,setLoading:qe.setLoading,subtitleEnglish:qe.subtitleEnglish,formatSub:qe.formatSub,setSubtitle:qe.setSubtitle,notify:qe.notify,isPrimary:!0,clearedSubs:qe.clearedSubs,setClearedSubs:qe.setClearedSubs,setSubtitleOriginal:qe.setSubtitleOriginal,configuration:qe.configuration,setConfiguration:qe.setConfiguration})]}),"Same Language Subtitling"===ue&&Object(W.jsx)(W.Fragment,{children:Object(W.jsx)(sn,{currentIndex:qe.currentIndex,subtitle:qe.subtitleEnglish,checkSub:qe.checkSub,player:qe.player,updateSub:qe.updateSubEnglish,language:qe.language,setLanguage:qe.setLanguage,setLoading:qe.setLoading,subtitleEnglish:qe.subtitleEnglish,formatSub:qe.formatSub,setSubtitle:qe.setSubtitle,notify:qe.notify,isPrimary:!0,clearedSubs:qe.clearedSubs,setClearedSubs:qe.setClearedSubs,setSubtitleOriginal:qe.setSubtitleOriginal,configuration:qe.configuration,setConfiguration:qe.setConfiguration,clearSubs:qe.clearSubs,setSubtitleEnglish:qe.setSubtitleEnglish,updateSubOriginal:qe.updateSubTranslate,translationApi:qe.translationApi})}),Object(W.jsx)(Q,Object(h.a)({},qe))]}),je&&Object(W.jsx)($e,Object(h.a)({},qe)),d?Object(W.jsx)(en,{loading:d}):null,f>0&&f<100?Object(W.jsx)(an,{processing:f}):null,Object(W.jsx)(y.a,{ref:r,allowHTML:!0})]})}var xn,jn=E.b.div(pn||(pn=Object(j.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n    width: 100%;\n"])));function On(){return Object(W.jsx)(jn,{children:Object(W.jsx)(g.Translate,{value:"MOBILE_TIP"})})}var yn=Object(E.a)(xn||(xn=Object(j.a)(["\n    html,\n    body,\n    #root {\n        height: 100%;\n    }\n\n    body {\n        font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;\n        line-height: 1.5;\n        overflow: hidden;\n    }\n\n    *, *::before, *::after {\n        box-sizing: border-box;\n    }\n\n    #root {\n        display: flex;\n        font-size: 14px;\n        color: #ccc;\n        background-color: rgb(0 0 0 / 90%);\n    }\n\n    ::-webkit-scrollbar {\n        width: 5px;\n    }\n\n    ::-webkit-scrollbar-thumb {\n        background-color: #999;\n    }\n\n    ::-webkit-scrollbar-thumb:hover {\n        background-color: #ccc;\n    }\n"])));Object(g.setTranslations)(f);var kn=navigator.language.toLowerCase(),vn=f[kn]?kn:"en";Object(g.setLocale)(vn),o.a.render(Object(W.jsxs)(r.a.Fragment,{children:[Object(W.jsx)(yn,{}),s?Object(W.jsx)(On,{}):Object(W.jsx)(hn,{defaultLang:vn})]}),document.getElementById("root"))}},[[723,1,2]]]);
//# sourceMappingURL=main.8e849db5.chunk.js.map