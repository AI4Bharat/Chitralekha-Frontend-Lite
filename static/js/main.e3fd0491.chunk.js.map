{"version":3,"sources":["redux/string.js","utils/index.js","i18n/index.js","libs/Sub.js","libs/readSub/ass2vtt.js","libs/readSub/index.js","libs/readSub/sub2ass.js","components/BottomLinks.js","config/config.js","redux/api.js","config/apiendpoint.js","redux/constants.js","redux/actions/api/Video/GetVideoDetails.js","redux/actions/apitransport/apitransport.js","components/Tool.js","libs/readSub/srt2vtt.js","libs/languages.js","libs/googleTranslate.js","libs/ai4BharatTranslate.js","redux/actions/api/Translation/GetTranslationLanguages.js","redux/actions/api/Translation/FetchTranslation.js","redux/actions/api/Translation/GenerateTranslation.js","redux/actions/api/Translation/SaveTranslation.js","components/Subtitles.js","libs/backlight.js","components/Player.js","components/Timeline.js","components/Metronome.js","components/Footer.js","components/Loading.js","components/ProgressBar.js","components/Links.js","redux/actions/api/User/Login.js","redux/actions/api/User/Register.js","components/Login.js","redux/actions/api/Transcript/GetTranscriptLanguages.js","redux/actions/api/Transcript/FetchTranscript.js","redux/actions/api/Transcript/GenerateTranscript.js","redux/actions/api/Transcript/SaveTranscript.js","components/SameLanguageSubtitle.js","libs/englishKeywordsTranslate.js","components/SignLanguageSubtitle.js","components/FindAndReplace.js","App.js","Mobile.js","GlobalStyle.js","redux/reducers/Video/GetVideoDetails.js","redux/reducers/Transcript/FetchTranscript.js","redux/reducers/Transcript/GetTranscriptLanguages.js","redux/reducers/Transcript/GenerateTranscript.js","redux/reducers/Transcript/SaveTranscript.js","redux/reducers/Translation/GenerateTranslation.js","redux/reducers/Translation/GetTranslationLanguages.js","redux/reducers/Translation/SaveTranslation.js","redux/reducers/Translation/FetchTranslation.js","redux/reducers/index.js","redux/reducers/apistatus/apistatus.js","redux/store/store.js","index.js"],"names":["module","exports","error","message","email","emailempty","requiredField","passwordnomatch","passwordlegth","tnc","loginFailure","signupError","forgotPassword","createPassword","profileError","logoutError","deleteError","compareselection","http","422","400","401","default","success","login","otpsent","signup","resultsaved","profileSuccess","logoutSuccess","deleteSuccess","userAgent","window","navigator","isMobile","test","getExt","url","trim","toLowerCase","split","pop","sleep","ms","Promise","resolve","setTimeout","download","name","elink","document","createElement","style","display","href","body","appendChild","click","removeChild","getKeyCode","event","tag","activeElement","tagName","toUpperCase","editable","getAttribute","Number","keyCode","isPlaying","$video","currentTime","paused","ended","readyState","zh","LOADING","SUB_TEXT","OPEN_VIDEO","OPEN_SUB","EXPORT_ASS","EXPORT_SRT","EXPORT_VTT","EXPORT_VIDEO","TRANSLATE","TRANSLATING","TRANSLAT_SUCCESS","DECODE_START","DECODE_SUCCESS","DECODE_ERROR","VIDEO_EXT_ERR","SUB_EXT_ERR","MOBILE_TIP","HOTKEY_01","HOTKEY_02","CLEAR","UNDO","DELETE","MERGE","SPLIT","LOADING_FFMPEG","LOADING_FONT","LOADING_VIDEO","LOADING_SUB","CLEAR_TIP","BURN_ERROR","BURN_START","BURN_SUCCESS","OPEN_VIDEO_ERROR","i18n","en","TRANSCRIBE","TRANSCRIBING","SAME_LANGUAGE","SIGN_LANGUAGE","MAIN_LANGUAGE","it","tr","Sub","obj","this","start","end","text","text2","startTime","endTime","DT","t2d","time","d2t","clamp","Infinity","parseFloat","toFixed","ass2vtt","ass","re_ass","RegExp","fixTime","map","item","index","arr","length","join","line","m","match","replace","filter","url2sub","$track","kind","onload","Array","from","track","cues","src","vtt2url","vtt","URL","createObjectURL","Blob","type","sub2vtt","sub","sub2srt","sub2txt","toSubTime","str","n","sx","x","slice","toString","unshift","Math","floor","sub2ass","BottomLinks","paddingLeft","marginTop","listStyle","flexDirection","margin","padding","textAlign","width","backgroundColor","target","rel","textDecoration","color","configs","BASE_URL","BASE_URL_AUTO","process","REACT_APP_APIGW_BASE_URL","API","method","timeout","auth","reqType","code","domain","baseUrl","config","baseUrlAuto","res","GetVideoDetailsAPI","videoUrl","constants","endpoint","ENDPOINTS","video","headers","localStorage","getItem","apiStatusAsync","progress","errors","unauthrized","loading","status","statusCode","C","payload","errorMessage","statusMessage","api","dispatch","console","log","processResponse","data","apiEndPoint","getPayload","dispatchAPIAsync","successMsg","processNextSuccessStep","err","errorMsg","response","why","Object","keys","Strings","includes","processNextErrorStep","dispatchAPI","dontShowApiLoader","axios","post","getFormData","getHeaders","then","catch","patch","getBody","put","delete","get","Style","styled","div","FFmpeg","createFFmpeg","load","fs","SimpleFS","FileSystem","Header","player","waveform","newSub","undoSubs","clearSubs","subtitle","language","setLoading","setSubtitle","formatSub","setProcessing","notify","subtitleEnglish","setSubtitleEnglish","clearSubsEnglish","setClearedSubs","setSubtitleOriginal","clearedSubs","configuration","setConfiguration","isSetConfiguration","enableConfiguration","setEnableConfiguration","setIsSetConfiguration","isSetVideo","setIsSetVideo","transcriptSource","setTranscriptSource","useState","videoFile","setVideoFile","youtubeURL","setYoutubeURL","toolOpen","setToolOpen","useDispatch","VideoDetails","useSelector","state","getVideoDetails","decodeAudioData","useCallback","file","a","fetchFile","ffmpeg","setProgress","ratio","t","FS","level","output","Date","now","run","uint8","decoder","drawer","update","burnSubtitles","pause","mkdir","exists","readFile","fontBlob","fetch","blob","writeFile","subtitleFile","File","onVideoChange","files","ext","canPlayType","destroy","setItem","useEffect","direct_video_url","id","direct_audio_url","onYouTubeChange","videoObj","APITransport","onSubtitleChange","reject","reader","FileReader","JSON","parse","result","concat","readAsText","file2sub","removeItem","onInputClick","value","downloadSub","stringify","downloadSubReference","className","onClick","isOpen","height","strokeWidth","rotate","borderRadius","animationDuration","onChange","placeholder","e","confirm","location","reload","crossOriginIsolated","key","languages","translate","query","lang","searchParams","append","json","googleTranslate","loop","shift","push","from_lang","to_lang","entireArray","text_lines","source_language","target_language","resp","i","GetTranslationLanguagesAPI","FetchTranslationAPI","transcriptId","latest","translation","GenerateTranslationAPI","SaveTranslationAPI","translationId","captions","translation_id","target_lang","Subtitles","currentIndex","checkSub","updateSub","isPrimary","updateSubOriginal","isTranslateClicked","setIsTranslateClicked","found","currentFound","setHeight","setTranslate","translateReq","useRef","languageAvailable","setLanguageAvailable","languageChoices","getTranslationLanguages","Translations","fetchTranslation","GeneratedTranslations","generateTranslation","APIStatus","apiStatus","waiting","setWaiting","saveTranslation","transcript","subtitles","translations","source","saveObj","setModeTranslate","langObj","fetchTranslationLanguages","scrollDivs","getElementsByClassName","syncScroll","currentTarget","scrollNum","scrollTop","addEventListener","removeEventListener","langArray","handleBlur","ai4BharatBatchTranslate","resize","clientHeight","init","debounceResize","debounce","defaultValue","React","stickyValue","setValue","useStickyState","modeTranslate","parseTranslations","current","translationObj","generateTranslations","onTranslate","getTranslations","title","position","headerHeight","rowHeight","scrollToIndex","rowCount","rowGetter","headerRowRenderer","rowRenderer","props","duration","rowData","unescape","spellCheck","onChangeText","onBlur","enabled","maxOptions","readOnly","renderComponent","setStyles","element","styles","forEach","setStyle","backlight","$player","$backlight","classList","add","zIndex","left","top","right","bottom","insertBefore","requestAnimationFrame","VideoWrap","memo","setPlayer","setCurrentTime","setPlaying","createRef","play","ref","Player","currentSub","setCurrentSub","focusing","setFocusing","inputItemCursor","setInputItemCursor","useMemo","updateSubEnglish","selectionStart","onFocus","onSplit","splitSub","playing","onKeyDown","Timeline","getCurrentSubs","subs","beginTime","magnetically","closeTime","lastTarget","lastSub","lastType","lastX","lastIndex","lastWidth","lastDiffX","isDroging","render","removeSub","hasSub","mergeSub","$blockRef","$subsRef","currentSubs","gridGap","clientWidth","gridNum","findIndex","onMouseDown","button","pageX","indexOf","children","onDocumentMouseMove","transform","onDocumentMouseUp","timeDiff","previou","next","onDoubleClick","$subs","holdToDisplay","prevProps","nextProps","isEqual","Metronome","Component","addSub","setIsDroging","drogStartTime","setDrogStartTime","drogEndTime","setDrogEndTime","getEventTime","clickTime","onMouseMove","Waveform","setWaveform","setRender","$waveform","WFPlayer","instances","scrollable","useWorker","wave","pixelRatio","container","mediaElement","waveColor","progressColor","gridColor","rulerColor","paddingColor","on","Grab","grabStartX","setGrabStartX","grabStartTime","setGrabStartTime","grabbing","setGrabbing","onGrabDown","onGrabUp","onGrabMove","seek","Progress","onProgressClick","Duration","getDuration","Footer","$footer","onWheel","contains","deltaY","sign","onWheelThrottle","throttle","Fragment","Loading","alt","processing","Links","paddingTop","LoginAPI","username","password","report","RegisterAPI","first_name","last_name","password2","LoginForm","showLogin","setShowLogin","initCredentials","initDetails","credentials","setCredentials","details","setDetails","setErr","isSignIn","setIsSignIn","handleClose","preventDefault","apiObj","rsp_data","ok","token","user","GetTranscriptLanguagesAPI","FetchTranscriptAPI","videoId","transcriptType","GenerateTranscriptAPI","SaveTranscriptAPI","transcript_id","video_id","SameLanguageSubtitles","TRANSCRIPT_TYPES","setTranscribe","transcribeReq","fetchError","getTranscriptLanguages","Transcript","fetchTranscript","GeneratedTranscript","generateTranscript","saveTranscript","fetchTranscriptionLanguages","modeTranscribe","setModeTranscribe","parseSubtitles","urlsub","generateObj","generateTranscription","transcriptObj","onTranscribe","fetchTranscription","englishKeywordsTranslate","SignLanguageSubtitles","FindAndReplace","showFindAndReplace","setShowFindAndReplace","find","setFind","setReplace","setFound","handleReplace","handleReplaceAll","handleFind","setCurrentFound","rows","disabled","App","defaultLang","subtitleHistory","notificationSystem","setLanguage","setCurrentIndex","subsBeforeClear","setSubsBeforeClear","hasSubEnglish","isArray","copySubs","copySubsEnglish","newSubtitle","saveToHistory","previous","check","notification","clearNotifications","addNotification","dismissible","autoDismiss","index2","splice","subsEnglish","subClone","assign","updateSubTranslate","merge","nextEnglish","mergeEnglish","text1","splitDuration","middleTime","metaKey","ctrlKey","localSubtitleString","localSubtitleEnglish","localSubtitle","foundIndices","charAt","clear","overflow","allowHTML","Mobile","createGlobalStyle","initialState","action","middlewares","storage","appReducer","persistCombineReducers","combineReducers","thunk","store","createStore","undefined","compose","applyMiddleware","setTranslations","setLocale","ReactDOM","GlobalStyle","getElementById"],"mappings":"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","file":"static/js/main.e3fd0491.chunk.js","sourcesContent":["module.exports = {\n    error: {\n      message: {\n        email: \"Invalid email address\",\n        emailempty: \"Email field must not be empty\",\n        requiredField: \"Required field\",\n        passwordnomatch: \"Passwords do not match\",\n        passwordlegth: \"Password field must not be empty\",\n        tnc: \"You must accept our terms of service\",\n        loginFailure: \"Entered Email or password is wrong. Please try again\",\n        signupError: \"Something went wrong while we tried to sign you in\",\n        forgotPassword: \"Something went wrong while we tried to send password to the given email id\",\n        createPassword: \"Something went wrong while we tried to create password\",\n        profileError: \"Something went wrong while we tried to edit the profile \",\n        logoutError: \"Something went wrong while trying to logout \",\n        deleteError: \"Something went wrong while trying to delete the account\",\n        compareselection: \"You must select at-least two results to compare\",\n        http: {\n          422: \"A User with same email already exist.\",\n          400: \"Something wrong with the input you supplied, please verify and try again!\",\n          401: \"You are not authorized to do this action at the moment!\",\n          default: \"Something went wrong while we process your request. Please try after sometime\"\n        }\n      }\n    },\n    success: {\n      message: {\n        login: \"You have logged in successfully\",\n        otpsent: \"We have sent you a one time password to your registered email address.\",\n        signup: \"You have successfully registered to Beckers\",\n        forgotPassword: \"Please login with the one time password, received in given email\",\n        createPassword: \"You have successfully changed your password\",\n        resultsaved: \"The result have been saved successfully\",\n        profileSuccess: \"Profile updated successfully\",\n        logoutSuccess: \"Logout successfully\",\n        deleteSuccess: \"Deleted successfully\"\n      }\n    }\n  };\n  ","export const userAgent = window.navigator.userAgent;\nexport const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(userAgent);\n\nexport function getExt(url) {\n    return url.trim().toLowerCase().split('.').pop();\n}\n\nexport function sleep(ms = 0) {\n    return new Promise((resolve) => setTimeout(resolve, ms));\n}\n\nexport function download(url, name) {\n    const elink = document.createElement('a');\n    elink.style.display = 'none';\n    elink.href = url;\n    elink.download = name;\n    document.body.appendChild(elink);\n    elink.click();\n    document.body.removeChild(elink);\n}\n\nexport function getKeyCode(event) {\n    const tag = document.activeElement.tagName.toUpperCase();\n    const editable = document.activeElement.getAttribute('contenteditable');\n    if (tag !== 'INPUT' && tag !== 'TEXTAREA' && editable !== '' && editable !== 'true') {\n        return Number(event.keyCode);\n    }\n}\n\nexport function isPlaying($video) {\n    return !!($video.currentTime > 0 && !$video.paused && !$video.ended && $video.readyState > 2);\n}\n","const en = {\n    LOADING: 'Loading...',\n    SUB_TEXT: 'Subtitle Text',\n    OPEN_VIDEO: 'Open Video',\n    OPEN_SUB: 'Open Subtitle',\n    EXPORT_ASS: 'Export ASS',\n    EXPORT_SRT: 'Export SRT',\n    EXPORT_VTT: 'Export VTT',\n    EXPORT_VIDEO: 'Export Video',\n    TRANSLATE: 'Translate!',\n    TRANSCRIBE: 'Transcribe!',\n    TRANSLATING: 'Translating...',\n    TRANSCRIBING: 'Transcribing ...',\n    TRANSLAT_SUCCESS: 'Translation success',\n    DECODE_START: 'Start decoding audio',\n    DECODE_SUCCESS: 'Decoding audio success',\n    DECODE_ERROR: 'Decoding audio failed',\n    VIDEO_EXT_ERR: 'Unable to open this video format',\n    SUB_EXT_ERR: 'Unable to open this subtitle format',\n    MOBILE_TIP: 'Please use computer access',\n    HOTKEY_01: 'Space: Play / Pause',\n    HOTKEY_02: 'Ctrl + Z: Undo',\n    CLEAR: 'Clear',\n    UNDO: 'Undo',\n    DELETE: 'Delete Subtitle',\n    MERGE: 'Merge Next',\n    SPLIT: 'Split Subtitle',\n    LOADING_FFMPEG: 'Loading dependency...',\n    LOADING_FONT: 'Loading font...',\n    LOADING_VIDEO: 'Loading video...',\n    LOADING_SUB: 'Loading subtitle...',\n    CLEAR_TIP: 'Confirm that all data is cleared',\n    BURN_ERROR: 'Burn subtitles failed',\n    BURN_START: 'Start burn subtitles',\n    BURN_SUCCESS: 'Burn subtitles success',\n    OPEN_VIDEO_ERROR: 'Please open the video first',\n    SAME_LANGUAGE: 'Transcription',\n    SIGN_LANGUAGE: 'Sign Language',\n    MAIN_LANGUAGE: 'Translation',\n};\n\nconst it = {\n    LOADING: 'Caricamento in corso...',\n    SUB_TEXT: 'Sottotitoli',\n    OPEN_VIDEO: 'Apri video',\n    OPEN_SUB: 'Apri sottotitoli',\n    EXPORT_ASS: 'Esporta ASS',\n    EXPORT_SRT: 'Esporta SRT',\n    EXPORT_VTT: 'Esporta VTT',\n    EXPORT_VIDEO: 'Esporta video',\n    TRANSLATE: 'Traduci',\n    TRANSLATING: 'Traduzione...',\n    TRANSLAT_SUCCESS: 'Traduzione riuscita',\n    DECODE_START: 'Avvia decodifica audio',\n    DECODE_SUCCESS: 'Decodifica audio riuscita',\n    DECODE_ERROR: 'Decodifica audio non riuscita',\n    VIDEO_EXT_ERR: 'Impossibile aprire questo formato video',\n    SUB_EXT_ERR: 'Impossibile aprire questo formato di sottotitoli',\n    MOBILE_TIP: \"Utilizza l'accesso al computer\",\n    HOTKEY_01: 'Spazio: Riproduci / Pausa',\n    HOTKEY_02: 'Ctrl + Z: Annulla',\n    CLEAR: 'Pulisci',\n    UNDO: 'Annulla',\n    DELETE: 'Elimina sottotitoli',\n    MERGE: 'Unisci dopo',\n    SPLIT: 'Dividi sottotitoli',\n    LOADING_FFMPEG: 'Caricamento dipendenza in corso...',\n    LOADING_FONT: 'Caricamento font in corso...',\n    LOADING_VIDEO: 'Caricamento video in corso...',\n    LOADING_SUB: 'Caricamento sottotitoli in corso...',\n    CLEAR_TIP: 'Conferma che tutti i dati siano stati cancellati',\n    BURN_ERROR: 'Masterizzazione sottotitoli non riuscita',\n    BURN_START: 'Avvia masterizzazione sottotitoli',\n    BURN_SUCCESS: 'Masterizzazione sottotitoli riuscita',\n    OPEN_VIDEO_ERROR: 'Apri prima il video',\n};\n\nconst tr = {\n    LOADING: 'Loading...',\n    SUB_TEXT: 'Subtitle Text',\n    OPEN_VIDEO: 'Video Aç',\n    OPEN_SUB: 'Altyazı Aç',\n    EXPORT_ASS: 'ASS Çıkar',\n    EXPORT_SRT: 'SRT Çıkar',\n    EXPORT_VTT: 'VTT Çıkar',\n    EXPORT_VIDEO: 'Videoyu Çıkar',\n    TRANSLATE: 'Çevir',\n    TRANSLATING: 'Çevriliyor...',\n    TRANSLAT_SUCCESS: 'Çevirme başarılı',\n    DECODE_START: 'Ses çözümlemesi başladı',\n    DECODE_SUCCESS: 'Ses çözümlemesi başarılı',\n    DECODE_ERROR: 'Ses çözümlemesi başarısız',\n    VIDEO_EXT_ERR: 'Bu video biçimi açılamıyor',\n    SUB_EXT_ERR: 'Bu altyazı biçimi açılamıyor',\n    MOBILE_TIP: 'Lütfen bilgisayardan erişin',\n    HOTKEY_01: 'Boşluk: Oynat / Duraklat',\n    HOTKEY_02: 'Ctrl + Z: Geri Al',\n    CLEAR: 'Temizle',\n    UNDO: 'Geri Al',\n    DELETE: 'Altyazıyı Sil',\n    MERGE: 'Sonrakiyle Birleştir',\n    SPLIT: 'Altyazıyı Böl',\n    LOADING_FFMPEG: 'Bağımlılık yükleniyor...',\n    CLEAR_TIP: 'Tüm verilerin silineceğini onaylıyor musunuz?',\n    BURN_ERROR: 'Altyazı gömme başarısız',\n    BURN_START: 'Altyazı gömmeyi başlat',\n    BURN_SUCCESS: 'Altyazı gömme başarılı',\n    OPEN_VIDEO_ERROR: 'Lütfen önce videoyu açın',\n};\n\nconst zh = {\n    LOADING: '加载中...',\n    SUB_TEXT: '字幕文本',\n    OPEN_VIDEO: '打开视频',\n    OPEN_SUB: '打开字幕',\n    EXPORT_ASS: '导出 ASS',\n    EXPORT_SRT: '导出 SRT',\n    EXPORT_VTT: '导出 VTT',\n    EXPORT_VIDEO: '导出视频',\n    TRANSLATE: '批量翻译',\n    TRANSLATING: '翻译中...',\n    TRANSLAT_SUCCESS: '翻译成功',\n    DECODE_START: '开始解码音频',\n    DECODE_SUCCESS: '解码音频成功',\n    DECODE_ERROR: '解码音频失败',\n    VIDEO_EXT_ERR: '无法打开该视频格式',\n    SUB_EXT_ERR: '无法打开该字幕格式',\n    MOBILE_TIP: '请使用电脑访问',\n    HOTKEY_01: '空格键: 播放 / 暂停',\n    HOTKEY_02: 'Ctrl + Z: 撤销',\n    CLEAR: '清空',\n    UNDO: '撤销',\n    DELETE: '删除字幕',\n    MERGE: '合并下一个',\n    SPLIT: '拆分字幕',\n    LOADING_FFMPEG: '加载依赖中...',\n    LOADING_FONT: '加载字体中...',\n    LOADING_VIDEO: '加载视频中...',\n    LOADING_SUB: '加载字幕中...',\n    CLEAR_TIP: '确认清空所有数据吗',\n    BURN_ERROR: '合成字幕失败',\n    BURN_START: '开始合成字幕',\n    BURN_SUCCESS: '合成字幕成功',\n    OPEN_VIDEO_ERROR: '请先打开视频',\n};\n\nconst i18n = {\n    en,\n    it,\n    zh,\n    'zh-cn': zh,\n    'zh-tw': zh,\n    tr,\n};\n\nexport default i18n;\n","import clamp from 'lodash/clamp';\nimport DT from 'duration-time-conversion';\n\nexport default class Sub {\n    constructor(obj) {\n        this.start = obj.start;\n        this.end = obj.end;\n        this.text = obj.text;\n        this.text2 = obj.text2;\n    }\n\n    get check() {\n        return this.startTime >= 0 && this.endTime >= 0 && this.startTime < this.endTime;\n    }\n\n    get clone() {\n        return new Sub(this);\n    }\n\n    get startTime() {\n        return DT.t2d(this.start);\n    }\n\n    set startTime(time) {\n        this.start = DT.d2t(clamp(time, 0, Infinity));\n    }\n\n    get endTime() {\n        return DT.t2d(this.end);\n    }\n\n    set endTime(time) {\n        this.end = DT.d2t(clamp(time, 0, Infinity));\n    }\n\n    get duration() {\n        return parseFloat((this.endTime - this.startTime).toFixed(3));\n    }\n}\n","export default function ass2vtt(ass) {\n    const re_ass = new RegExp(\n        'Dialogue:\\\\s\\\\d,' +\n            '(\\\\d+:\\\\d\\\\d:\\\\d\\\\d.\\\\d\\\\d),' +\n            '(\\\\d+:\\\\d\\\\d:\\\\d\\\\d.\\\\d\\\\d),' +\n            '([^,]*),' +\n            '([^,]*),' +\n            '(?:[^,]*,){4}' +\n            '([\\\\s\\\\S]*)$',\n        'i',\n    );\n\n    function fixTime(time = '') {\n        return time\n            .split(/[:.]/)\n            .map((item, index, arr) => {\n                if (index === arr.length - 1) {\n                    if (item.length === 1) {\n                        return '.' + item + '00';\n                    } else if (item.length === 2) {\n                        return '.' + item + '0';\n                    }\n                } else {\n                    if (item.length === 1) {\n                        return (index === 0 ? '0' : ':0') + item;\n                    }\n                }\n\n                return index === 0 ? item : index === arr.length - 1 ? '.' + item : ':' + item;\n            })\n            .join('');\n    }\n\n    return (\n        'WEBVTT\\n\\n' +\n        ass\n            .split(/\\r?\\n/)\n            .map((line) => {\n                const m = line.match(re_ass);\n                if (!m) return null;\n                return {\n                    start: fixTime(m[1].trim()),\n                    end: fixTime(m[2].trim()),\n                    text: m[5]\n                        .replace(/{[\\s\\S]*?}/g, '')\n                        .replace(/(\\\\N)/g, '\\n')\n                        .trim()\n                        .split(/\\r?\\n/)\n                        .map((item) => item.trim())\n                        .join('\\n'),\n                };\n            })\n            .filter((line) => line)\n            .map((line, index) => {\n                if (line) {\n                    return index + 1 + '\\n' + line.start + ' --> ' + line.end + '\\n' + line.text;\n                } else {\n                    return '';\n                }\n            })\n            .filter((line) => line.trim())\n            .join('\\n\\n')\n    );\n}\n","import DT from 'duration-time-conversion';\nimport { getExt } from '../../utils';\nimport Sub from '../Sub';\nimport ass2vtt from './ass2vtt';\nimport srt2vtt from './srt2vtt';\n\nexport function url2sub(url) {\n    return new Promise((resolve) => {\n        const $video = document.createElement('video');\n        const $track = document.createElement('track');\n        $track.default = true;\n        $track.kind = 'metadata';\n        $video.appendChild($track);\n        $track.onload = () => {\n            resolve(\n                Array.from($track.track.cues).map((item) => {\n                    const start = DT.d2t(item.startTime);\n                    const end = DT.d2t(item.endTime);\n                    const text = item.text;\n                    return new Sub({ start, end, text });\n                }),\n            );\n        };\n        $track.src = url;\n    });\n}\n\nexport function vtt2url(vtt) {\n    return URL.createObjectURL(\n        new Blob([vtt], {\n            type: 'text/vtt',\n        }),\n    );\n}\n\nexport function file2sub(file) {\n    return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onload = async () => {\n            const ext = getExt(file.name);\n            if (ext === 'json') {\n                try {\n                    const sub = JSON.parse(reader.result).map((item) => new Sub(item));\n                    resolve(sub);\n                } catch (error) {\n                    reject(error);\n                }\n            } else {\n                const text = reader.result.replace(/{[\\s\\S]*?}/g, '');\n                switch (ext) {\n                    case 'vtt': {\n                        const url = vtt2url(text);\n                        const sub = await url2sub(url);\n                        resolve(sub);\n                        break;\n                    }\n                    case 'ass': {\n                        const vtt = ass2vtt(text);\n                        const url = vtt2url(vtt);\n                        const sub = await url2sub(url);\n                        resolve(sub);\n                        break;\n                    }\n                    case 'srt': {\n                        const vtt = srt2vtt(text);\n                        const url = vtt2url(vtt);\n                        const sub = await url2sub(url);\n                        resolve(sub);\n                        break;\n                    }\n                    case 'json': {\n                        const sub = JSON.parse(text).map((item) => new Sub(item));\n                        resolve(sub);\n                        break;\n                    }\n                    default:\n                        resolve([]);\n                        break;\n                }\n            }\n        };\n        reader.readAsText(file);\n    });\n}\n\nexport function sub2vtt(sub) {\n    return (\n        'WEBVTT\\n\\n' +\n        sub\n            .map((item, index) => {\n                return index + 1 + '\\n' + item.start + ' --> ' + item.end + '\\n' + item.text;\n            })\n            .join('\\n\\n')\n    );\n}\n\nexport function sub2srt(sub) {\n    return sub\n        .map((item, index) => {\n            return `${index + 1}\\n${item.start.replace('.', ',')} --> ${item.end.replace('.', ',')}\\n${item.text}`;\n        })\n        .join('\\n\\n');\n}\n\nexport function sub2txt(sub) {\n    return sub.map((item) => item.text).join('\\n\\n');\n}\n","const toSubTime = (str) => {\n    let n = [];\n    let sx = '';\n    let x = str.split(/[:.]/).map((x) => Number(x));\n    x = str.split(/[:.]/).map((x) => Number(x));\n    x[3] = '0.' + ('00' + x[3]).slice(-3);\n    sx = (x[0] * 60 * 60 + x[1] * 60 + x[2] + Number(x[3])).toFixed(2);\n    sx = sx.toString().split('.');\n    n.unshift(sx[1]);\n    sx = Number(sx[0]);\n    n.unshift(('0' + (sx % 60).toString()).slice(-2));\n    n.unshift(('0' + (Math.floor(sx / 60) % 60).toString()).slice(-2));\n    n.unshift((Math.floor(sx / 3600) % 60).toString());\n    return n.slice(0, 3).join(':') + '.' + n[3];\n};\n\nexport default function sub2ass(sub) {\n    return `\n[Script Info]\n; // 此字幕由爱幕生成\nSynch Point:1\nScriptType:v4.00+\nCollisions:Normal\n\n[V4+ Styles]\nFormat: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding\nStyle: Default, Microsoft YaHei, 20, &H00FFFFFF, &H000000FF, &H00000000, &H00000000, 0, 0, 0, 0, 100, 100, 0, 0, 1, 1, 0, 2, 10, 10, 10, 134\n\n[Events]\nFormat: Layer, Start, End, Style, Actor, MarginL, MarginR, MarginV, Effect, Text\n${sub\n    .map((item) => {\n        const start = toSubTime(item.start);\n        const end = toSubTime(item.end);\n        const text = item.text.replace(/\\r?\\n/g, '\\\\N');\n        return `Dialogue: 0,${start},${end},Default,NTP,0000,0000,0000,,${text}`;\n    })\n    .join('\\n')}\n    `.trim();\n}\n","import React from 'react';\n\nexport default function BottomLinks() {\n    return (\n        <>\n            <p style={{ paddingLeft: '10px', marginTop: '-0.5px' }}>\n                <b>External Links</b>\n            </p>\n            <ul\n                style={{\n                    // height: '25px',\n                    // paddingLeft: '25%',\n                    // paddingRight: '25%',\n                    listStyle: 'none',\n                    // display: 'flex',\n                    flexDirection: 'column',\n                    // position: 'absolute',\n                    // top: '96vh',\n                    // width: '100vw',\n                    // textAlign: 'center',\n                    // justifyContent: 'space-around',\n                    margin: '-10px 10px 10px 10px',\n                    padding: 0,\n                    textAlign: 'center',\n                    // width: '95%',\n                    // backgroundColor: 'rgb(33 150 243 / 20%)',\n                }}\n            >\n                <li\n                    style={{\n                        width: '100%',\n                        // marginBottom: '5px',\n                        backgroundColor: 'rgb(33 150 243 / 20%)',\n                        padding: '10px 5px',\n                    }}\n                >\n                    <a\n                        target=\"_blank\"\n                        rel=\"noreferrer\"\n                        style={{\n                            textDecoration: 'none',\n                            color: 'white',\n                            padding: '10px 50px',\n                        }}\n                        href=\"https://github.com/AI4Bharat\"\n                    >\n                        Organisation\n                    </a>\n                </li>\n                <br />\n                <li\n                    style={{\n                        width: '100%',\n                        backgroundColor: 'rgb(33 150 243 / 20%)',\n                        padding: '10px 5px',\n                    }}\n                >\n                    <a\n                        target=\"_blank\"\n                        rel=\"noreferrer\"\n                        style={{ textDecoration: 'none', color: 'white', padding: '10px 50px' }}\n                        href=\"https://github.com/AI4Bharat/Chitralekha/\"\n                    >\n                        GitHub Repo\n                    </a>\n                </li>\n            </ul>\n        </>\n    );\n}\n","const configs = {\n    BASE_URL: \"https://backend.chitralekha.ai4bharat.org/\",\n    BASE_URL_AUTO: process.env.REACT_APP_APIGW_BASE_URL\n      ? process.env.REACT_APP_APIGW_BASE_URL\n      : \"https://backend.chitralekha.ai4bharat.org\"\n      // : \"http://127.0.0.1:8000\",\n  };\n  \n  export default configs;\n","/**\n * base class for API object\n */\n import config from '../config/config';\n\n export default class API {\n   constructor(method = \"POST\", timeout = 2000, auth = false, reqType = \"\") {\n     this.code = null;\n     this.message = null;\n     this.reqType = reqType;\n     this.domain = null;\n     this.method = method;\n     this.timeout = timeout;\n     this.auth = auth;\n     this.baseUrl = config.BASE_URL;\n     this.baseUrlAuto = config.BASE_URL_AUTO;\n   }\n \n   toString() {\n     return `( code: ${this.code} message: ${this.message} domain: ${this.domain} method: ${this.method} timeout: ${this.timeout} auth: ${this.auth}`;\n   }\n \n   apiEndPoint() {\n     return this.baseUrl;\n   }\n \n   dontShowApiLoader() {\n     return false;\n   }\n \n   apiEndPointAuto() {\n     return this.baseUrlAuto;\n   }\n \n   processResponse(res) {\n     this.code = res.code;\n     this.message = res.message;\n     this.domain = res.domain;\n   }\n }\n ","export default {\n    users: \"/users/api/\",\n    video: \"/video/\",\n    transcript: \"/transcript/\",\n    translation: \"/translation/\",\n  };","export default {\n  APISTATUS: \"APISTATUS\",\n  GET_VIDEO_DETAILS: \"GET_VIDEO_DETAILS\",\n  FETCH_TRANSCRIPT: \"FETCH_TRANSCRIPT\",\n  GET_TRANSCRIPT_LANGUAGES: \"GET_TRANSCRIPT_LANGUAGES\",\n  GENERATE_TRANSCRIPT: \"GENERATE_TRANSCRIPT\",\n  SAVE_TRANSCRIPT: \"SAVE_TRANSCRIPT\",\n  GENERATE_TRANSLATION: \"GENERATE_TRANSLATION\",\n  GET_TRANSLATION_LANGAUGES: \"GET_TRANSLATION_LANGAUGES\",\n  SAVE_TRANSLATION: \"SAVE_TRANSLATION\",\n  FETCH_TRANSLATION: \"FETCH_TRANSLATION\",\n};\n  ","/**\n * Login API\n */\n import API from \"../../../api\";\n import ENDPOINTS from \"../../../../config/apiendpoint\";\n import constants from \"../../../constants\";\n \n export default class GetVideoDetailsAPI extends API {\n   constructor(videoUrl, timeout = 2000) {\n     super(\"GET\", timeout, false);\n     this.type = constants.GET_VIDEO_DETAILS\n     this.videoUrl = videoUrl;\n     this.endpoint = `${super.apiEndPointAuto()}${ENDPOINTS.video}?video_url=${videoUrl}&create_youtube_transcript=True`;\n   }\n \n   processResponse(res) {\n     super.processResponse(res);\n     if (res) {\n         this.video = res;\n     }\n }\n \n   apiEndPoint() {\n     return this.endpoint;\n   }\n \n   getBody() {}\n \n   getHeaders() {\n     this.headers = {\n       headers: {\n         \"Content-Type\": \"application/json\",\n         ...(localStorage.getItem('chitralekha_access_token')) && {\"Authorization\":`Token ${localStorage.getItem('chitralekha_access_token')}`}\n       },\n     };\n     return this.headers;\n   }\n \n   getPayload() {\n     return this.video\n   }\n }\n ","import axios from \"axios\";\nimport C from \"../../constants\";\nimport Strings from \"../../string\";\n\nfunction dispatchAPIAsync(api) {\n  return {\n    type: api.type,\n    endpoint: api.apiEndPoint(),\n    payload: api.getPayload()\n  };\n}\n\nfunction apiStatusAsync(progress, errors, message, res = null, unauthrized = false, loading = false) {\n  if (res === null || !(res.status && res.status.statusCode && res.status.statusCode !== 200 && res.status.statusCode !== 201)) {\n    return {\n      type: C.APISTATUS,\n      payload: {\n        progress,\n        error: errors,\n        message: res && res.status && res.status.statusMessage ? res.status.statusMessage : message,\n        unauthrized: unauthrized,\n        loading: loading,\n        \n      }\n    };\n  }\n  return {\n    type: C.APISTATUS,\n    payload: {\n      progress,\n      error: res.status.statusCode === 200 || res.status.statusCode === 201,\n      message: res.status.statusCode === 200 || res.status.statusCode === 201 ? message : res.status.errorMessage,\n      unauthrized: unauthrized,\n      loading: loading\n    }\n  };\n}\n\nfunction success(res, api, dispatch) {\nconsole.log(res,\"res\")\n  api.processResponse(res.data);\n  if (api.type) {\n    dispatch(dispatchAPIAsync(api));\n    dispatch(apiStatusAsync(false, false, api.successMsg, res.data, null, false));\n  }\n  if (typeof api.processNextSuccessStep === \"function\" && res.status && (res.status === 200 || res.status === 201))\n    api.processNextSuccessStep(res.data);\n    dispatch(apiStatusAsync(false, false, api.successMsg, res.data, null, false));\n}\n\nfunction error(err, api, dispatch) {\n  let errorMsg = ((err.response && err.response.data && err.response.data.why) ? err.response.data.why : ((err.response && err.response.status&& Object.keys(Strings.error.message.http).includes(Number(err.response.status))) ? Strings.error.message.http[Number(err.response.status)]:Strings.error.message.http.default));\n  if (api.errorMsg || api.errorMsg === null) {\n    errorMsg = api.errorMsg === null ? \"\" : api.errorMsg;\n  }\n  dispatch(apiStatusAsync(false, true, errorMsg, null, err.response && err.response.status === 401 ? true : false));\n  if (typeof api.processNextErrorStep === \"function\") {\n    api.processNextErrorStep();\n  }\n}\n\nexport const updateMessage = apiStatusAsync;\n\nexport default function dispatchAPI(api) {\n  if (api.reqType === \"MULTIPART\") {\n    return dispatch => {\n      dispatch(apiStatusAsync(api.dontShowApiLoader() ? false : true, false, \"\"));\n      axios\n        .post(api.apiEndPoint(), api.getFormData(), api.getHeaders())\n        .then(res => {\n          success(res, api, dispatch);\n        })\n        .catch(err => {\n          error(err, api, dispatch);\n        });\n    };\n  } else if (api.method === \"PATCH\") {\n    return dispatch => {\n      dispatch(apiStatusAsync(api.dontShowApiLoader() ? false : true, false, \"\"));\n      axios\n        .patch(api.apiEndPoint(), api.getBody(), api.getHeaders())\n        .then(res => {\n          success(res, api, dispatch);\n        })\n        .catch(err => {\n          error(err, api, dispatch);\n        });\n    };\n  } else if (api.method === \"POST\") {\n    return dispatch => {\n      dispatch(apiStatusAsync(api.dontShowApiLoader() ? false : true, false, \"\", null, null, true));\n      axios\n        .post(api.apiEndPoint(), api.getBody(), api.getHeaders())\n        .then(res => {\n          success(res, api, dispatch);\n        })\n        .catch(err => {\n          error(err, api, dispatch);\n        });\n    };\n  } else if (api.method === \"PUT\") {\n    return dispatch => {\n      dispatch(apiStatusAsync(api.dontShowApiLoader() ? false : true, false, \"\"));\n      axios\n        .put(api.apiEndPoint(), api.getBody(), api.getHeaders())\n        .then(res => {\n          success(res, api, dispatch);\n        })\n        .catch(err => {\n          error(err, api, dispatch);\n        });\n    };\n  } else if (api.method === \"DELETE\") {\n    return dispatch => {\n      dispatch(apiStatusAsync(api.dontShowApiLoader() ? false : true, false, \"\"));\n      axios\n        .delete(api.apiEndPoint(), api.getHeaders())\n        .then(res => {\n          success(res, api, dispatch);\n        })\n        .catch(err => {\n          error(err, api, dispatch);\n        });\n    };\n  }\n  return dispatch => {\n    dispatch(apiStatusAsync(api.dontShowApiLoader() ? false : true, false, \"\",null, null, true));\n    axios\n      .get(api.apiEndPoint(), api.getHeaders())\n      .then(res => {\n        success(res, api, dispatch);\n      })\n      .catch(err => {\n        error(err, api, dispatch);\n      });\n  };\n}\n","import styled from 'styled-components';\n// import languages from '../libs/languages';\nimport { t, Translate } from 'react-i18nify';\nimport React, { useState, useCallback, useEffect } from 'react';\nimport { getExt, download } from '../utils';\nimport { file2sub, sub2vtt, sub2srt, sub2txt, url2sub, vtt2url } from '../libs/readSub';\nimport sub2ass from '../libs/readSub/sub2ass';\n// import googleTranslate from '../libs/googleTranslate';\n// import englishKeywordsTranslate from '../libs/englishKeywordsTranslate';\nimport FFmpeg from '@ffmpeg/ffmpeg';\nimport SimpleFS from '@forlagshuset/simple-fs';\nimport HamburgerMenu from 'react-hamburger-menu';\nimport '../utils/ToolNavigation.css';\nimport BottomLinks from './BottomLinks';\nimport GetVideoDetailsAPI from \"../redux/actions/api/Video/GetVideoDetails\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport APITransport from \"../redux/actions/apitransport/apitransport\"\n\nconst Style = styled.div`\n    border-left: 1px solid white;\n\n    .tool-button {\n        display: flex;\n        justify-content: flex-end;\n        align-items: center;\n        padding: 10px 10px 2px 0;\n        margin-bottom: 5px;\n\n        .icon {\n            cursor: pointer;\n        }\n    }\n\n    .import {\n        display: flex;\n        justify-content: space-between;\n        padding: 10px;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n        .btn {\n            position: relative;\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 48%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #3f51b5;\n            transition: all 0.2s ease 0s;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n\n        .file {\n            position: absolute;\n            left: 0;\n            top: 0;\n            right: 0;\n            bottom: 0;\n            width: 100%;\n            height: 100%;\n            opacity: 0;\n        }\n    }\n\n    .seconday-options {\n        transform: scaleY(1) !important;\n        transition: all 0.25s 0.4s;\n        transform-origin: top;\n    }\n\n    .hide-secondary-options {\n        transform: scaleY(0) !important;\n        transition: all 0.25s;\n        transform-origin: top;\n        height: 0;\n    }\n\n    .hide-secondary-options * > {\n        opacity: 0;\n        transition: all 0.1s;\n    }\n\n    .select-translation-api-container {\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n        display: flex;\n        flex-direction: column;\n        // justify-content: center;\n        padding-left: 10px;\n\n        .select-heading {\n            margin-top: -0.5px;\n        }\n\n        select {\n            width: 95%;\n            outline: none;\n            height: 35px;\n            border-radius: 3px;\n            margin-bottom: 10px;\n            margin-top: -10px;\n        }\n    }\n\n    .burn {\n        display: flex;\n        justify-content: space-between;\n        padding: 10px;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n        .btn {\n            position: relative;\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 100%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #673ab7;\n            transition: all 0.2s ease 0s;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n    }\n\n    .export {\n        display: flex;\n        justify-content: space-between;\n        padding: 10px;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n        .btn {\n            position: relative;\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 31%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #009688;\n            transition: all 0.2s ease 0s;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n    }\n\n    .operate {\n        display: flex;\n        justify-content: space-between;\n        padding: 10px;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n        .btn {\n            position: relative;\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 48%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #009688;\n            transition: all 0.2s ease 0s;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n    }\n\n    .configuration {\n        transform: scaleY(1) !important;\n        transition: all 0.25s 0.4s;\n        transform-origin: top;\n\n        &-heading {\n            opacity: 1;\n            padding-left: 10px;\n            margin-top: -0.5px;\n        }\n\n        &-options {\n            opacity: 1;\n            display: flex;\n            flex-direction: column;\n            flex-wrap: wrap;\n            border-bottom: 1px solid rgb(255 255 255 / 20%);\n            // align-items: center;\n            margin-top: -10px;\n            padding-left: 10px;\n\n            .btn {\n                position: relative;\n                opacity: 0.85;\n                display: flex;\n                justify-content: center;\n                align-items: center;\n                height: 35px;\n                width: 95%;\n                border-radius: 3px;\n                color: #fff;\n                cursor: pointer;\n                font-size: 13px;\n                background-color: #009688;\n                transition: all 0.2s ease 0s;\n                margin-bottom: 10px;\n                letter-spacing: 1.3px;\n\n                &:hover {\n                    opacity: 1;\n                }\n            }\n        }\n    }\n\n    .hide-config {\n        transform: scaleY(0) !important;\n        transition: all 0.25s;\n        transform-origin: top;\n        height: 0;\n    }\n    .hide-config .configuration-heading {\n        opacity: 0;\n        transition: all 0.1s;\n    }\n\n    .hide-config .configuration-options {\n        opacity: 0;\n        transition: all 0.1s;\n    }\n\n    .translate {\n        display: flex;\n        justify-content: space-between;\n        padding: 10px;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n        select {\n            width: 65%;\n            outline: none;\n            padding: 0 5px;\n            border-radius: 3px;\n        }\n\n        .btn {\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 33%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #673ab7;\n            transition: all 0.2s ease 0s;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n    }\n    .youtube-link {\n        display: flex;\n        justify-content: space-between;\n        padding: 10px;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n        .youtube-textarea {\n            width: 65%;\n            outline: none;\n            padding: 0 5px;\n            border-radius: 3px;\n        }\n\n        .btn {\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 33%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #673ab7;\n            transition: all 0.2s ease 0s;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n    }\n\n    .hotkey {\n        display: flex;\n        justify-content: space-between;\n        padding: 10px;\n\n        span {\n            width: 49%;\n            font-size: 13px;\n            padding: 5px 0;\n            border-radius: 3px;\n            text-align: center;\n            color: rgb(255 255 255 / 75%);\n            background-color: rgb(255 255 255 / 20%);\n        }\n    }\n\n    .bottom {\n        padding: 10px;\n        a {\n            display: flex;\n            flex-direction: column;\n            border: 1px solid rgb(255 255 255 / 30%);\n            text-decoration: none;\n\n            .title {\n                color: #ffeb3b;\n                padding: 5px 10px;\n                animation: animation 3s infinite;\n                border-bottom: 1px solid rgb(255 255 255 / 30%);\n            }\n\n            @keyframes animation {\n                50% {\n                    color: #00bcd4;\n                }\n            }\n\n            img {\n                max-width: 100%;\n            }\n        }\n    }\n\n    .progress {\n        position: fixed;\n        left: 0;\n        top: 0;\n        right: 0;\n        z-index: 9;\n        height: 2px;\n        background-color: rgb(0 0 0 / 50%);\n\n        span {\n            display: inline-block;\n            position: absolute;\n            left: 0;\n            top: 0;\n            bottom: 0;\n            width: 0;\n            height: 100%;\n            background-color: #ff9800;\n            transition: all 0.2s ease 0s;\n        }\n    }\n`;\n// function useStickyState(defaultValue, key) {\n//     const [value, setValue] = React.useState(() => {\n//       const stickyValue = window.localStorage.getItem(key);\n//       return stickyValue !== null\n//         ? JSON.parse(stickyValue)\n//         : defaultValue;\n//     });\n//     React.useEffect(() => {\n//       window.localStorage.setItem(key, JSON.stringify(value));\n//     }, [key, value]);\n//     return [value, setValue];\n//   }\n\n// const CalendarView = () => {\n//     const [mode, setMode] = useStickyState('day', 'calendar-view');\n//     return (\n//       <>\n//         <select onChange={ev => setMode(ev.target.value)}>\n//           <option value=\"day\">Day</option>\n//           <option value=\"week\">Week</option>\n//           <option value=\"month\">Month</option>\n//         </select>\n//         {/* Calendar stuff here */}\n//       </>\n//     )\n//   }\n\nFFmpeg.createFFmpeg({ log: true }).load();\nconst fs = new SimpleFS.FileSystem();\n\nexport default function Header({\n    player,\n    waveform,\n    newSub,\n    undoSubs,\n    clearSubs,\n    language,\n    subtitle,\n    setLoading,\n    formatSub,\n    setSubtitle,\n    setProcessing,\n    notify,\n    subtitleEnglish,\n    setSubtitleEnglish,\n    clearSubsEnglish,\n    setSubtitleOriginal,\n    clearedSubs,\n    setClearedSubs,\n    configuration,\n    setConfiguration,\n    enableConfiguration,\n    setEnableConfiguration,\n    isSetConfiguration,\n    setIsSetConfiguration,\n    isSetVideo,\n    setIsSetVideo,\n    transcriptSource,\n    setTranscriptSource,\n}) {\n    // const [translate, setTranslate] = useState('en');\n    const [videoFile, setVideoFile] = useState(null);\n    const [youtubeURL, setYoutubeURL] = useState('');\n    const translate = 'en';\n    const [toolOpen, setToolOpen] = useState(true);\n    const dispatch = useDispatch();\n    const VideoDetails = useSelector(state => state.getVideoDetails.data);\n    // const [isSetVideo, setIsSetVideo] = useState(false);\n\n    const clearSubsHandler = () => {\n        window.localStorage.setItem('subsBeforeClear', JSON.stringify(subtitle));\n\n        // let tempSubs = subtitle.slice(0);\n        // tempSubs.map((sub) => {\n        //     sub.text = '';\n        //     sub.text2 = '';\n        //     return true;\n        // });\n        setSubtitle([]);\n        setSubtitleEnglish([]);\n        localStorage.removeItem('subtitleEnglish');\n\n        // setSubtitleOriginal(tempSubs);\n        setClearedSubs(true);\n        player?.pause();\n    };\n\n    const decodeAudioData = useCallback(\n        async (file) => {\n            try {\n                const { createFFmpeg, fetchFile } = FFmpeg;\n                const ffmpeg = createFFmpeg({ log: true });\n                ffmpeg.setProgress(({ ratio }) => setProcessing(ratio * 100));\n                setLoading(t('LOADING_FFMPEG'));\n                await ffmpeg.load();\n                ffmpeg.FS('writeFile', file.name, await fetchFile(file));\n                setLoading('');\n                notify({\n                    message: t('DECODE_START'),\n                    level: 'info',\n                });\n                const output = `${Date.now()}.mp3`;\n                await ffmpeg.run('-i', file.name, '-ac', '1', '-ar', '8000', output);\n                const uint8 = ffmpeg.FS('readFile', output);\n                // download(URL.createObjectURL(new Blob([uint8])), `${output}`);\n                await waveform.decoder.decodeAudioData(uint8);\n                waveform.drawer.update();\n                setProcessing(0);\n                ffmpeg.setProgress(() => null);\n                notify({\n                    message: t('DECODE_SUCCESS'),\n                    level: 'success',\n                });\n            } catch (error) {\n                setLoading('');\n                setProcessing(0);\n                notify({\n                    message: t('DECODE_ERROR'),\n                    level: 'error',\n                });\n            }\n        },\n        [waveform, notify, setProcessing, setLoading],\n    );\n\n    const burnSubtitles = useCallback(async () => {\n        player?.pause();\n        try {\n            const { createFFmpeg, fetchFile } = FFmpeg;\n            const ffmpeg = createFFmpeg({ log: true });\n            ffmpeg.setProgress(({ ratio }) => setProcessing(ratio * 100));\n            setLoading(t('LOADING_FFMPEG'));\n            await ffmpeg.load();\n            setLoading(t('LOADING_FONT'));\n\n            await fs.mkdir('/fonts');\n            const fontExist = await fs.exists('/fonts/Microsoft-YaHei.ttf');\n            if (fontExist) {\n                const fontBlob = await fs.readFile('/fonts/Microsoft-YaHei.ttf');\n                ffmpeg.FS('writeFile', `tmp/Microsoft-YaHei.ttf`, await fetchFile(fontBlob));\n            } else {\n                const fontUrl = 'https://cdn.jsdelivr.net/gh/zhw2590582/SubPlayer/docs/Microsoft-YaHei.ttf';\n                const fontBlob = await fetch(fontUrl).then((res) => res.blob());\n                await fs.writeFile('/fonts/Microsoft-YaHei.ttf', fontBlob);\n                ffmpeg.FS('writeFile', `tmp/Microsoft-YaHei.ttf`, await fetchFile(fontBlob));\n            }\n            setLoading(t('LOADING_VIDEO'));\n            ffmpeg.FS(\n                'writeFile',\n                videoFile ? videoFile.name : 'sample.mp4',\n                await fetchFile(videoFile || 'sample.mp4'),\n            );\n            setLoading(t('LOADING_SUB'));\n            const subtitleFile = new File([new Blob([sub2ass(subtitle)])], 'subtitle.ass');\n            ffmpeg.FS('writeFile', subtitleFile.name, await fetchFile(subtitleFile));\n            setLoading('');\n            notify({\n                message: t('BURN_START'),\n                level: 'info',\n            });\n            const output = `${Date.now()}.mp4`;\n            await ffmpeg.run(\n                '-i',\n                videoFile ? videoFile.name : 'sample.mp4',\n                '-vf',\n                `ass=${subtitleFile.name}:fontsdir=/tmp`,\n                '-preset',\n                videoFile ? 'fast' : 'ultrafast',\n                output,\n            );\n            const uint8 = ffmpeg.FS('readFile', output);\n            download(URL.createObjectURL(new Blob([uint8])), `${output}`);\n            setProcessing(0);\n            ffmpeg.setProgress(() => null);\n            notify({\n                message: t('BURN_SUCCESS'),\n                level: 'success',\n            });\n        } catch (error) {\n            setLoading('');\n            setProcessing(0);\n            notify({\n                message: t('BURN_ERROR'),\n                level: 'error',\n            });\n        }\n    }, [notify, setProcessing, setLoading, videoFile, subtitle]);\n\n    const onVideoChange = useCallback(\n        (event) => {\n            const file = event.target.files[0];\n            if (file) {\n                const ext = getExt(file.name);\n                const canPlayType = player.canPlayType(file.type);\n                if (canPlayType === 'maybe' || canPlayType === 'probably') {\n                    setVideoFile(file);\n                    decodeAudioData(file);\n                    const url = URL.createObjectURL(new Blob([file]));\n                    waveform.decoder.destroy();\n                    waveform.drawer.update();\n                    // waveform.seek(0);\n                    player.currentTime = 0;\n                    clearSubs();\n                    setSubtitle([\n                        newSub({\n                            start: '00:00:00.000',\n                            end: '00:00:01.000',\n                            text: t('SUB_TEXT'),\n                        }),\n                    ]);\n                    player.src = url;\n                } else {\n                    notify({\n                        message: `${t('VIDEO_EXT_ERR')}: ${file.type || ext}`,\n                        level: 'error',\n                    });\n                }\n            }\n\n            localStorage.setItem('isVideoPresent', true);\n            setIsSetVideo(true);\n        },\n        [newSub, notify, player, setSubtitle, waveform, clearSubs, decodeAudioData, setIsSetVideo],\n    );\n\n    // const fetchTranscript = () => {\n    //     const transcriptObj = new FetchTranscriptAPI();\n    // }\n\n    useEffect(() => {\n        if (VideoDetails.direct_video_url) {\n            localStorage.setItem('videoSrc', VideoDetails.direct_video_url);\n            localStorage.setItem('videoId', VideoDetails.video.id);\n            localStorage.setItem('audioSrc', VideoDetails.direct_audio_url);\n            localStorage.setItem('youtubeURL', VideoDetails.video.url);\n            localStorage.setItem('isVideoPresent', true);\n            setIsSetVideo(true);\n            setLoading('');\n            player.src = VideoDetails.direct_video_url;\n            player.currentTime = 0;\n            clearSubs();\n            // if (VideoDetails.transcript_id) {\n            //     localStorage.setItem('transcript_id', VideoDetails.transcript_id);\n            //     setSubtitleEnglish(formatSub(VideoDetails.subtitles));\n            //     localStorage.setItem('subtitleEnglish', JSON.stringify(VideoDetails.subtitles));\n            //     setTranscriptSource('Youtube');\n            //     // fetch(VideoDetails.subtitles)\n            //     // .then((subtext) => {\n            //     //     return subtext.text();\n            //     // })\n            //     // .then((subtext) => {\n            //     //     const suburl = vtt2url(subtext);\n            //     //     url2sub(suburl).then((urlsub) => {\n            //     //         setSubtitle(urlsub);\n            //     //         setSubtitleEnglish(urlsub);\n            //     //         localStorage.setItem('subtitle', JSON.stringify(urlsub));\n            //     //         localStorage.setItem('subtitleEnglish', JSON.stringify(urlsub));\n            //     //     });\n            //     // })\n            //     // .catch((err) => {\n            //     //     console.log(err);\n            //     // });\n            // }\n        }\n        // if (resp.subtitles) {\n        //     const sub = resp.subtitles;\n\n        //     fetch(sub)\n        //         .then((subtext) => {\n        //             return subtext.text();\n        //         })\n        //         .then((subtext) => {\n        //            // console.log(subtext);\n        //             player.currentTime = 0;\n        //             clearSubs();\n        //             const suburl = vtt2url(subtext);\n        //             url2sub(suburl).then((urlsub) => {\n        //                 setSubtitle(urlsub);\n        //                 localStorage.setItem('subtitle', JSON.stringify(urlsub));\n        //             });\n        //         })\n        //         .catch((err) => {\n        //             console.log(err);\n        //         });\n        //     }\n    // } else {\n        //             // // Auto-transcribe\n        //             // const data = {\n        //             //     url: youtubeURL,\n        //             //     vad_level: 2,\n        //             //     chunk_size: 10,\n        //             //     language: 'en',\n        //             // };\n\n        //             // fetch(`${process.env.REACT_APP_ASR_URL}/transcribe`, {\n        //             //     method: 'POST',\n        //             //     headers: { 'Content-Type': 'application/json' },\n        //             //     body: JSON.stringify(data),\n        //             // })\n        //             //     .then((resp) => {\n        //             //         return resp.json();\n        //             //     })\n        //             //     .then((resp) => {\n        //             //         console.log(resp.output);\n        //             //         player.currentTime = 0;\n        //             //         clearSubs();\n        //             //         const suburl = vtt2url(resp.output);\n        //             //         url2sub(suburl).then((urlsub) => {\n        //             //             setSubtitle(urlsub);\n        //             //             localStorage.setItem('subtitle', JSON.stringify(urlsub));\n        //             //         });\n        //             //     })\n        //             //     .catch((err) => {\n        //             //         console.log(err);\n        //             //     });\n        //         }\n        //     });\n    }, [VideoDetails]);\n\n    const onYouTubeChange = useCallback(\n        (event) => {\n            if (youtubeURL.length > 0) {\n                const videoObj = new GetVideoDetailsAPI(youtubeURL);\n                \n                console.log('called');\n       //         clearSubsHandler(); // added this so that subtitles of previous video do not remain even on new video load\n                setLoading(t('LOADING'));\n                dispatch(APITransport(videoObj));\n\n                // fetch(\n                //     `${process.env.REACT_APP_ASR_URL}/get_youtube_video_link_with_captions?url=${youtubeURL}&lang=${translate}`,\n                //     {\n                //         method: 'POST',\n                //     },\n                // )\n                //     .then((resp) => {\n                //         return resp.json();\n                //     })\n                //     .then((resp) => {\n                //         const url = resp.video;\n                //         player.src = url;\n\n                //         localStorage.setItem('videoSrc', resp.video);\n                //         localStorage.setItem('audioSrc', resp.audio);\n                //         localStorage.setItem('youtubeURL', youtubeURL);\n\n                //         if (resp.subtitles) {\n                //             const sub = resp.subtitles;\n\n                //             fetch(sub)\n                //                 .then((subtext) => {\n                //                     return subtext.text();\n                //                 })\n                //                 .then((subtext) => {\n                //                    // console.log(subtext);\n                //                     player.currentTime = 0;\n                //                     clearSubs();\n                //                     const suburl = vtt2url(subtext);\n                //                     url2sub(suburl).then((urlsub) => {\n                //                         setSubtitle(urlsub);\n                //                         localStorage.setItem('subtitle', JSON.stringify(urlsub));\n                //                     });\n                //                 })\n                //                 .catch((err) => {\n                //                     console.log(err);\n                //                 });\n                //         } else {\n                //             // // Auto-transcribe\n                //             // const data = {\n                //             //     url: youtubeURL,\n                //             //     vad_level: 2,\n                //             //     chunk_size: 10,\n                //             //     language: 'en',\n                //             // };\n\n                //             // fetch(`${process.env.REACT_APP_ASR_URL}/transcribe`, {\n                //             //     method: 'POST',\n                //             //     headers: { 'Content-Type': 'application/json' },\n                //             //     body: JSON.stringify(data),\n                //             // })\n                //             //     .then((resp) => {\n                //             //         return resp.json();\n                //             //     })\n                //             //     .then((resp) => {\n                //             //         console.log(resp.output);\n                //             //         player.currentTime = 0;\n                //             //         clearSubs();\n                //             //         const suburl = vtt2url(resp.output);\n                //             //         url2sub(suburl).then((urlsub) => {\n                //             //             setSubtitle(urlsub);\n                //             //             localStorage.setItem('subtitle', JSON.stringify(urlsub));\n                //             //         });\n                //             //     })\n                //             //     .catch((err) => {\n                //             //         console.log(err);\n                //             //     });\n                //         }\n                //     });\n                \n                // // fetch(\n                // //     `${process.env.REACT_APP_ASR_URL}/get_youtube_video_link_with_captions?url=${youtubeURL}&lang=en`,\n                // //     {\n                // //         method: 'POST',\n                // //     },\n                // // )\n                // //     .then((resp) => {\n                // //         return resp.json();\n                // //     })\n                // //     .then((resp) => {\n                // //         //const url = resp.video;\n                // //         const audio = resp.audio;\n\n                // //         if (resp.subtitles) {\n                // //             const sub = resp.subtitles;\n                // //             fetch(sub)\n                // //                 .then((subtext) => {\n                // //                     return subtext.text();\n                // //                 })\n                // //                 .then((subtext) => {\n                // //                     clearSubsEnglish();\n                // //                     const suburl = vtt2url(subtext);\n                // //                     url2sub(suburl).then((urlsub) => {\n                // //                         setSubtitleEnglish(urlsub);\n                // //                         localStorage.setItem('subtitleEnglish', JSON.stringify(urlsub));\n                // //                     });\n\n                // //                     setLoading('');\n                // //                 })\n                // //                 .catch((err) => {\n                // //                     console.log(err);\n                // //                 });\n                // //         } else {\n                // //             const data = {\n                // //                 audio_url: audio,\n                // //                 vad_level: 2,\n                // //                 chunk_size: 10,\n                // //                 language: 'en',\n                // //             };\n\n                // //             fetch(`${process.env.REACT_APP_ASR_URL}/transcribe_audio`, {\n                // //                 method: 'POST',\n                // //                 headers: { 'Content-Type': 'application/json' },\n                // //                 body: JSON.stringify(data),\n                // //             })\n                // //                 .then((resp) => {\n                // //                     return resp.json();\n                // //                 })\n                // //                 .then((resp) => {\n                // //                     console.log(resp.output);\n                // //                     player.currentTime = 0;\n                // //                     clearSubs();\n                // //                     const suburl = vtt2url(resp.output);\n                // //                     url2sub(suburl).then((urlsub) => {\n                // //                         setSubtitleEnglish(urlsub);\n                // //                         localStorage.setItem('subtitleEnglish', JSON.stringify(urlsub));\n                // //                     });\n                // //                 })\n                // //                 .then(() => setLoading(''))\n                // //                 .catch((err) => {\n                // //                     console.log(err);\n                // //                 });\n                // //         }\n                // //     });\n            }\n\n            // localStorage.setItem('isVideoPresent', true);\n            // setIsSetVideo(true);\n            // setLoading('')\n        },\n        [\n            clearSubs,\n            youtubeURL,\n            translate,\n            player,\n            setSubtitle,\n            setLoading,\n            setIsSetVideo,\n        ],\n    );\n\n    const handleChange = (e) => {\n        setYoutubeURL(e.target.value);\n    };\n\n    const onSubtitleChange = useCallback(\n        (event) => {\n            const file = event.target.files[0];\n            if (file) {\n                const ext = getExt(file.name);\n                if (['ass', 'vtt', 'srt', 'json'].includes(ext)) {\n                    file2sub(file)\n                        .then((res) => {\n                            clearSubs();\n                            localStorage.removeItem('transcript_id');\n                            setSubtitle(res);\n                            setSubtitleEnglish(res); //added setSubtitleEnglish\n                        })\n                        .catch((err) => {\n                            notify({\n                                message: err.message,\n                                level: 'error',\n                            });\n                        });\n                } else {\n                    notify({\n                        message: `${t('SUB_EXT_ERR')}: ${ext}`,\n                        level: 'error',\n                    });\n                }\n            }\n        },\n        [notify, setSubtitle, clearSubs],\n    );\n\n    const onInputClick = useCallback((event) => {\n        setTranscriptSource('Manual Upload');\n        event.target.value = '';\n    }, []);\n\n    const downloadSub = useCallback(\n        (type) => {\n            player?.pause();\n            let text = '';\n            const name = `${Date.now()}.${type}`;\n            switch (type) {\n                case 'vtt':\n                    text = sub2vtt(subtitle);\n                    break;\n                case 'srt':\n                    text = sub2srt(subtitle);\n                    break;\n                case 'ass':\n                    text = sub2ass(subtitle);\n                    break;\n                case 'txt':\n                    text = sub2txt(subtitle);\n                    break;\n                case 'json':\n                    text = JSON.stringify(subtitle);\n                    break;\n                default:\n                    break;\n            }\n            const url = URL.createObjectURL(new Blob([text]));\n            download(url, name);\n        },\n        [subtitle],\n    );\n\n    const downloadSubReference = useCallback(\n        (type) => {\n            player?.pause();\n            let text = '';\n            const name = `${Date.now()}.${type}`;\n            switch (type) {\n                case 'vtt':\n                    text = sub2vtt(subtitleEnglish);\n                    break;\n                case 'srt':\n                    text = sub2srt(subtitleEnglish);\n                    break;\n                case 'ass':\n                    text = sub2ass(subtitleEnglish);\n                    break;\n                case 'txt':\n                    text = sub2txt(subtitleEnglish);\n                    break;\n                case 'json':\n                    text = JSON.stringify(subtitleEnglish);\n                    break;\n                default:\n                    break;\n            }\n            const url = URL.createObjectURL(new Blob([text]));\n            download(url, name);\n        },\n        [subtitleEnglish],\n    );\n\n    useEffect(() => {\n        if (isSetVideo === false) {\n            if (window.localStorage.getItem('isVideoPresent') === 'true') {\n                console.log('here inside loop');\n                setIsSetVideo(!isSetVideo);\n            }\n        }\n    }, [setIsSetVideo, isSetVideo]);\n\n    return (\n        <Style className={`tool ${toolOpen ? 'tool-open' : ''}`}>\n            <div className={`tool-button`}>\n                <div\n                    className=\"icon\"\n                    onClick={() => {\n                        console.log('hamburger clicked');\n                        setToolOpen(!toolOpen);\n                    }}\n                >\n                    <HamburgerMenu\n                        isOpen={toolOpen}\n                        width={22}\n                        height={18}\n                        strokeWidth={2}\n                        rotate={0}\n                        color={'#fff'}\n                        borderRadius={0}\n                        animationDuration={0.5}\n                    />\n                </div>\n            </div>\n\n            <div className=\"top\">\n            {/* <CalendarView />  */}\n                <div className=\"import \">\n                    <div className=\"btn\">\n                        <Translate value=\"OPEN_VIDEO\" />\n                        <input className=\"file\" type=\"file\" onChange={onVideoChange} onClick={onInputClick} />\n                    </div>\n                    <div className=\"btn\">\n                        <Translate value=\"OPEN_SUB\" />\n                        <input className=\"file\" type=\"file\" onChange={onSubtitleChange} onClick={onInputClick} />\n                    </div>\n                </div>\n                <div className=\"youtube-link \">\n                    <textarea\n                        className=\"youtube-textarea\"\n                        placeholder=\"Enter YouTube Link Here\"\n                        value={youtubeURL}\n                        onChange={handleChange}\n                        // onKeyPress={(e) => }\n                    />\n                    <div className=\"btn\" onClick={onYouTubeChange}>\n                        <Translate value=\"Fetch Video\" />\n                    </div>\n                </div>\n                <div className=\"operate\">\n                    <div\n                        className=\"btn\"\n                        onClick={() => {\n                            if (window.confirm(t('CLEAR_TIP')) === true) {\n                                // localStorage.setItem('videoSrc', '/sample.mp4');\n                           //     window.localStorage.clear(); //added this to clear the remaining localstorage values\n                                localStorage.setItem('videoSrc', null);\n                                localStorage.setItem('isVideoPresent', false);\n                                localStorage.setItem('lang', 'en');\n                                localStorage.setItem('subtitleEnglish', null);\n                                clearSubs();\n                                clearSubsEnglish();\n                                window.location.reload();\n                            }\n                        }}\n                    >\n                        <Translate value=\"CLEAR\" />\n                    </div>\n                    <div className=\"btn\" onClick={undoSubs}>\n                        <Translate value=\"UNDO\" />\n                    </div>\n                </div>\n                <div className=\"operate\">\n                    <div className=\"btn\" onClick={clearSubsHandler}>\n                        <Translate value=\"Clear Subtitles\" />\n                    </div>\n                </div>\n\n                <div\n                    className={`\n                        ${isSetVideo ? 'configuration' : 'hide-config'}\n                `}\n                >\n                    <p className=\"configuration-heading\">\n                        <b>Configuration Options</b>\n                    </p>\n                    <div className=\"configuration-options\">\n                        <div\n                            className=\"btn\"\n                            onClick={() => {\n                                console.log('Configuration - same');\n                                const langTranscribe = localStorage.getItem('lang');\n                              //  console.log(\"lang \" + langTranscribe);\n                                setConfiguration('Same Language Subtitling');\n                                setIsSetConfiguration(true);\n                                player?.pause();\n                            }}\n                        >\n                            <Translate value=\"SAME_LANGUAGE\" />\n                        </div>\n                        <div\n                            className=\"btn\"\n                            onClick={() => {\n                                console.log('Configuration - basic');\n                                \n                                setConfiguration('Subtitling');\n                                setIsSetConfiguration(true);\n                                clearSubs();\n                                player?.pause();\n                            }}\n                        >\n                            <Translate value=\"MAIN_LANGUAGE\" />\n                        </div>\n\n                        {/* <div\n                            className=\"btn\"\n                            onClick={() => {\n                                console.log('Configuration - sign');\n                                setConfiguration('Sign Language Subtitling');\n                                setIsSetConfiguration(true);\n                            }}\n                        >\n                            <Translate value=\"SIGN_LANGUAGE\" />\n                        </div> */}\n                        \n                    </div>\n                </div>\n                <div className={`secondary-options ${isSetConfiguration ? '' : 'hide-secondary-options'}`}>\n                    {/* {configuration === 'Subtitling' && (\n                        <>\n                            <div className=\"select-translation-api-container\">\n                                <p className=\"select-heading\">\n                                    <b>Translation Api</b>\n                                </p>\n                                <select\n                                    value={translationApi}\n                                    onChange={(e) => {\n                                        // console.log(e.target.value);\n                                        setTranslationApi(e.target.value);\n                                        player?.pause();\n                                    }}\n                                >\n                                    <option value=\"AI4Bharat\">AI4Bharat</option>\n                                    <option value=\"Google\">Google</option>\n                                </select>\n                            </div>\n                        </>\n                    )} */}\n                    {configuration === 'Same Language Subtitling' && (\n                        <>\n                            <div className=\"select-translation-api-container\">\n                                <p className=\"select-heading\">\n                                    <b>Transcript Source</b>\n                                </p>\n                                <select\n                                    value={transcriptSource}\n                                    onChange={(e) => {\n                                        console.log(e.target.value);\n                                        setTranscriptSource(e.target.value);\n                                        clearSubsEnglish();\n                                        player?.pause();\n                                    }}\n                                >\n                                    <option value=\"AI4Bharat\">AI4Bharat</option>\n                                    <option value=\"Youtube\">Youtube</option>\n                                    <option value=\"Manual Upload\">Manual Upload</option>\n                                </select>\n                            </div>\n                        </>)}\n                    {window.crossOriginIsolated ? (\n                        <div className=\"burn\" onClick={burnSubtitles}>\n                            <div className=\"btn\">\n                                <Translate value=\"EXPORT_VIDEO\" />\n                            </div>\n                        </div>\n                    ) : null}\n                    {configuration !== \"Same Language Subtitling\" && <p style={{ paddingLeft: '10px', marginTop: '-0.5px' }}>\n                        <b>Export Translation</b>\n                    </p>}\n                    {configuration !== \"Same Language Subtitling\" && <div className=\"export\" style={{ marginTop: '-20px' }}>\n                        <div className=\"btn\" onClick={() => downloadSub('ass')}>\n                            <Translate value=\"EXPORT_ASS\" />\n                        </div>\n                        <div className=\"btn\" onClick={() => downloadSub('srt')}>\n                            <Translate value=\"EXPORT_SRT\" />\n                        </div>\n                        <div className=\"btn\" onClick={() => downloadSub('vtt')}>\n                            <Translate value=\"EXPORT_VTT\" />\n                        </div>\n                    </div>}\n                    <p style={{ paddingLeft: '10px', marginTop: '-0.5px' }}>\n                        <b>Export Transcript</b>\n                    </p>\n                    <div className=\"export\" style={{ marginTop: '-20px' }}>\n                        <div className=\"btn\" onClick={() => downloadSubReference('ass')}>\n                            <Translate value=\"EXPORT_ASS\" />\n                        </div>\n                        <div className=\"btn\" onClick={() => downloadSubReference('srt')}>\n                            <Translate value=\"EXPORT_SRT\" />\n                        </div>\n                        <div className=\"btn\" onClick={() => downloadSubReference('vtt')}>\n                            <Translate value=\"EXPORT_VTT\" />\n                        </div>\n                    </div>\n                </div>\n                <div className=\"\">\n                    <BottomLinks />\n                </div>\n\n                {/* <div className=\"translate\">\n                    <select\n                        value={translate}\n                        onChange={(event) => {\n                            setTranslate(event.target.value);\n                            localStorage.setItem('lang', event.target.value);\n                        }}\n                    >\n                        {(languages[language] || languages.en).map((item) => (\n                            <option key={item.key} value={item.key}>\n                                {item.name}\n                            </option>\n                        ))}\n                    </select>\n                    <div className=\"btn\" onClick={onTranslate}>\n                        <Translate value=\"TRANSLATE\" />\n                    </div>\n                </div> */}\n\n                <div className=\"hotkey\">\n                    <span>\n                        <Translate value=\"HOTKEY_01\" />\n                    </span>\n                    <span>\n                        <Translate value=\"HOTKEY_02\" />\n                    </span>\n                </div>\n            </div>\n        </Style>\n    );\n}\n","export default function srt2vtt(srt) {\n    return 'WEBVTT \\r\\n\\r\\n'.concat(\n        srt\n            .replace(/\\{\\\\([ibu])\\}/g, '</$1>')\n            .replace(/\\{\\\\([ibu])1\\}/g, '<$1>')\n            .replace(/\\{([ibu])\\}/g, '<$1>')\n            .replace(/\\{\\/([ibu])\\}/g, '</$1>')\n            .replace(/(\\d\\d:\\d\\d:\\d\\d),(\\d\\d\\d)/g, '$1.$2')\n            .replace(/{[\\s\\S]*?}/g, '')\n            .concat('\\r\\n\\r\\n'),\n    );\n}\n","// https://cloud.google.com/translate/docs/languages\n\nconst zh = [\n    { name: '简体中文', key: 'zh' },\n    { name: '繁体中文', key: 'zh-TW' },\n    { name: '英语', key: 'en' },\n    { name: '南非荷兰语', key: 'af' },\n    { name: '阿尔巴尼亚语', key: 'sq' },\n    { name: '阿姆哈拉语', key: 'am' },\n    { name: '阿拉伯语', key: 'ar' },\n    { name: '亚美尼亚语', key: 'hy' },\n    { name: '阿塞拜疆语', key: 'az' },\n    { name: '巴斯克语', key: 'eu' },\n    { name: '白俄罗斯语', key: 'be' },\n    { name: '孟加拉语', key: 'bn' },\n    { name: '波斯尼亚语', key: 'bs' },\n    { name: '保加利亚语', key: 'bg' },\n    { name: '加泰罗尼亚语', key: 'ca' },\n    { name: '宿务语', key: 'ceb' },\n    { name: '科西嘉语', key: 'co' },\n    { name: '克罗地亚语', key: 'hr' },\n    { name: '捷克语', key: 'cs' },\n    { name: '丹麦语', key: 'da' },\n    { name: '荷兰语', key: 'nl' },\n    { name: '世界语', key: 'eo' },\n    { name: '爱沙尼亚语', key: 'et' },\n    { name: '芬兰语', key: 'fi' },\n    { name: '法语', key: 'fr' },\n    { name: '弗里斯兰语', key: 'fy' },\n    { name: '加利西亚语', key: 'gl' },\n    { name: '格鲁吉亚语', key: 'ka' },\n    { name: '德语', key: 'de' },\n    { name: '希腊语', key: 'el' },\n    { name: '古吉拉特语', key: 'gu' },\n    { name: '海地克里奥尔语', key: 'ht' },\n    { name: '豪萨语', key: 'ha' },\n    { name: '夏威夷语', key: 'haw' },\n    { name: '希伯来语', key: 'he' },\n    { name: '印地语', key: 'hi' },\n    { name: '苗语', key: 'hmn' },\n    { name: '匈牙利语', key: 'hu' },\n    { name: '冰岛语', key: 'is' },\n    { name: '伊博语', key: 'ig' },\n    { name: '印度尼西亚语', key: 'id' },\n    { name: '爱尔兰语', key: 'ga' },\n    { name: '意大利语', key: 'it' },\n    { name: '日语', key: 'ja' },\n    { name: '爪哇语', key: 'jw' },\n    { name: '卡纳达语', key: 'kn' },\n    { name: '哈萨克语', key: 'kk' },\n    { name: '高棉文', key: 'km' },\n    { name: '韩语', key: 'ko' },\n    { name: '库尔德语', key: 'ku' },\n    { name: '吉尔吉斯语', key: 'ky' },\n    { name: '老挝语', key: 'lo' },\n    { name: '拉丁文', key: 'la' },\n    { name: '拉脱维亚语', key: 'lv' },\n    { name: '立陶宛语', key: 'lt' },\n    { name: '卢森堡语', key: 'lb' },\n    { name: '马其顿语', key: 'mk' },\n    { name: '马尔加什语', key: 'mg' },\n    { name: '马来语', key: 'ms' },\n    { name: '马拉雅拉姆文', key: 'ml' },\n    { name: '马耳他语', key: 'mt' },\n    { name: '毛利语', key: 'mi' },\n    { name: '马拉地语', key: 'mr' },\n    { name: '蒙古文', key: 'mn' },\n    { name: '缅甸语', key: 'my' },\n    { name: '尼泊尔语', key: 'ne' },\n    { name: '挪威语', key: 'no' },\n    { name: '尼杨扎语', key: 'ny' },\n    { name: '普什图语', key: 'ps' },\n    { name: '波斯语', key: 'fa' },\n    { name: '波兰语', key: 'pl' },\n    { name: '葡萄牙语', key: 'pt' },\n    { name: '旁遮普语', key: 'pa' },\n    { name: '罗马尼亚语', key: 'ro' },\n    { name: '俄语', key: 'ru' },\n    { name: '萨摩亚语', key: 'sm' },\n    { name: '苏格兰盖尔语', key: 'gd' },\n    { name: '塞尔维亚语', key: 'sr' },\n    { name: '塞索托语', key: 'st' },\n    { name: '修纳语', key: 'sn' },\n    { name: '信德语', key: 'sd' },\n    { name: '僧伽罗语', key: 'si' },\n    { name: '斯洛伐克语', key: 'sk' },\n    { name: '斯洛文尼亚语', key: 'sl' },\n    { name: '索马里语', key: 'so' },\n    { name: '西班牙语', key: 'es' },\n    { name: '巽他语', key: 'su' },\n    { name: '斯瓦希里语', key: 'sw' },\n    { name: '瑞典语', key: 'sv' },\n    { name: '塔加路语', key: 'tl' },\n    { name: '塔吉克语', key: 'tg' },\n    { name: '泰米尔语', key: 'ta' },\n    { name: '泰卢固语', key: 'te' },\n    { name: '泰文', key: 'th' },\n    { name: '土耳其语', key: 'tr' },\n    { name: '乌克兰语', key: 'uk' },\n    { name: '乌尔都语', key: 'ur' },\n    { name: '乌兹别克语', key: 'uz' },\n    { name: '越南语', key: 'vi' },\n    { name: '威尔士语', key: 'cy' },\n    { name: '班图语', key: 'xh' },\n    { name: '意第绪语', key: 'yi' },\n    { name: '约鲁巴语', key: 'yo' },\n    { name: '祖鲁语', key: 'zu' },\n];\n\nconst en = [\n    { name: 'English', key: 'en' },\n    // { name: 'English Keywords', key: 'en-k' },\n    { name: 'Bengali', key: 'bn' },\n    { name: 'Gujarati', key: 'gu' },\n    { name: 'Hindi', key: 'hi' },\n    { name: 'Kannada', key: 'kn' },\n    { name: 'Malayalam', key: 'ml' },\n    { name: 'Marathi', key: 'mr' },\n    { name: 'Nepali', key: 'ne' },\n    { name: 'Oriya', key: 'or' },\n    { name: 'Punjabi', key: 'pa' },\n    { name: 'Sinhala', key: 'si' },\n    { name: 'Tamil', key: 'ta' },\n    { name: 'Telugu', key: 'te' },\n    { name: 'Urdu', key: 'ur' },\n];\n\nconst tr = [\n    { name: 'Basitleştirilmiş Çince', key: 'zh' },\n    { name: 'Geleneksel Çince', key: 'zh-TW' },\n    { name: 'İngilizce', key: 'en' },\n    { name: 'Afrikaanca', key: 'af' },\n    { name: 'Arnavutça', key: 'sq' },\n    { name: 'Amharca', key: 'am' },\n    { name: 'Arapça', key: 'ar' },\n    { name: 'Ermenice', key: 'hy' },\n    { name: 'Azerbaycanca', key: 'az' },\n    { name: 'Baskça', key: 'eu' },\n    { name: 'Belarusça', key: 'be' },\n    { name: 'Bengalce', key: 'bn' },\n    { name: 'Boşnakça', key: 'bs' },\n    { name: 'Bulgarca', key: 'bg' },\n    { name: 'Katalanca', key: 'ca' },\n    { name: 'Sabuanca', key: 'ceb' },\n    { name: 'Korsikaca', key: 'co' },\n    { name: 'Hırvatça', key: 'hr' },\n    { name: 'Çekçe', key: 'cs' },\n    { name: 'Danca', key: 'da' },\n    { name: 'Felemenkçe', key: 'nl' },\n    { name: 'Esperanto', key: 'eo' },\n    { name: 'Estonca', key: 'et' },\n    { name: 'Fince', key: 'fi' },\n    { name: 'Fransızca', key: 'fr' },\n    { name: 'Frizce', key: 'fy' },\n    { name: 'Galiçyaca', key: 'gl' },\n    { name: 'Gürcüce', key: 'ka' },\n    { name: 'Almanca', key: 'de' },\n    { name: 'Yunanca', key: 'el' },\n    { name: 'Guceratça', key: 'gu' },\n    { name: 'Haiti Kreyolu', key: 'ht' },\n    { name: 'Hausaca', key: 'ha' },\n    { name: 'Hawaii dili', key: 'haw' },\n    { name: 'İbranice', key: 'he' },\n    { name: 'Hintçe', key: 'hi' },\n    { name: 'Hmong', key: 'hmn' },\n    { name: 'Macarca', key: 'hu' },\n    { name: 'İzlandaca', key: 'is' },\n    { name: 'İgbo dili', key: 'ig' },\n    { name: 'Endonezce', key: 'id' },\n    { name: 'İrlandaca', key: 'ga' },\n    { name: 'İtalyanca', key: 'it' },\n    { name: 'Japonca', key: 'ja' },\n    { name: 'Cava dili', key: 'jw' },\n    { name: 'Kannada dili', key: 'kn' },\n    { name: 'Kazakça', key: 'kk' },\n    { name: 'Kmerce', key: 'km' },\n    { name: 'Korece', key: 'ko' },\n    { name: 'Kürtçe', key: 'ku' },\n    { name: 'Kırgızca', key: 'ky' },\n    { name: 'Laoca', key: 'lo' },\n    { name: 'Latince', key: 'la' },\n    { name: 'Letonca', key: 'lv' },\n    { name: 'Litvanca', key: 'lt' },\n    { name: 'Lüksemburgca', key: 'lb' },\n    { name: 'Makedonca', key: 'mk' },\n    { name: 'Malgaşça', key: 'mg' },\n    { name: 'Malayca', key: 'ms' },\n    { name: 'Malayalamca', key: 'ml' },\n    { name: 'Maltaca', key: 'mt' },\n    { name: 'Maorice', key: 'mi' },\n    { name: 'Marathice', key: 'mr' },\n    { name: 'Moğolca', key: 'mn' },\n    { name: 'Birmanca', key: 'my' },\n    { name: 'Nepalce', key: 'ne' },\n    { name: 'Norveççe', key: 'no' },\n    { name: 'Çevaca', key: 'ny' },\n    { name: 'Peştuca', key: 'ps' },\n    { name: 'Farsça', key: 'fa' },\n    { name: 'Lehçe', key: 'pl' },\n    { name: 'Portekizce', key: 'pt' },\n    { name: 'Pencapça', key: 'pa' },\n    { name: 'Rumence', key: 'ro' },\n    { name: 'Rusça', key: 'ru' },\n    { name: 'Samoaca', key: 'sm' },\n    { name: 'İskoçça Gaelic', key: 'gd' },\n    { name: 'Sırpça', key: 'sr' },\n    { name: 'Sotho dili', key: 'st' },\n    { name: 'Şona dili', key: 'sn' },\n    { name: 'Since', key: 'sd' },\n    { name: 'Sinhala dili', key: 'si' },\n    { name: 'Slovakça', key: 'sk' },\n    { name: 'Slovence', key: 'sl' },\n    { name: 'Somalice', key: 'so' },\n    { name: 'İspanyolca', key: 'es' },\n    { name: 'Sundaca', key: 'su' },\n    { name: 'Svahili', key: 'sw' },\n    { name: 'İsveççe', key: 'sv' },\n    { name: 'Tagalogca', key: 'tl' },\n    { name: 'Tacikçe', key: 'tg' },\n    { name: 'Tamilce', key: 'ta' },\n    { name: 'Teluguca', key: 'te' },\n    { name: 'Tayca', key: 'th' },\n    { name: 'Türkçe', key: 'tr' },\n    { name: 'Ukraynaca', key: 'uk' },\n    { name: 'Urduca', key: 'ur' },\n    { name: 'Özbekçe', key: 'uz' },\n    { name: 'Vietnamca', key: 'vi' },\n    { name: 'Galce', key: 'cy' },\n    { name: 'bantu', key: 'xh' },\n    { name: 'Yidiş', key: 'yi' },\n    { name: 'Yoruba dili', key: 'yo' },\n    { name: 'Zuluca', key: 'zu' },\n];\n\nconst languages = {\n    en,\n    zh,\n    'zh-cn': zh,\n    'zh-tw': zh,\n    tr,\n};\n\nexport default languages;\n","import { sleep } from '../utils';\n\nfunction translate(query = '', lang) {\n    console.log(\"google translate clicked1\");\n    if (!query.trim()) return Promise.resolve('');\n    const url = new URL('https://translate.googleapis.com/translate_a/single');\n    url.searchParams.append('client', 'gtx');\n    url.searchParams.append('sl', 'auto');\n    url.searchParams.append('dt', 't');\n    url.searchParams.append('tl', lang);\n    url.searchParams.append('q', query);\n\n    return new Promise((resolve, reject) => {\n        fetch(url.href)\n            .then((data) => data.json())\n            .then((data) => {\n                if (data) {\n                    resolve(data[0].map((item) => item[0].trim()).join('\\n'));\n                } else {\n                    resolve('');\n                }\n            })\n            .catch((err) => {\n                reject(err);\n            });\n    });\n}\n\nexport default async function googleTranslate(subtitle = [], lang) {\n    console.log(\"google translate clicked\");\n    return new Promise((resolve, reject) => {\n        const result = [];\n        (function loop() {\n            const item = subtitle.shift();\n            if (item) {\n                translate(item.text, lang)\n                    .then((text) => {\n                        item.text = text;\n                        result.push(item);\n                        sleep(100).then(loop);\n                    })\n                    .catch((err) => {\n                        reject(err);\n                    });\n            } else {\n                resolve(result);\n            }\n        })();\n    });\n}\n\n// export default async function googleTranslate(subtitle = [], lang) {\n//     return new Promise((resolve, reject) => {\n//         const result = [];\n//         const entireArray = [];\n//         (function loop() {\n//             const item = subtitle.shift();\n//             if (item) {\n//                 result.push(item.text);\n//                 entireArray.push(item);\n//                 loop();\n//             } else {\n//                 const body = {\n//                     text_lines: result,\n//                     source_language: 'en',\n//                     target_language: lang,\n//                 };\n//                 fetch('http://13.90.168.58:8080/batch_translate', {\n//                     method: 'POST',\n//                     body: JSON.stringify(body),\n//                     headers: {\n//                         'Content-Type': 'application/json',\n//                     },\n//                 })\n//                     .then((resp) => {\n//                         return resp.json();\n//                     })\n//                     .then((resp) => {\n//                         console.log(resp);\n//                         for (let i = 0; i < resp.text_lines.length; i++) {\n//                             entireArray[i].text = resp.text_lines[i];\n//                         }\n//                         resolve(entireArray);\n//                     })\n//                     .catch((err) => {\n//                         console.log(err);\n//                         reject(err);\n//                     });\n//             }\n//         })();\n//     });\n// }\n","export async function ai4BharatBatchTranslate(subtitle = [], from_lang, to_lang) {\n    console.log('ai4bharat translate clicked');\n    return new Promise((resolve, reject) => {\n        const result = [];\n        const entireArray = [];\n        (function loop() {\n            const item = subtitle.shift();\n            if (item) {\n                result.push(item.text);\n                entireArray.push(item);\n                loop();\n            } else {\n                const body = {\n                    text_lines: result,\n                    source_language: from_lang,\n                    target_language: to_lang,\n                };\n                fetch(`${process.env.REACT_APP_NMT_URL}/batch_translate`, {\n                    method: 'POST',\n                    body: JSON.stringify(body),\n                    headers: {\n                        'Content-Type': 'application/json',\n                    },\n                })\n                    .then((resp) => {\n                        return resp.json();\n                    })\n                    .then((resp) => {\n                      //  console.log(resp);\n                        for (let i = 0; i < resp.text_lines.length; i++) {\n                            entireArray[i].text = resp.text_lines[i];\n                        }\n                        resolve(entireArray);\n                    })\n                    .catch((err) => {\n                        console.log(err);\n                        reject(err);\n                    });\n            }\n        })();\n    });\n}\n\nexport async function ai4BharatASRTranslate(webvtt, from_lang, to_lang) {\n    console.log('ai4bharat vtt_translate clicked');\n\n    return new Promise((resolve, reject) => {\n        const body = {\n            webvtt: webvtt,\n            source_language: from_lang,\n            target_language: to_lang,\n        };\n        fetch(`${process.env.REACT_APP_NMT_URL}/translate_vtt`, {\n            method: 'POST',\n            body: JSON.stringify(body),\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        })\n            .then((resp) => {\n                return resp.json();\n            })\n            .then((resp) => {\n              //  console.log(resp);\n                resolve(resp.text);\n            })\n            .catch((err) => {\n                console.log(err);\n                reject(err);\n            });\n    });\n}\n","/**\n * Get Translation Languages API\n */\n import API from \"../../../api\";\n import ENDPOINTS from \"../../../../config/apiendpoint\";\n import constants from \"../../../constants\";\n \n export default class GetTranslationLanguagesAPI extends API {\n   constructor(timeout = 2000) {\n     super(\"GET\", timeout, false);\n     this.type = constants.GET_TRANSLATION_LANGAUGES;\n     this.endpoint = `${super.apiEndPointAuto()}${ENDPOINTS.translation}generate/supported_languages`;\n   }\n \n   processResponse(res) {\n     super.processResponse(res);\n     if (res) {\n         this.languages = res;\n     }\n }\n \n   apiEndPoint() {\n     return this.endpoint;\n   }\n \n   getBody() {}\n \n   getHeaders() {\n     this.headers = {\n       headers: {\n         \"Content-Type\": \"application/json\",\n         ...(localStorage.getItem('chitralekha_access_token')) && {\"Authorization\":`Token ${localStorage.getItem('chitralekha_access_token')}`}\n       },\n     };\n     return this.headers;\n   }\n \n   getPayload() {\n     return this.languages\n   }\n }\n ","/**\n * Fetch Translation API\n */\n import API from \"../../../api\";\n import ENDPOINTS from \"../../../../config/apiendpoint\";\n import constants from \"../../../constants\";\n \n export default class FetchTranslationAPI extends API {\n   constructor(transcriptId, language, latest, timeout = 2000) {\n     super(\"GET\", timeout, false);\n     this.type = constants.FETCH_TRANSLATION;\n     this.endpoint = `${super.apiEndPointAuto()}${ENDPOINTS.translation}?transcript_id=${transcriptId}&target_lang=${language}${latest ? \"&get_latest=true\" : \"\"}`;\n   }\n \n   processResponse(res) {\n     super.processResponse(res);\n     if (res) {\n         this.translation = res;\n     }\n }\n \n   apiEndPoint() {\n     return this.endpoint;\n   }\n \n   getBody() {}\n \n   getHeaders() {\n     this.headers = {\n       headers: {\n         \"Content-Type\": \"application/json\",\n         ...(localStorage.getItem('chitralekha_access_token')) && {\"Authorization\":`Token ${localStorage.getItem('chitralekha_access_token')}`}\n       },\n     };\n     return this.headers;\n   }\n \n   getPayload() {\n     return this.translation\n   }\n }\n ","/**\n * Generate Translation API\n */\n import API from \"../../../api\";\n import ENDPOINTS from \"../../../../config/apiendpoint\";\n import constants from \"../../../constants\";\n \n export default class GenerateTranslationAPI extends API {\n   constructor(transcriptId, language, timeout = 2000) {\n     super(\"GET\", timeout, false);\n     this.type = constants.GENERATE_TRANSLATION;\n     this.endpoint = `${super.apiEndPointAuto()}${ENDPOINTS.translation}generate?transcript_id=${transcriptId}&target_lang=${language}`;\n   }\n \n   processResponse(res) {\n     super.processResponse(res);\n     if (res) {\n         this.translation = res;\n     }\n }\n \n   apiEndPoint() {\n     return this.endpoint;\n   }\n \n   getBody() {}\n \n   getHeaders() {\n     this.headers = {\n       headers: {\n         \"Content-Type\": \"application/json\",\n         ...(localStorage.getItem('chitralekha_access_token')) && {\"Authorization\":`Token ${localStorage.getItem('chitralekha_access_token')}`}\n       },\n     };\n     return this.headers;\n   }\n \n   getPayload() {\n     return this.translation\n   }\n }\n ","/**\n * Save Translation API\n */\n import API from '../../../api';\n import ENDPOINTS from '../../../../config/apiendpoint';\n import constants from '../../../constants';\n \n export default class SaveTranslationAPI extends API {\n     constructor(translationId, language, captions, timeout = 2000) {\n         super('POST', timeout, false);\n         this.type = constants.SAVE_TRANSLATION;\n         this.translationId = translationId;\n         this.language = language;\n         this.captions = captions;\n         this.endpoint = `${super.apiEndPointAuto()}${ENDPOINTS.translation}`;\n     }\n \n     processResponse(res) {\n         super.processResponse(res);\n         if (res) {\n             this.translation = res;\n         }\n     }\n \n     apiEndPoint() {\n         return this.endpoint;\n     }\n \n     getBody() {\n        console.log('this.lang '+this.language)\n         return {\n             translation_id: this.translationId,\n             target_lang: this.language,\n             captions: this.captions,\n         }\n     }\n \n     getHeaders() {\n         this.headers = {\n             headers: {\n                 'Content-Type': 'application/json',\n                 ...(localStorage.getItem('chitralekha_access_token')) && {\"Authorization\":`Token ${localStorage.getItem('chitralekha_access_token')}`}\n             },\n         };\n         return this.headers;\n     }\n \n     getPayload() {\n         return this.translation;\n     }\n }\n ","import styled from 'styled-components';\nimport languages from '../libs/languages';\nimport React, { useState, useCallback, useEffect, useDeferredValue, useRef } from 'react';\nimport { Table, Column, MultiGrid } from 'react-virtualized';\nimport unescape from 'lodash/unescape';\nimport debounce from 'lodash/debounce';\nimport { ReactTransliterate } from 'react-transliterate';\nimport { t, Translate } from 'react-i18nify';\n// import englishKeywordsTranslate from '../libs/englishKeywordsTranslate';\nimport googleTranslate from '../libs/googleTranslate';\nimport { ai4BharatBatchTranslate } from '../libs/ai4BharatTranslate';\n// import { ai4BharatASRTranslate } from '../libs/ai4BharatTranslate';\n// import { sub2vtt, url2sub, vtt2url } from '../libs/readSub';\nimport GetTranslationLanguagesAPI from \"../redux/actions/api/Translation/GetTranslationLanguages\"\nimport FetchTranslationAPI from \"../redux/actions/api/Translation/FetchTranslation\"\nimport GenerateTranslationAPI from \"../redux/actions/api/Translation/GenerateTranslation\"\nimport SaveTranslationAPI from \"../redux/actions/api/Translation/SaveTranslation\"\nimport APITransport from \"../redux/actions/apitransport/apitransport\"\nimport { useDispatch, useSelector } from 'react-redux';\n// import { ScrollSync, ScrollSyncPane } from 'react-scroll-sync';\n\nconst Style = styled.div`\n    position: relative;\n    box-shadow: 0px 5px 25px 5px rgb(0 0 0 / 80%);\n    background-color: rgb(0 0 0 / 100%);\n    z-index: 200;\n\n    .translate {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-evenly;\n        align-items: center;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n        height: 80px;\n\n        .heading {\n            h4 {\n                margin: 0;\n            }\n        }\n\n        .options {\n            display: flex;\n            width: 80%;\n        }\n\n        select {\n            width: 65%;\n            outline: none;\n            height: 35px;\n            border-radius: 3px;\n        }\n\n        .btn {\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 50%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #673ab7;\n            transition: all 0.2s ease 0s;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n    }\n\n    .reference {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-evenly;\n        align-items: center;\n        height: 80px;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n        h4 {\n            margin-bottom: 0;\n            margin-top: 0;\n        }\n    }\n\n\n    .ReactVirtualized__Table {\n  \n       \n        .ReactVirtualized__Table__Grid {\n            outline: none;\n        }\n\n        .ReactVirtualized__Grid__innerScrollContainer {\n            overflow: visible !important;\n\n        }\n\n        .ReactVirtualized__Table__row {\n            overflow: visible !important;\n            \n            .item {\n                height: 100%;\n                padding: 10px;\n                \n\n                ul {\n                    \n                    position: absolute !important;\n                    bottom: 200px !important;\n                    left: 0 !important;\n                    z-index: 9999 !important;\n                    height: 170px !important;\n                    width: 100% !important;\n                    transform: translate(0px, 0px) !important;\n                    display: block !important;\n\n                    li {\n                        color: #000 !important;\n                        border-bottom: 1px solid #999;\n                    }\n                }\n\n                .textarea {\n                    border: none;\n                    width: 100%;\n                    height: 100%;\n                    color: #fff;\n                    font-size: 12px;\n                    padding: 10px;\n                    text-align: center;\n                    background-color: rgba(255, 255, 255, 0.05);\n                    border: 1px solid rgba(255, 255, 255, 0.1);\n                    transition: all 0.2s ease;\n                    resize: none;\n                    outline: none;\n\n                    word-wrap: break-word;\n\n                    &.highlight {\n                        background-color: rgb(0 87 158);\n                        border: 1px solid rgba(255, 255, 255, 0.3);\n                    }\n\n                    &.illegal {\n                        background-color: rgb(123 29 0);\n                        border: 1px solid rgba(255, 255, 255, 0.3);\n                    }\n\n                    &.found {\n                        background-color: #FFFFCC;\n                        color: #000;\n                        border: 1px solid rgba(255, 255, 255, 0.3);\n                    }\n\n                    &.current-found {\n                        background-color: #FFFF33;\n                        color: #000;\n                        border: 1px solid rgba(255, 255, 255, 0.3);\n                    }\n                }\n            }\n        }\n    }\n`;\n\nfunction useStickyState(defaultValue, key) {\n    const [value, setValue] = React.useState(() => {\n      const stickyValue = window.localStorage.getItem(key);\n      return stickyValue !== null\n        ? JSON.parse(stickyValue)\n        : defaultValue;\n    });\n    React.useEffect(() => {\n      window.localStorage.setItem(key, JSON.stringify(value));\n    }, [key, value]);\n    return [value, setValue];\n  }\n\n\n  \n\n// const CalendarView = () => {\n//     const [mode, setMode] = useStickyState('day', 'calendar-view');\n\n//     return (\n//       <>\n//         <select \n//         onChange={(ev) => {\n//             setMode(ev.target.value);\n//             console.log(ev.target.value);\n            \n//         }}\n//         value={mode}\n//         >\n//           <option value=\"day\">Day</option>\n//           <option value=\"week\">Week</option>\n//           <option value=\"month\">Month</option>\n//         </select>\n//         {/* Calendar stuff here */}\n//       </>\n//     )\n//   }\n\n\n\n\nexport default function Subtitles({\n    currentIndex,\n    subtitle,\n    setSubtitleOriginal,\n    checkSub,\n    player,\n    updateSub,\n    language,\n    setLoading,\n    subtitleEnglish,\n    formatSub,\n    setSubtitle,\n    notify,\n    isPrimary,\n    clearedSubs,\n    setClearedSubs,\n    configuration,\n    updateSubOriginal = null,\n    isTranslateClicked=false,\n    setIsTranslateClicked,\n    found,\n    currentFound,\n}) {\n    const dispatch = useDispatch();\n    const [height, setHeight] = useState(100);\n    const [translate, setTranslate] = useState(null);\n    const translateReq = useRef(false);\n\n    const [languageAvailable, setLanguageAvailable] = useState([]);\n    const languageChoices = useSelector(state => state.getTranslationLanguages.data);\n    const Translations = useSelector(state => state.fetchTranslation.data);\n    const GeneratedTranslations = useSelector(state => state.generateTranslation.data);\n    const APIStatus = useSelector(state => state.apiStatus);\n    const [waiting, setWaiting] = useState(false);\n\n    const fetchTranslationLanguages = () => {\n        const langObj = new GetTranslationLanguagesAPI();\n        dispatch(APITransport(langObj));\n    }\n\n    const saveTranslation = async () => {\n        if (localStorage.getItem('subtitle')) {\n            // setLoading(t('SAVING'));\n            let transcript = JSON.parse(localStorage.getItem('subtitleEnglish'));\n            let subtitles = JSON.parse(localStorage.getItem('subtitle'));\n            if (subtitles?.length === 0) return;\n            const payload = {\n                translations: subtitles.map((item, i) => {\n                    return {\n                        source: transcript[i].text,\n                        target: item.text,\n                    };\n                })\n            }\n            const saveObj = new SaveTranslationAPI(localStorage.getItem(\"translation_id\"), localStorage.getItem(\"langTranslate\"), payload);\n            const res = await fetch(saveObj.apiEndPoint(), {\n                method: \"POST\",\n                body: JSON.stringify(saveObj.getBody()),\n                headers: saveObj.getHeaders().headers,\n              });\n            const resp = await res.json();\n            console.log(resp);\n            // if (res.ok) {\n                // localStorage.setItem('subtitle', JSON.stringify(subtitle));\n                // notify({\n                //     message: 'Translation saved successfully', \n                //     level: 'success'});\n            // } else {\n                // notify({\n                //     message: 'Translation could not be saved', \n                //     level: 'error'});\n            // }\n            // setLoading('');\n        }\n    }\n\n    //console.log('isTranslateClicked '+isTranslateClicked);\n    useEffect(() => {\n        if (localStorage.getItem('langTranslate')) {\n            setTranslate(localStorage.getItem('langTranslate')); //changes in both\n            setModeTranslate(localStorage.getItem('langTranslate'));\n        } else {\n            localStorage.setItem('langTranslate', 'en') //added \n            //setTranslate('en');\n            setTranslate(localStorage.getItem('langTranslate'));\n            setModeTranslate(localStorage.getItem('langTranslate'));\n        }\n        fetchTranslationLanguages();\n\n        const scrollDivs = document.getElementsByClassName('ReactVirtualized__Table__Grid');\n        const syncScroll = (e) => {\n            scrollDivs[e.currentTarget.scrollNum === scrollDivs.length - 1 ? 0 : e.currentTarget.scrollNum + 1].scrollTop = e.currentTarget.scrollTop;\n        }\n\n        if (scrollDivs.length >=2 ) {\n            for (let i = 0; i < scrollDivs.length; i++) {\n                scrollDivs[i].scrollNum = i;\n                scrollDivs[i].addEventListener('scroll', syncScroll);\n            }\n\n        }\n\n        return () => {\n            saveTranslation();\n            if (scrollDivs.length >=2 ) {\n                for (let i = 0; i < scrollDivs.length; i++) {\n                    scrollDivs[i].removeEventListener('scroll', syncScroll);\n                }\n            }\n        }\n    }, []);\n\n    useEffect(() => {\n        if (subtitle?.length > 0 && !waiting) {\n            setWaiting(true);\n            setTimeout(() => {\n                setWaiting(false);\n            }, 10000);\n        }\n    }, [subtitle]);\n\n    useEffect(() => {\n        if (!waiting) {\n            saveTranslation();\n        }\n    }, [waiting]);\n\n    useEffect(() => {\n        // if (translationApi === \"AI4Bharat\") {\n            if (languageChoices && Object.keys(languageChoices).length > 0) {\n                let langArray = [];\n                for (const key in languageChoices) {\n                    langArray.push({ name: `${key}`, key: `${languageChoices[key]}` });\n                }\n                setLanguageAvailable(langArray);\n                localStorage.setItem('langTranslate', langArray[0].key);\n                setTranslate(langArray[0].key);\n                setModeTranslate(langArray[0].key);\n            }\n        // } else {\n        //     setLanguageAvailable(languages);\n        //     localStorage.setItem('langTranslate', languages['en'][1].key); //changes\n        //     setTranslate(languages['en'][1].key);\n        //     setModeTranslate(languages['en'][1].key);\n        // }\n    }, [languageChoices]);\n\n    // useEffect(() => {\n    //     if (translationApi === 'AI4Bharat') {\n    //         fetch(`${process.env.REACT_APP_NMT_URL}/supported_languages`)\n    //             .then((resp) => {\n    //                 return resp.json();\n    //             })\n    //             .then((resp) => {\n    //                 let langArray = [];\n    //                 // langArray.push({ name: 'English', key: 'en' });\n    //                 for (const key in resp) {\n    //                     langArray.push({ name: `${key}`, key: `${resp[key]}` });\n    //                 }\n    //                 setLanguageAvailable(langArray);\n    //                 //localStorage.setItem('langTranslate', langArray[0].key); //changes necessary?\n    //                 // for(const item in langArray) {\n    //                 //     console.log('langArray key '+ langArray[item].key);\n    //                 // }\n    //                 // console.log('translate lang array[0] '+langArray[0].key);\n    //                // setTranslate(langArray[0].key); //test changing to localStorage.getItem('lang')\n    //                // setTranslate(localStorage.getItem('langTranslate')); changes commented out\n    //             })\n    //             .catch((err) => {\n    //                 console.log(err);\n    //             });\n    //     } else {\n    //         setLanguageAvailable(languages);\n    //         localStorage.setItem('langTranslate', languages['en'][1].key); //changes\n    //         setTranslate(languages['en'][1].key);\n    //     }\n    // }, [translationApi]);\n    const handleBlur = (data, index) => {\n        //console.log(e.target.value);\n        if (isPrimary) {\n            return;\n        }\n        //console.log(translationApi);\n        //here is what you want to comment out if you don't want translate to be triggered on editing subtitles\n        // if (translationApi === 'AI4Bharat') {\n            // return; //changes to both below\n         //   ai4BharatBatchTranslate([{ text: data.text }], 'hi', localStorage.getItem('langTranslate')).then((resp) => {\n            ai4BharatBatchTranslate([{ text: data.text }], localStorage.getItem('langTranscribe'), localStorage.getItem('langTranslate')).then((resp) => {\n                updateSubOriginal(data, resp[0], index);\n            });\n        // } else {\n        //     googleTranslate([{ text: data.text }], localStorage.getItem('langTranslate')).then((resp) => {\n        //         updateSubOriginal(data, resp[0], index);\n        //     });\n        // }\n    };\n\n    const resize = useCallback(() => {\n        setHeight(document.body.clientHeight - 240);\n    }, [setHeight]);\n\n    useEffect(() => {\n        resize();\n        if (!resize.init) {\n            resize.init = true;\n            const debounceResize = debounce(resize, 500);\n            window.addEventListener('resize', debounceResize);\n        }\n    }, [resize]);\n\n    const [modeTranslate, setModeTranslate] = useStickyState('en', 'translated-view'); //for sticky option in dropdown\n\n    const parseTranslations = useCallback((translations) => {\n        console.log(\"hi\")\n        let transcript = JSON.parse(localStorage.getItem('subtitleEnglish'));\n        for (let i = 0; i < transcript.length; i++) {\n            if (transcript[i].text === translations[i].source) {\n                transcript[i].text = translations[i].target;\n            }\n        }\n        console.log(transcript)\n        localStorage.setItem('subtitle', JSON.stringify(transcript));\n        setSubtitle(formatSub(transcript));\n        setLoading('');\n        notify({\n            message: t('TRANSLAT_SUCCESS'),\n            level: 'success',\n        });\n    }, [setSubtitle, notify, formatSub, setLoading]);\n\n    const getTranslations = () => {\n        const translationObj = new FetchTranslationAPI(localStorage.getItem(\"transcript_id\"), localStorage.getItem(\"langTranslate\"), true);\n        dispatch(APITransport(translationObj));\n    }\n\n    const generateTranslations = () => {\n        const translationObj = new GenerateTranslationAPI(localStorage.getItem(\"transcript_id\"), localStorage.getItem(\"langTranslate\"));\n        dispatch(APITransport(translationObj));\n    }\n\n    useEffect(() => {\n        if (translateReq.current && Translations.payload?.translations?.length > 0 && (languageChoices[Translations.target_lang] === localStorage.getItem(\"langTranslate\") || Translations.target_lang === localStorage.getItem(\"langTranslate\"))) {\n            translateReq.current = false;\n            localStorage.setItem(\"translation_id\", Translations.id);\n            parseTranslations(Translations.payload.translations);\n        }\n    }, [Translations]);\n\n    useEffect(() => {\n        if (translateReq.current && APIStatus?.error) {\n            generateTranslations();\n        }\n    }, [APIStatus]);\n\n    useEffect(() => {\n        if (translateReq.current && GeneratedTranslations.payload?.translations?.length > 0 && (languageChoices[GeneratedTranslations.target_lang] === localStorage.getItem(\"langTranslate\") || GeneratedTranslations.target_lang === localStorage.getItem(\"langTranslate\"))) {\n            parseTranslations(GeneratedTranslations.payload.translations);\n            localStorage.setItem(\"translation_id\", GeneratedTranslations.id);\n            translateReq.current = false;\n        }\n    }, [GeneratedTranslations]);\n\n    const onTranslate = useCallback(() => {\n        setIsTranslateClicked(true);\n        translateReq.current = true;\n        \n        console.log('when translate button clicked '+isTranslateClicked);\n        // console.log('Translation API '+translationApi); // either AI4Bharat or Google Translate\n        setLoading(t('TRANSLATING'));\n        if (clearedSubs) {\n            // if (translate === 'en-k') {\n            //     return googleTranslate(formatSub(JSON.parse(window.localStorage.getItem('subsBeforeClear'))), 'en')\n            //         .then((res) => {\n            //             englishKeywordsTranslate(formatSub(res), translate)\n            //                 .then((res) => {\n            //                     setLoading('');\n            //                     setSubtitle(formatSub(res));\n            //                     localStorage.setItem('langTranslate', 'en');\n            //                     notify({\n            //                         message: t('TRANSLAT_SUCCESS'),\n            //                         level: 'success',\n            //                     });\n            //                 })\n            //                 .catch((err) => {\n            //                     setLoading('');\n            //                     notify({\n            //                         message: err.message,\n            //                         level: 'error',\n            //                     });\n            //                 });\n            //         })\n            //         .catch((err) => {\n            //             setLoading('');\n            //             notify({\n            //                 message: err.message,\n            //                 level: 'error',\n            //             });\n            //         });\n            // }\n\n        //     if (translationApi === 'AI4Bharat') {\n        //         console.log(\"here1\", \"translate\");\n        //         return ai4BharatBatchTranslate(\n        //             formatSub(JSON.parse(window.localStorage.getItem('subsBeforeClear'))),\n        //             'en',\n        //             translate,\n        //         )\n        //             .then((res) => {\n        //                 console.log(\"here2\", \"translate\");\n        //                 setLoading('');\n        //                 console.log(res, \"translate\")\n        //                 setSubtitle(formatSub(res));\n        //                 localStorage.setItem('langTranslate', translate);\n        //                 console.log('langTranslate '+localStorage.getItem('langTranslate'));\n        //                 notify({\n        //                     message: t('TRANSLAT_SUCCESS'),\n        //                     level: 'success',\n        //                 });\n        //             })\n        //             .catch((err) => {\n        //                 setLoading('');\n        //                 notify({\n        //                     message: err.message,\n        //                     level: 'error',\n        //                 });\n        //             });\n        //     }\n\n        //     return googleTranslate(formatSub(JSON.parse(window.localStorage.getItem('subsBeforeClear'))), translate)\n        //         .then((res) => {\n        //             setLoading('');\n        //             console.log('Format Sub');\n        //             //console.log(formatSub(JSON.parse(window.localStorage.getItem('subsBeforeClear'))));\n        //             setSubtitle(formatSub(res));\n        //             localStorage.setItem('langTranslate', translate);\n        //             notify({\n        //                 message: t('TRANSLAT_SUCCESS'),\n        //                 level: 'success',\n        //             });\n        //         })\n        //         .catch((err) => {\n        //             setLoading('');\n        //             notify({\n        //                 message: err.message,\n        //                 level: 'error',\n        //             });\n        //         });\n        // }\n\n        // if (translate === 'en-k') {\n        //     return googleTranslate(formatSub(subtitle), 'en')\n        //         .then((res) => {\n        //             englishKeywordsTranslate(formatSub(res), translate)\n        //                 .then((res) => {\n        //                     setLoading('');\n        //                     setSubtitle(formatSub(res));\n        //                     localStorage.setItem('langTranslate', 'en');\n        //                     notify({\n        //                         message: t('TRANSLAT_SUCCESS'),\n        //                         level: 'success',\n        //                     });\n        //                 })\n        //                 .catch((err) => {\n        //                     setLoading('');\n        //                     notify({\n        //                         message: err.message,\n        //                         level: 'error',\n        //                     });\n        //                 });\n        //         })\n        //         .catch((err) => {\n        //             setLoading('');\n        //             notify({\n        //                 message: err.message,\n        //                 level: 'error',\n        //             });\n        //         });\n        // }\n        // if (translationApi === 'AI4Bharat') {\n            // console.log('ai4bharat api');\n           // console.log(\"localstorage get item\");\n            // console.log(\"langTranslate translation api\"+localStorage.getItem('langTranslate'));\n            // return ai4BharatBatchTranslate(formatSub(subtitleEnglish), 'hi', translate)\n            //     .then((res) => {\n            //         setLoading('');\n            //         setSubtitle(formatSub(res));\n            //         localStorage.setItem('langTranslate', translate);\n            //         notify({\n            //             message: t('TRANSLAT_SUCCESS'),\n            //             level: 'success',\n            //         });\n            //     })\n            //     .catch((err) => {\n            //         setLoading('');\n            //         notify({\n            //             message: err.message,\n            //             level: 'error',\n            //         });\n            //     });\n            // return ai4BharatASRTranslate(sub2vtt(formatSub(subtitleEnglish)), 'hi', translate)\n            //     .then((res) => {\n            //         console.log(res);\n            //         const suburl = vtt2url(res);\n            //         url2sub(suburl).then((urlsub) => {\n            //             setSubtitle(formatSub(urlsub));\n            //             localStorage.setItem('langTranslate', translate);\n            //             setLoading('');\n            //             notify({\n            //                 message: t('TRANSLAT_SUCCESS'),\n            //                 level: 'success',\n            //             });\n            //         });\n            //     })\n            //     .catch((err) => {\n            //         setLoading('');\n            //         notify({\n            //             message: err.message,\n            //             level: 'error',\n            //         });\n            //     });\n        }\n\n        // console.log('google api');\n\n        // if (translationApi === 'AI4Bharat') {\n            console.log(\"here1\", \"translate\");\n            getTranslations();\n            // return ai4BharatBatchTranslate(\n            //     formatSub(JSON.parse(window.localStorage.getItem('subtitleEnglish'))),\n            //     'en',\n            //     translate,\n            // )\n            //     .then((res) => {\n            //         console.log(\"here2\", \"translate\");\n            //         setLoading('');\n            //         console.log(res, \"translate\")\n            //         setSubtitle(formatSub(res));\n            //         localStorage.setItem('langTranslate', translate);\n            //         console.log('langTranslate '+localStorage.getItem('langTranslate'));\n            //         notify({\n            //             message: t('TRANSLAT_SUCCESS'),\n            //             level: 'success',\n            //         });\n            //     })\n            //     .catch((err) => {\n            //         setLoading('');\n            //         notify({\n            //             message: err.message,\n            //             level: 'error',\n            //         });\n            //     });\n        // } else {\n        //     googleTranslate(formatSub(subtitleEnglish), translate)\n        //     .then((res) => {\n        //         setLoading('');\n        //         console.log(res, \"google\");\n        //         setSubtitle(formatSub(res));\n        //         localStorage.setItem('langTranslate', translate);\n        //         notify({\n        //             message: t('TRANSLAT_SUCCESS'),\n        //             level: 'success',\n        //         });\n        //     })\n        //     .catch((err) => {\n        //         setLoading('');\n        //         notify({\n        //             message: err.message,\n        //             level: 'error',\n        //         });\n        //     });\n        // }\n    }, [setLoading, subtitleEnglish, formatSub, setSubtitle, translate, notify, clearedSubs]);\n\n    return (\n         subtitle && (\n\n            <Style className=\"subtitles\">\n                {console.log('when translate button clicked '+isTranslateClicked)}\n                 {/* <CalendarView />  */}\n                {isPrimary && translate && languageAvailable && (\n                    <div className=\"translate\">\n      \n                        <div className=\"options\">\n\n                            <select\n                            \n                               // value=\"kn\"\n                                value={modeTranslate} //new - comment out if don't want sticky options\n                                onChange={(event) => {\n                                    setTranslate(event.target.value);\n                                    setModeTranslate(event.target.value); //new\n                                   // localStorage.setItem('lang', event.target.value); //maybe remove later\n                                    localStorage.setItem('langTranslate', event.target.value); \n                                    // console.log('in select');\n                                   //  console.log('in onChange translate lang ' +localStorage.getItem('lang'));\n                                     console.log('in onChange translate langTranslate ' +localStorage.getItem('langTranslate'));\n                                    // console.log(event.target.value);\n                                }}\n                            >\n                                {(languageAvailable[language] || languageAvailable.en || languageAvailable).map(\n                                    (item) =>\n                                        //item.key !== 'en' && \n                                        ( \n                                            <option key={item.key} value={item.key}>\n                                                {item.name}\n                                            </option>\n                                        ),\n                                )}\n                            </select>\n                            <div className=\"btn\" onClick={onTranslate}>\n                                <Translate value=\"TRANSLATE\" />\n                            </div>\n                            {/* {subtitle?.length > 0 && <span title=\"Save Translation\" className='save-btn' onClick={saveTranslation}>💾</span>} */}\n                            {subtitle?.length > 0 && <span title=\"Save Translation\" className='save-btn' onClick={saveTranslation}>💾</span>}\n                        </div>\n                    </div>\n                )}\n\n                {!isPrimary && (\n                    <div className=\"reference\">\n                        <h4>Reference Subtitles </h4>\n                        {/* <span>Language : {languages['en'].filter((item) => item.key === language)[0].name}</span> */}\n                    </div>\n                )}\n                <div style={{ display: 'flex', position: 'relative', height:`90%`}}>\n                {/* <ScrollSyncPane> */}\n                {/* <div style={{overflow: 'auto'}}> */}\n   \n                <Table\n                    headerHeight={40}\n                    width={250}\n                    height={height}\n                    rowHeight={80}\n                    scrollToIndex={currentIndex+2}\n                    rowCount={subtitle.length}\n                    rowGetter={({ index }) => subtitle[index]}\n                    headerRowRenderer={() => null}\n                    rowRenderer={(props) => {\n                        return (\n                            <div\n                                key={props.key}\n                                className={props.className}\n                                style={props.style}\n                                onClick={() => {\n                                    if (player) {\n                                        player.pause();\n                                        if (player.duration >= props.rowData.startTime) {\n                                            player.currentTime = props.rowData.startTime + 0.001;\n                                        }\n                                    }\n                                }}\n                            >\n                                {console.log('langTranslate '+localStorage.getItem('langTranslate'))}\n                               {/* {console.log('before react transliterate '+localStorage.getItem('lang'))} */}\n                                <div className=\"item\">\n                                    <ReactTransliterate\n                                        className={[\n                                            'textarea',\n                                            currentIndex === props.index ? 'highlight' : '',\n                                            checkSub(props.rowData) ? 'illegal' : '',\n                                            isPrimary && found.includes(props.index) ? 'found' : '',\n                                            isPrimary && found[currentFound] === props.index ? 'current-found' : '',\n                                        ]\n                                            .join(' ')\n                                            .trim()}\n                                        value={unescape(props.rowData.text)}\n                                       \n                                        spellCheck={false}\n                                        onChangeText={(event) => {\n                                            // console.log(event);\n                                            // console.log(\"here in on change text\");\n                                            // console.log(props.rowData.text);\n                                            updateSub(props.rowData, {\n                                                text: event,\n                                            });\n                                           \n                                        }}\n                                        onBlur={() => handleBlur(props.rowData, props.index)}\n                                        enabled={\n                                            isPrimary\n                                                ? !(!localStorage.getItem('langTranslate') ||\n                                                    localStorage.getItem('langTranslate') === 'en' ||\n                                                    localStorage.getItem('langTranslate') === 'en-k')\n                                                : !(!localStorage.getItem('langTranscribe') ||\n                                                    localStorage.getItem('langTranscribe') === 'en' ||\n                                                    localStorage.getItem('langTranscribe') === 'en-k')\n                                        }\n                                        lang={\n                                            // isPrimary\n                                            //     ? localStorage.getItem('lang') === 'en-k'\n                                            //         ? 'en'\n                                            //         : localStorage.getItem('lang')\n                                            //     : 'hi'\n                                            isPrimary\n                                            ? localStorage.getItem('langTranslate')\n                                            : localStorage.getItem('langTranscribe')\n                                        }\n                                        maxOptions={5}\n                                        readOnly={isPrimary? false : true}\n                                        renderComponent={(props) => <textarea {...props} />}\n                                    />\n                                    {/* <textarea\n                                    maxLength={200}\n                                    spellCheck={false}\n                                    className={[\n                                        'textarea',\n                                        currentIndex === props.index ? 'highlight' : '',\n                                        checkSub(props.rowData) ? 'illegal' : '',\n                                    ]\n                                        .join(' ')\n                                        .trim()}\n                                    value={unescape(props.rowData.text)}\n                                    onChange={(event) => {\n                                        updateSub(props.rowData, {\n                                            text: event.target.value,\n                                        });\n                                    }}\n                                /> */}\n                                </div>\n                            </div>\n                        );\n                    }}\n                >\n                </Table>\n                </div>\n       \n                                {/* </ScrollSyncPane> */}\n                                {/* </div> */}\n\n\n            </Style>\n        )\n            \n    );\n}\n","import { isPlaying } from '../utils';\n\n// function matrixCallback(callback) {\n//     try {\n//         const result = [];\n//         const x = 10;\n//         const y = 5;\n//         for (let xIndex = 0; xIndex < x; xIndex += 1) {\n//             for (let yIndex = 0; yIndex < y; yIndex += 1) {\n//                 if (xIndex === 0 || xIndex === x - 1 || yIndex === 0 || yIndex === y - 1) {\n//                     result.push(callback(xIndex, yIndex, x, y));\n//                 }\n//             }\n//         }\n//         return result;\n//     } catch (e) {\n//         console.log(e);\n//     }\n// }\n\n// function getColors($canvas, $video, width, height) {\n//     try {\n//         const ctx = $canvas.getContext('2d');\n//         $canvas.width = width;\n//         $canvas.height = height;\n//         ctx.drawImage($video, 0, 0);\n//         return matrixCallback((xIndex, yIndex, x, y) => {\n//             const itemW = width / x;\n//             const itemH = height / y;\n//             const itemX = xIndex * itemW;\n//             const itemY = yIndex * itemH;\n//             if (itemW < 1 || itemH < 1) return { r: 0, g: 0, b: 0 };\n//             const { data } = ctx.getImageData(itemX, itemY, itemW, itemH);\n//             let r = 0;\n//             let g = 0;\n//             let b = 0;\n//             for (let i = 0, l = data.length; i < l; i += 4) {\n//                 r += data[i];\n//                 g += data[i + 1];\n//                 b += data[i + 2];\n//             }\n//             r = Math.floor(r / (data.length / 4));\n//             g = Math.floor(g / (data.length / 4));\n//             b = Math.floor(b / (data.length / 4));\n//             return { r, g, b };\n//         });\n//     } catch (e) {\n//         console.log(e);\n//     }\n// }\n\n// function creatMatrix(parent) {\n//     try {\n//         return matrixCallback((xIndex, yIndex, x, y) => {\n//             const $box = document.createElement('div');\n//             $box.style.position = 'absolute';\n//             $box.style.left = `${(xIndex * 100) / x}%`;\n//             $box.style.top = `${(yIndex * 100) / y}%`;\n//             $box.style.width = `${100 / x}%`;\n//             $box.style.height = `${100 / y}%`;\n//             $box.style.borderRadius = '50%';\n//             $box.style.transition = 'all .2s ease';\n//             parent.appendChild($box);\n//             return {\n//                 $box,\n//                 left: xIndex === 0,\n//                 right: xIndex === x - 1,\n//                 top: yIndex === 0,\n//                 bottom: yIndex === y - 1,\n//             };\n//         });\n//     } catch (e) {\n//         console.log(e);\n//     }\n// }\n\nfunction setStyle(element, key, value) {\n    try {\n        element.style[key] = value;\n        return element;\n    } catch (e) {\n        console.log(e);\n    }\n}\n\nfunction setStyles(element, styles) {\n    try {\n        Object.keys(styles).forEach((key) => {\n            setStyle(element, key, styles[key]);\n        });\n        return element;\n    } catch (e) {\n        console.log(e);\n    }\n}\n\nexport default function backlight($player, $video) {\n    try {\n        const $backlight = document.createElement('div');\n        $backlight.classList.add('backlight');\n        setStyles($backlight, {\n            position: 'absolute',\n            zIndex: 9,\n            left: 0,\n            top: 0,\n            right: 0,\n            bottom: 0,\n            width: '100%',\n            height: '100%',\n        });\n\n        // const matrix = creatMatrix($backlight);\n        // const $canvas = document.createElement('canvas');\n        $player.insertBefore($backlight, $video);\n\n        function run() {\n            // const { clientWidth, clientHeight } = $video;\n            // const colors = getColors($canvas, $video, clientWidth, clientHeight);\n            // if (colors) {\n            //     colors.forEach(({ r, g, b }, index) => {\n            //         // const { $box, left, right, top, bottom } = matrix[index];\n            //         // const x = left ? '-64px' : right ? '64px' : '0';\n            //         // const y = top ? '-64px' : bottom ? '64px' : '0';\n            //         // $box.style.boxShadow = `rgb(${r}, ${g}, ${b}) ${x} ${y} 128px`;\n            //     });\n            // }\n        }\n\n        $video.addEventListener('seeked', run);\n        $video.addEventListener('loadedmetadata', () => setTimeout(run, 1000));\n\n        (function loop() {\n            window.requestAnimationFrame(() => {\n                if (isPlaying($video)) {\n                    run();\n                }\n                loop();\n            });\n        })();\n    } catch (e) {\n        console.log(e);\n    }\n}\n","import React, { useState, useEffect, createRef, useCallback, useMemo, memo } from 'react';\nimport TextareaAutosize from 'react-textarea-autosize';\nimport { Translate } from 'react-i18nify';\nimport styled from 'styled-components';\nimport backlight from '../libs/backlight';\nimport { isPlaying } from '../utils';\n\nconst Style = styled.div`\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: 100%;\n    width: 100%;\n    padding-bottom: 2%;\n\n    margin-top: -13px;\n\n    .video {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        height: 100%;\n        width: auto;\n        position: relative;\n\n        video {\n            position: relative;\n            z-index: 10;\n            outline: none;\n            max-height: 100%;\n            max-width: 100%;\n            box-shadow: 0px 5px 25px 5px rgb(0 0 0 / 80%);\n            background-color: #000;\n            cursor: pointer;\n        }\n\n        .subtitle {\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            align-items: center;\n            position: absolute;\n            z-index: 20;\n            left: 0;\n            right: 0;\n            bottom: 5%;\n            width: 100%;\n            padding: 0 20px;\n            user-select: none;\n            pointer-events: none;\n\n            .operate {\n                padding: 5px 15px;\n                color: #fff;\n                font-size: 13px;\n                border-radius: 3px;\n                margin-bottom: 5px;\n                background-color: rgb(0 0 0 / 75%);\n                border: 1px solid rgb(255 255 255 / 20%);\n                cursor: pointer;\n                pointer-events: all;\n            }\n\n            .textarea {\n                width: 100%;\n                outline: none;\n                resize: none;\n                text-align: center;\n                line-height: 1.2;\n                border: none;\n                color: #fff;\n                font-size: 20px;\n                padding: 5px 10px;\n                ${'' /* user-select: all; */}\n                pointer-events: all;\n                background-color: rgb(0 0 0 / 0);\n                \n                text-shadow: rgb(0 0 0) 1px 0px 1px, rgb(0 0 0) 0px 1px 1px, rgb(0 0 0) -1px 0px 1px,\n                    rgb(0 0 0) 0px -1px 1px;\n\n                &.pause {\n                    background-color: rgb(0 0 0 / 50%);\n                }\n            }\n        }\n    }\n`;\n\nconst VideoWrap = memo(\n    ({ setPlayer, setCurrentTime, setPlaying }) => {\n        const $video = createRef();\n\n        useEffect(() => {\n            setPlayer($video.current);\n            (function loop() {\n                window.requestAnimationFrame(() => {\n                    if ($video.current) {\n                        setPlaying(isPlaying($video.current));\n                        setCurrentTime($video.current.currentTime || 0);\n                    }\n                    loop();\n                });\n            })();\n        }, [setPlayer, setCurrentTime, setPlaying, $video]);\n\n        const onClick = useCallback(() => {\n            if ($video.current) {\n                if (isPlaying($video.current)) {\n                    $video.current.pause();\n                } else {\n                    $video.current.play();\n                }\n            }\n        }, [$video]);\n\n        // if (localStorage.getItem('videoSrc') === null) {\n        //     return <video onClick={onClick} src=\"/sample.mp4\" ref={$video} />;\n        // }\n\n        return <video onClick={onClick} src={localStorage.getItem('videoSrc')} ref={$video} />;\n    },\n    () => true,\n);\n\nexport default function Player(props) {\n    console.log(props);\n    const [currentSub, setCurrentSub] = useState(null);\n    const [focusing, setFocusing] = useState(false);\n    const [inputItemCursor, setInputItemCursor] = useState(0);\n    const $player = createRef();\n\n    useEffect(() => {\n        if ($player.current && props.player && !backlight.state) {\n            backlight.state = true;\n            backlight($player.current, props.player);\n        }\n    }, [$player, props.player]);\n\n    useMemo(() => {\n        setCurrentSub(\n            (props.configuration === 'Subtitling')\n           ? props.subtitle[props.currentIndex]\n           : props.subtitleEnglish[props.currentIndex]\n    );\n    }, [props.subtitle, props.currentIndex]);\n\n    const onChange = useCallback(\n        (event) => {\n            props.player.pause();\n            props.configuration === 'Subtitling' ? \n            props.updateSub(currentSub, { text: event.target.value })\n            : props.updateSubEnglish(currentSub, { text: event.target.value });\n            if (event.target.selectionStart) {\n                setInputItemCursor(event.target.selectionStart);\n            }\n        },\n        [props, currentSub],\n    );\n\n    const onClick = useCallback(\n        (event) => {\n            props.player.pause();\n            if (event.target.selectionStart) {\n                setInputItemCursor(event.target.selectionStart);\n            }\n        },\n        [props],\n    );\n\n    const onFocus = useCallback((event) => {\n        setFocusing(true);\n        if (event.target.selectionStart) {\n            setInputItemCursor(event.target.selectionStart);\n        }\n    }, []);\n\n    const onBlur = useCallback(() => {\n        setTimeout(() => setFocusing(false), 500);\n    }, []);\n\n    const onSplit = useCallback(() => {\n        props.splitSub(currentSub, inputItemCursor);\n    }, [props, currentSub, inputItemCursor]);\n\n    return (\n        <Style className=\"player\">\n            <div className=\"video\" ref={$player}>\n                <VideoWrap {...props} />\n                {props.player && currentSub ? (\n                    <div className=\"subtitle\">\n                        {props.configuration === 'Same Language Subtitling' && focusing ? (\n                            <div className=\"operate\" onClick={onSplit}>\n                                <Translate value=\"SPLIT\" />\n                            </div>\n                        ) : null}\n                        <TextareaAutosize\n                            className={`textarea ${!props.playing ? 'pause' : ''}`}\n                            value={currentSub.text}\n                            onChange={onChange}\n                            onClick={onClick}\n                            onFocus={onFocus}\n                            onBlur={onBlur}\n                            onKeyDown={onFocus}\n                            spellCheck={false}\n                        />\n                    </div>\n                ) : null}\n            </div>\n        </Style>\n    );\n}\n","import { ContextMenu, MenuItem, ContextMenuTrigger } from 'react-contextmenu';\nimport React, { useEffect, useCallback } from 'react';\nimport { Translate } from 'react-i18nify';\nimport styled from 'styled-components';\nimport isEqual from 'lodash/isEqual';\nimport DT from 'duration-time-conversion';\nimport { getKeyCode } from '../utils';\n\nconst Timeline = styled.div`\n    position: absolute;\n    z-index: 9;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    pointer-events: none;\n\n    .react-contextmenu-wrapper {\n        position: absolute;\n        z-index: 9;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        pointer-events: all;\n    }\n\n    .sub-item {\n        position: absolute;\n        top: 30%;\n        left: 0;\n        height: 40%;\n        overflow: hidden;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        text-align: center;\n        word-wrap: break-word;\n        color: #fff;\n        font-size: 14px;\n        cursor: move;\n        user-select: none;\n        pointer-events: all;\n        background-color: rgba(255, 255, 255, 0.2);\n        border: 1px solid rgba(255, 255, 255, 0.2);\n\n        &:hover {\n            background-color: rgba(255, 255, 255, 0.3);\n        }\n\n        &.sub-highlight {\n            background-color: rgba(33, 150, 243, 0.5);\n            border: 1px solid rgba(33, 150, 243, 0.5);\n        }\n\n        &.sub-illegal {\n            background-color: rgba(199, 81, 35, 0.5);\n        }\n\n        .sub-handle {\n            position: absolute;\n            top: 0;\n            bottom: 0;\n            z-index: 1;\n            height: 100%;\n            cursor: col-resize;\n            user-select: none;\n            &:hover {\n                background-color: rgba(255, 255, 255, 0.1);\n            }\n        }\n\n        .sub-text {\n            position: relative;\n            z-index: 0;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            flex-direction: column;\n            \n            text-shadow: rgb(0 0 0) 1px 0px 1px, rgb(0 0 0) 0px 1px 1px, rgb(0 0 0) -1px 0px 1px,\n                rgb(0 0 0) 0px -1px 1px;\n            \n            height: 100%;\n            word-wrap: break-word;\n\n            p {\n                margin: 2px 0;\n                line-height: 1;\n                &.bilingual {\n                    transform: scale(0.8);\n                }\n            }\n        }\n\n        .sub-duration {\n            opacity: 0.5;\n            position: absolute;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            width: 100%;\n            text-align: center;\n            font-size: 12px;\n        }\n    }\n`;\n\nfunction getCurrentSubs(subs, beginTime, duration) {\n   // console.log('subs ' + subs[0].text)\n    return subs.filter((item) => {\n        return (\n            (item.startTime >= beginTime && item.startTime <= beginTime + duration) ||\n            (item.endTime >= beginTime && item.endTime <= beginTime + duration) ||\n            (item.startTime < beginTime && item.endTime > beginTime + duration)\n        );\n    });\n}\n\nfunction magnetically(time, closeTime) {\n    if (!closeTime) return time;\n    if (time > closeTime - 0.1 && closeTime + 0.1 > time) {\n        return closeTime;\n    }\n    return time;\n}\n\nlet lastTarget = null;\nlet lastSub = null;\nlet lastType = '';\nlet lastX = 0;\nlet lastIndex = -1;\nlet lastWidth = 0;\nlet lastDiffX = 0;\nlet isDroging = false;\n\nexport default React.memo(\n    \n    function ({\n        player,\n        subtitle,\n        subtitleEnglish,\n        render,\n        currentTime,\n        checkSub,\n        removeSub,\n        hasSub,\n        updateSub,\n        mergeSub,\n        updateSubEnglish,\n        configuration,\n        setConfiguration\n    }) {\n            \n            //console.log('subtitleEnglish ' +subtitleEnglish[0].text);\n            //console.log('subtitle '+subtitle[0].text);\n      \n        const $blockRef = React.createRef();\n        const $subsRef = React.createRef();\n\n       let currentSubs = getCurrentSubs(subtitleEnglish, render.beginTime, render.duration)\n        {  \n            (configuration === 'Subtitling')\n            ? currentSubs = getCurrentSubs(subtitle, render.beginTime, render.duration)   \n            : currentSubs = getCurrentSubs(subtitleEnglish, render.beginTime, render.duration)\n        }\n\n       // const currentSubsEnglish = getCurrentSubs(subtitleEnglish, render.beginTime, render.duration); //addition\n       // console.log('currentSubs '+currentSubs);\n    //    console.log('subtitle '+subtitle[0].text);\n    \n        const gridGap = document.body.clientWidth / render.gridNum;\n        const currentIndex = currentSubs.findIndex(\n            (item) => item.startTime <= currentTime && item.endTime > currentTime,\n        );\n\n        //addition\n        // const currentIndexEnglish = currentSubsEnglish.findIndex(\n        //     (item) => item.startTime <= currentTime && item.endTime > currentTime,\n        // );\n        const onMouseDown = (sub, event, type) => {\n            lastSub = sub;\n            if (event.button !== 0) return;\n            isDroging = true;\n            lastType = type;\n            lastX = event.pageX;\n            lastIndex = currentSubs.indexOf(sub);\n            lastTarget = $subsRef.current.children[lastIndex];\n            lastWidth = parseFloat(lastTarget.style.width);\n        };\n\n        const onDoubleClick = (sub, event) => {\n            const $subs = event.currentTarget;\n            const index = hasSub(sub);\n            const previou = subtitle[index - 1];\n            const next = subtitle[index + 1];\n            if (previou && next) {\n                const width = (next.startTime - previou.endTime) * 10 * gridGap;\n                $subs.style.width = `${width}px`;\n                const start = DT.d2t(previou.endTime);\n                const end = DT.d2t(next.startTime);\n         \n                updateSub(sub, {\n                    start,\n                    end,\n                });\n            }\n        };\n\n        const onDocumentMouseMove = useCallback((event) => {\n   \n            if (isDroging && lastTarget) {\n                lastDiffX = event.pageX - lastX;\n                if (lastType === 'left') {\n      \n                    lastTarget.style.width = `${lastWidth - lastDiffX}px`;\n                    lastTarget.style.transform = `translate(${lastDiffX}px)`;\n                } else if (lastType === 'right') {\n         \n                    lastTarget.style.width = `${lastWidth + lastDiffX}px`;\n                } else {\n          \n                    lastTarget.style.transform = `translate(${lastDiffX}px)`;\n                }\n            }\n        }, []);\n\n        const onDocumentMouseUp = useCallback(() => {\n\n            if (isDroging && lastTarget && lastDiffX) {\n       \n                const timeDiff = lastDiffX / gridGap / 10;\n                const index = hasSub(lastSub);\n                const previou = subtitle[index - 1];\n                const next = subtitle[index + 1];\n\n                const startTime = magnetically(lastSub.startTime + timeDiff, previou ? previou.endTime : null);\n                const endTime = magnetically(lastSub.endTime + timeDiff, next ? next.startTime : null);\n                const width = (endTime - startTime) * 10 * gridGap;\n\n                if ((previou && endTime < previou.startTime) || (next && startTime > next.endTime)) {\n                    //\n   \n                } else {\n              \n                    if (lastType === 'left') {\n                        if (startTime >= 0 && lastSub.endTime - startTime >= 0.2) {\n                            const start = DT.d2t(startTime);\n                            updateSub(lastSub, { start });\n                     \n                            updateSubEnglish(lastSub, { start });\n                        } else {\n                            lastTarget.style.width = `${width}px`;\n                        }\n                    } else if (lastType === 'right') {\n                        if (endTime >= 0 && endTime - lastSub.startTime >= 0.2) {\n                            const end = DT.d2t(endTime);\n                            updateSub(lastSub, { end });\n               \n                            updateSubEnglish(lastSub, { end });\n                        } else {\n                            lastTarget.style.width = `${width}px`;\n                        }\n                    } else {\n                        if (startTime > 0 && endTime > 0 && endTime - startTime >= 0.2) {\n                            const start = DT.d2t(startTime);\n                            const end = DT.d2t(endTime);\n                 \n                            updateSub(lastSub, {\n                                start,\n                                end,\n                            });\n                            updateSubEnglish(lastSub, {\n                                start,\n                                end,\n                            });\n                        } else {\n                            lastTarget.style.width = `${width}px`;\n                        }\n                    }\n                }\n \n                lastTarget.style.transform = `translate(0)`;\n            }\n   \n            lastType = '';\n            lastX = 0;\n            lastWidth = 0;\n            lastDiffX = 0;\n            isDroging = false;\n        }, [gridGap, hasSub, subtitle, updateSub, updateSubEnglish]);\n\n        const onKeyDown = useCallback(\n            (event) => {\n    \n                const sub = currentSubs[lastIndex];\n                if (sub && lastTarget) {\n          \n                    const keyCode = getKeyCode(event);\n        \n                    switch (keyCode) {\n                        case 37:\n                \n                            updateSub(sub, {\n                                start: DT.d2t(sub.startTime - 0.1),\n                                end: DT.d2t(sub.endTime - 0.1),\n                            });\n                            player.currentTime = sub.startTime - 0.1;\n                            break;\n                        case 39:\n              \n                            updateSub(sub, {\n                                start: DT.d2t(sub.startTime + 0.1),\n                                end: DT.d2t(sub.endTime + 0.1),\n                            });\n                            player.currentTime = sub.startTime + 0.1;\n                            break;\n                        case 8:\n                        case 46:\n                            removeSub(sub);\n                            break;\n                        default:\n                            break;\n                    }\n                }\n            },\n            [currentSubs, player, removeSub, updateSub],\n        );\n\n        useEffect(() => {\n            document.addEventListener('mousemove', onDocumentMouseMove);\n            document.addEventListener('mouseup', onDocumentMouseUp);\n            window.addEventListener('keydown', onKeyDown);\n            return () => {\n                document.removeEventListener('mousemove', onDocumentMouseMove);\n                document.removeEventListener('mouseup', onDocumentMouseUp);\n                window.removeEventListener('keydown', onKeyDown);\n            };\n        }, [onDocumentMouseMove, onDocumentMouseUp, onKeyDown]);\n\n\n        {}\n        return (\n            <Timeline ref={$blockRef}>\n                {}\n                <div ref={$subsRef}>\n              \n                {/* {console.log('configuration '+configuration)} */}\n              \n                {/* {console.log('currentSubs '+currentSubs[0].text)} */}\n                    \n                    {\n                        currentSubs.map((sub, key) => {\n                           \n                            return (\n                                <div\n                                    className={[\n                                        'sub-item',\n                                        key === currentIndex ? 'sub-highlight' : '',\n                                        checkSub(sub) ? 'sub-illegal' : '',\n                                    ]\n                                        .join(' ')\n                                        .trim()}\n                                    key={key}\n                                    style={{\n                                        left: render.padding * gridGap + (sub.startTime - render.beginTime) * gridGap * 10,\n                                        width: (sub.endTime - sub.startTime) * gridGap * 10,\n                                    }}\n                                    onClick={() => {\n                                        if (player.duration >= sub.startTime) {\n                                            player.currentTime = sub.startTime + 0.001;\n                                        }\n                                    }}\n                                    onDoubleClick={(event) => onDoubleClick(sub, event)}\n                                >\n                                    <ContextMenuTrigger id=\"contextmenu\" holdToDisplay={-1}>\n                                        <div\n                                            className=\"sub-handle\"\n                                            style={{\n                                                left: 0,\n                                                width: 10,\n                                            }}\n                                            onMouseDown={(event) => onMouseDown(sub, event, 'left')}\n                                        ></div>\n    \n                                        <div\n                                            className=\"sub-text\"\n                                            title={sub.text}\n                                            onMouseDown={(event) => onMouseDown(sub, event)}\n                                        >\n                                        \n                                           { `${sub.text}`.split(/\\r?\\n/).map((line, index) => (\n                                                <p key={index}>{line}</p>\n                                            ))}\n                                            \n                                        </div>\n    \n                                        <div\n                                            className=\"sub-handle\"\n                                            style={{\n                                                right: 0,\n                                                width: 10,\n                                            }}\n                                            onMouseDown={(event) => onMouseDown(sub, event, 'right')}\n                                        ></div>\n                                        <div className=\"sub-duration\">{sub.duration}</div>\n                                    </ContextMenuTrigger>\n                                </div>\n                            );\n                        })\n                    \n                    \n                    }\n                </div>\n                <ContextMenu id=\"contextmenu\">\n                    <MenuItem onClick={() => removeSub(lastSub)}>\n                        <Translate value=\"DELETE\" />\n                    </MenuItem>\n                    {configuration === 'Same Language Subtitling' && <MenuItem onClick={() => mergeSub(lastSub)}>\n                        <Translate value=\"MERGE\" />\n                    </MenuItem>}\n                </ContextMenu>\n            </Timeline>\n        );\n    },\n    (prevProps, nextProps) => {\n        return (\n            isEqual(prevProps.subtitle, nextProps.subtitle) &&\n            isEqual(prevProps.render, nextProps.render) &&\n            prevProps.currentTime === nextProps.currentTime\n        );\n    },\n);\n","import React, { useEffect, useCallback, useState } from 'react';\nimport styled from 'styled-components';\nimport DT from 'duration-time-conversion';\nimport { t } from 'react-i18nify';\n\nconst Metronome = styled.div`\n    position: absolute;\n    z-index: 8;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    cursor: ew-resize;\n    user-select: none;\n\n    .template {\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        height: 100%;\n        background-color: rgba(76, 175, 80, 0.5);\n        border-left: 1px solid rgba(76, 175, 80, 0.8);\n        border-right: 1px solid rgba(76, 175, 80, 0.8);\n        user-select: none;\n        pointer-events: none;\n    }\n`;\n\nfunction findIndex(subs, startTime) {\n    return subs.findIndex((item, index) => {\n        return (\n            (startTime >= item.endTime && !subs[index + 1]) ||\n            (item.startTime <= startTime && item.endTime > startTime) ||\n            (startTime >= item.endTime && subs[index + 1] && startTime < subs[index + 1].startTime)\n        );\n    });\n}\n\nexport default function Component({ render, subtitle, newSub, addSub, player, playing }) {\n    const [isDroging, setIsDroging] = useState(false);\n    const [drogStartTime, setDrogStartTime] = useState(0);\n    const [drogEndTime, setDrogEndTime] = useState(0);\n    const gridGap = document.body.clientWidth / render.gridNum;\n\n    const getEventTime = useCallback(\n        (event) => {\n            return (event.pageX - render.padding * gridGap) / gridGap / 10 + render.beginTime;\n        },\n        [gridGap, render],\n    );\n\n    const onMouseDown = useCallback(\n        (event) => {\n            if (event.button !== 0) return;\n            const clickTime = getEventTime(event);\n            setIsDroging(true);\n            setDrogStartTime(clickTime);\n        },\n        [getEventTime],\n    );\n\n    const onMouseMove = useCallback(\n        (event) => {\n            if (isDroging) {\n                if (playing) player.pause();\n                setDrogEndTime(getEventTime(event));\n            }\n        },\n        [isDroging, playing, player, getEventTime],\n    );\n\n    const onDocumentMouseUp = useCallback(() => {\n        if (isDroging) {\n            if (drogStartTime > 0 && drogEndTime > 0 && drogEndTime - drogStartTime >= 0.2) {\n                const index = findIndex(subtitle, drogStartTime) + 1;\n                const start = DT.d2t(drogStartTime);\n                const end = DT.d2t(drogEndTime);\n                addSub(\n                    index,\n                    newSub({\n                        start,\n                        end,\n                        text: t('SUB_TEXT'),\n                    }),\n                );\n            }\n        }\n        setIsDroging(false);\n        setDrogStartTime(0);\n        setDrogEndTime(0);\n    }, [isDroging, drogStartTime, drogEndTime, subtitle, addSub, newSub]);\n\n    useEffect(() => {\n        document.addEventListener('mouseup', onDocumentMouseUp);\n        return () => document.removeEventListener('mouseup', onDocumentMouseUp);\n    }, [onDocumentMouseUp]);\n\n    return (\n        <Metronome onMouseDown={onMouseDown} onMouseMove={onMouseMove}>\n            {player && !playing && drogStartTime && drogEndTime && drogEndTime > drogStartTime ? (\n                <div\n                    className=\"template\"\n                    style={{\n                        left: render.padding * gridGap + (drogStartTime - render.beginTime) * gridGap * 10,\n                        width: (drogEndTime - drogStartTime) * gridGap * 10,\n                    }}\n                ></div>\n            ) : null}\n        </Metronome>\n    );\n}\n","import styled from 'styled-components';\nimport DT from 'duration-time-conversion';\nimport React, { useState, useEffect, useCallback, createRef, memo } from 'react';\nimport WFPlayer from 'wfplayer';\nimport clamp from 'lodash/clamp';\nimport throttle from 'lodash/throttle';\nimport Timeline from './Timeline';\nimport Metronome from './Metronome';\n\nconst Style = styled.div`\n    position: relative;\n    display: flex;\n    flex-direction: column;\n\n    .progress {\n        position: absolute;\n        left: 0;\n        right: 0;\n        top: -12px;\n        z-index: 11;\n        width: 100%;\n        height: 12px;\n        user-select: none;\n        border-top: 1px solid rgb(255 255 255 / 20%);\n        background-color: rgb(0 0 0 / 50%);\n\n        .bar {\n            position: absolute;\n            left: 0;\n            top: 0;\n            bottom: 0;\n            width: 0%;\n            height: 100%;\n            display: inline-block;\n            background-color: #730000;\n            overflow: hidden;\n\n            .handle {\n                position: absolute;\n                right: 0;\n                top: 0;\n                bottom: 0;\n                width: 10px;\n                cursor: ew-resize;\n                background-color: #ff9800;\n            }\n        }\n\n        .subtitle {\n            position: absolute;\n            left: 0;\n            top: 0;\n            bottom: 0;\n            right: 0;\n            width: 100%;\n            height: 100%;\n            pointer-events: none;\n\n            span {\n                position: absolute;\n                top: 0;\n                bottom: 0;\n                height: 100%;\n                background-color: rgb(255 255 255 / 20%);\n            }\n        }\n    }\n\n    .duration {\n        position: absolute;\n        left: 0;\n        right: 0;\n        top: -40px;\n        z-index: 12;\n        width: 100%;\n        font-size: 18px;\n        color: rgb(255 255 255 / 75%);\n        text-shadow: 0 1px 2px rgb(0 0 0 / 75%);\n        text-align: center;\n        user-select: none;\n        pointer-events: none;\n    }\n\n    .waveform {\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        z-index: 1;\n        width: 100%;\n        height: 100%;\n        z-index: 1;\n        user-select: none;\n        pointer-events: none;\n    }\n\n    .grab {\n        position: relative;\n        z-index: 11;\n        cursor: grab;\n        height: 20%;\n        user-select: none;\n        background-color: rgb(33 150 243 / 20%);\n        border-top: 1px solid rgb(33 150 243 / 30%);\n        border-bottom: 1px solid rgb(33 150 243 / 30%);\n\n        &.grabbing {\n            cursor: grabbing;\n        }\n    }\n`;\n\nconst Waveform = memo(\n    ({ player, setWaveform, setRender }) => {\n        const $waveform = createRef();\n\n        useEffect(() => {\n            [...WFPlayer.instances].forEach((item) => item.destroy());\n\n            const waveform = new WFPlayer({\n                scrollable: true,\n                useWorker: false,\n                duration: 10,\n                padding: 1,\n                wave: true,\n                pixelRatio: 2,\n                container: $waveform.current,\n                mediaElement: player,\n                backgroundColor: 'rgba(0, 0, 0, 0)',\n                waveColor: 'rgba(255, 255, 255, 0.2)',\n                progressColor: 'rgba(255, 255, 255, 0.5)',\n                gridColor: 'rgba(255, 255, 255, 0.05)',\n                rulerColor: 'rgba(255, 255, 255, 0.5)',\n                paddingColor: 'rgba(0, 0, 0, 0)',\n            });\n\n            setWaveform(waveform);\n            waveform.on('update', setRender);\n            waveform.load('/sample.mp3');\n        }, [player, $waveform, setWaveform, setRender]);\n\n        return <div className=\"waveform\" ref={$waveform} />;\n    },\n    () => true,\n);\n\nconst Grab = (props) => {\n    const [grabStartX, setGrabStartX] = useState(0);\n    const [grabStartTime, setGrabStartTime] = useState(0);\n    const [grabbing, setGrabbing] = useState(false);\n\n    const onGrabDown = useCallback(\n        (event) => {\n            if (event.button !== 0) return;\n            setGrabStartX(event.pageX);\n            setGrabStartTime(props.player.currentTime);\n            setGrabbing(true);\n        },\n        [props.player],\n    );\n\n    const onGrabUp = () => {\n        setGrabStartX(0);\n        setGrabStartTime(0);\n        setGrabbing(false);\n    };\n\n    const onGrabMove = useCallback(\n        (event) => {\n            if (grabbing && props.player && props.waveform) {\n                const currentTime = clamp(\n                    grabStartTime - ((event.pageX - grabStartX) / document.body.clientWidth) * 10,\n                    0,\n                    props.player.duration,\n                );\n                props.player.currentTime = currentTime;\n                props.waveform.seek(currentTime);\n            }\n        },\n        [grabbing, props.player, props.waveform, grabStartX, grabStartTime],\n    );\n\n    useEffect(() => {\n        document.addEventListener('mouseup', onGrabUp);\n        return () => document.removeEventListener('mouseup', onGrabUp);\n    }, []);\n\n    return (\n        <div className={`grab ${grabbing ? 'grabbing' : ''}`} onMouseDown={onGrabDown} onMouseMove={onGrabMove}></div>\n    );\n};\n\nconst Progress = (props) => {\n    const [grabbing, setGrabbing] = useState(false);\n\n    const onProgressClick = useCallback(\n        (event) => {\n            if (event.button !== 0) return;\n            const currentTime = (event.pageX / document.body.clientWidth) * props.player.duration;\n            props.player.currentTime = currentTime;\n            props.waveform.seek(currentTime);\n        },\n        [props],\n    );\n\n    const onGrabDown = useCallback(\n        (event) => {\n            if (event.button !== 0) return;\n            setGrabbing(true);\n        },\n        [setGrabbing],\n    );\n\n    const onGrabMove = useCallback(\n        (event) => {\n            if (grabbing) {\n                const currentTime = (event.pageX / document.body.clientWidth) * props.player.duration;\n                props.player.currentTime = currentTime;\n            }\n        },\n        [grabbing, props.player],\n    );\n\n    const onDocumentMouseUp = useCallback(() => {\n        if (grabbing) {\n            setGrabbing(false);\n            props.waveform.seek(props.player.currentTime);\n        }\n    }, [grabbing, props.waveform, props.player.currentTime]);\n\n    useEffect(() => {\n        document.addEventListener('mouseup', onDocumentMouseUp);\n        document.addEventListener('mousemove', onGrabMove);\n        return () => {\n            document.removeEventListener('mouseup', onDocumentMouseUp);\n            document.removeEventListener('mousemove', onGrabMove);\n        };\n    }, [onDocumentMouseUp, onGrabMove]);\n\n    return (\n        <div className=\"progress\" onClick={onProgressClick}>\n            <div className=\"bar\" style={{ width: `${(props.currentTime / props.player.duration) * 100}%` }}>\n                <div className=\"handle\" onMouseDown={onGrabDown}></div>\n            </div>\n            <div className=\"subtitle\">\n                {props.subtitle.length <= 200\n                    ? props.subtitle.map((item, index) => {\n                          const { duration } = props.player;\n                          return (\n                              <span\n                                  key={index}\n                                  className=\"item\"\n                                  style={{\n                                      left: `${(item.startTime / duration) * 100}%`,\n                                      width: `${(item.duration / duration) * 100}%`,\n                                  }}\n                              ></span>\n                          );\n                      })\n                    : null}\n            </div>\n        </div>\n    );\n};\n\nconst Duration = (props) => {\n    const getDuration = useCallback((time) => {\n        time = time === Infinity ? 0 : time;\n        return DT.d2t(time).split('.')[0];\n    }, []);\n\n    return (\n        <div className=\"duration\">\n            <span>\n                {getDuration(props.currentTime)} / {getDuration(props.player.duration || 0)}\n            </span>\n        </div>\n    );\n};\n\nexport default function Footer(props) {\n    const $footer = createRef();\n    const [render, setRender] = useState({\n        padding: 2,\n        duration: 10,\n        gridGap: 10,\n        gridNum: 110,\n        beginTime: -5,\n    });\n\n    const onWheel = useCallback(\n        (event) => {\n            if (\n                !props.player ||\n                !props.waveform ||\n                props.player.playing ||\n                !$footer.current ||\n                !$footer.current.contains(event.target)\n            ) {\n                return;\n            }\n\n            const deltaY = Math.sign(event.deltaY) / 5;\n            const currentTime = clamp(props.player.currentTime + deltaY, 0, props.player.duration);\n            props.player.currentTime = currentTime;\n            props.waveform.seek(currentTime);\n        },\n        [props.waveform, props.player, $footer],\n    );\n\n    useEffect(() => {\n        const onWheelThrottle = throttle(onWheel, 100);\n        window.addEventListener('wheel', onWheelThrottle);\n        return () => window.removeEventListener('wheel', onWheelThrottle);\n    }, [onWheel]);\n\n    return (\n        <Style className=\"footer\" ref={$footer}>\n            {/* {console.log('props '+props.subtitle.length)}\n            {\n                props.subtitle.map((item, index)=>{\n                    console.log(item);\n                })\n            } */}\n            {props.player ? (\n                <React.Fragment>\n                    <Progress {...props} />\n                    <Duration {...props} />\n                    <Waveform {...props} setRender={setRender} />\n                    <Grab {...props} render={render} />\n                    <Metronome {...props} render={render} />\n                    <Timeline {...props} render={render} />\n                </React.Fragment>\n            ) : null}\n        </Style>\n    );\n}\n","import React from 'react';\nimport styled from 'styled-components';\nimport { t } from 'react-i18nify';\n\nconst Loading = styled.div`\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    z-index: 99;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    -webkit-backdrop-filter: saturate(180%) blur(2px);\n    backdrop-filter: saturate(180%) blur(2px);\n    background-color: rgba(0, 0, 0, 0.5);\n\n    .loading-inner {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        flex-direction: column;\n        width: 200px;\n        height: 200px;\n        padding: 0 10px;\n        border-radius: 10px;\n        color: #fff;\n        background-color: rgb(34 36 60 / 95%);\n        box-shadow: 0 0 3px 0 rgba(0, 0, 0, 0.5);\n\n        img {\n            zoom: 0.5;\n            margin-bottom: 10px;\n        }\n    }\n`;\n\nexport default function Component({ loading }) {\n    return (\n        <Loading>\n            <div className=\"loading-inner\">\n                <img src=\"/loading.svg\" alt=\"loading\" />\n                <div>{loading || t('LOADING')}</div>\n            </div>\n        </Loading>\n    );\n}\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Style = styled.div`\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    z-index: 999;\n    width: 100%;\n    height: 3px;\n    user-select: none;\n    pointer-events: none;\n\n    .inner {\n        position: relative;\n        height: 100%;\n        background-color: #f00;\n        transition: all 0.3s ease 0s;\n        span {\n            position: absolute;\n            top: 3px;\n            right: 0;\n            padding: 2px 5px;\n            color: #fff;\n            font-size: 12px;\n            background-color: rgb(0 0 0 / 80%);\n        }\n    }\n`;\n\nexport default function Component({ processing }) {\n    return (\n        <Style>\n            <div className=\"inner\" style={{ width: `${processing}%` }}>\n                <span>{`${processing.toFixed(2)}%`}</span>\n            </div>\n        </Style>\n    );\n}\n","import React from 'react';\n\nexport default function Links() {\n    return (\n        <div className=\"links\" style={{ paddingLeft: '0.3%', paddingTop: '0.5%' }}>\n            <a target=\"_blank\" rel=\"noreferrer\" href=\"https://ai4bharat.org/\">\n                <img style={{ width: '60px' }} src=\"https://i.imgur.com/pVT5Mjp.png\" alt=\"AI4B Logo\" />\n            </a>\n        </div>\n    );\n}\n","/**\n * Login API\n */\n import API from \"../../../api\";\n import ENDPOINTS from \"../../../../config/apiendpoint\";\n \n export default class LoginAPI extends API {\n   constructor(username, password, timeout = 2000) {\n     super(\"POST\", timeout, false);\n     this.username = username;\n     this.password = password;\n     this.endpoint = `${super.apiEndPointAuto()}${ENDPOINTS.users}login/`;\n   }\n \n   processResponse(res) {\n     super.processResponse(res);\n     if (res) {\n         this.report = res;\n     }\n }\n \n   apiEndPoint() {\n     return this.endpoint;\n   }\n \n   getBody() {\n     return {\n       username: this.username,\n       password: this.password,\n     };\n   }\n \n   getHeaders() {\n     this.headers = {\n       headers: {\n         \"Content-Type\": \"application/json\",\n       },\n     };\n     return this.headers;\n   }\n \n   getPayload() {\n     return this.report\n   }\n }\n ","/**\n * Login API\n */\nimport API from '../../../api';\nimport ENDPOINTS from '../../../../config/apiendpoint';\n\nexport default class RegisterAPI extends API {\n    constructor(username, email, first_name, last_name, password, password2, timeout = 2000) {\n        super('POST', timeout, false);\n        this.username = username;\n        this.email = email;\n        this.first_name = first_name;\n        this.last_name = last_name;\n        this.password = password;\n        this.password2 = password2;\n        this.endpoint = `${super.apiEndPointAuto()}${ENDPOINTS.users}register/`;\n    }\n\n    processResponse(res) {\n        super.processResponse(res);\n        if (res) {\n            this.report = res;\n        }\n    }\n\n    apiEndPoint() {\n        return this.endpoint;\n    }\n\n    getBody() {\n        return {\n            username: this.username,\n            email: this.email,\n            first_name: this.first_name,\n            last_name: this.last_name,\n            password: this.password,\n            password2: this.password2,\n        };\n    }\n\n    getHeaders() {\n        this.headers = {\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        };\n        return this.headers;\n    }\n\n    getPayload() {\n        return this.report;\n    }\n}\n","import React, { useState } from \"react\";\nimport LoginAPI from \"../redux/actions/api/User/Login\";\nimport RegisterAPI from \"../redux/actions/api/User/Register\";\nimport \"../utils/Login.css\";\n\nconst LoginForm = ({ showLogin, setShowLogin }) => {\n    const initCredentials = {username: \"\", password: \"\"}\n    const initDetails = {username: \"\", password: \"\", password2: \"\", email: \"\", first_name: \"\", last_name: \"\"}\n    const [credentials, setCredentials] = useState(initCredentials);\n    const [details, setDetails] = useState(initDetails);\n    const [err, setErr] = useState(\"\");\n    const [isSignIn, setIsSignIn] = useState(true);\n\n    const handleLogin = (e) => {\n        e.preventDefault();\n        const apiObj = new LoginAPI(credentials.username, credentials.password);\n        fetch(apiObj.apiEndPoint(), {\n          method: \"POST\",\n          body: JSON.stringify(apiObj.getBody()),\n          headers: apiObj.getHeaders().headers,\n        })\n          .then(async (res) => {\n            const rsp_data = await res.json();\n            console.log(rsp_data);\n            if (!res.ok) {\n              setErr(\"Username or Password incorrect\");\n            } else {\n              localStorage.setItem(\"chitralekha_access_token\", rsp_data.token);\n              localStorage.setItem(\"user_id\", rsp_data.user?.id);\n              localStorage.setItem(\"username\", rsp_data.user?.username);\n              localStorage.setItem(\"email\", rsp_data.user?.email);\n              localStorage.setItem(\"first_name\", rsp_data.user?.first_name);\n              localStorage.setItem(\"last_name\", rsp_data.user?.last_name);\n              handleClose();\n            }\n          })\n          .catch((error) => {\n            if (typeof error === \"string\") {\n              setErr(error);\n            } else {\n              setErr(\"Something went wrong\");\n            }\n          });\n    }\n\n    const handleSignUp = (e) => {\n        e.preventDefault();\n        const apiObj = new RegisterAPI(details.username, details.email, details.first_name, details.last_name, details.password, details.password2);\n        fetch(apiObj.apiEndPoint(), {\n          method: \"POST\",\n          body: JSON.stringify(apiObj.getBody()),\n          headers: apiObj.getHeaders().headers,\n        })\n          .then(async (res) => {\n            const rsp_data = await res.json();\n            console.log(rsp_data);\n            if (!res.ok) {\n              setErr(\"Invalid details\");\n            } else {\n              localStorage.setItem(\"chitralekha_access_token\", rsp_data.token);\n              localStorage.setItem(\"user_id\", rsp_data.user?.id);\n              localStorage.setItem(\"username\", rsp_data.user?.username);\n              localStorage.setItem(\"email\", rsp_data.user?.email);\n              localStorage.setItem(\"first_name\", rsp_data.user?.first_name);\n              localStorage.setItem(\"last_name\", rsp_data.user?.last_name);\n              handleClose();\n            }\n          })\n          .catch((error) => {\n            if (typeof error === \"string\") {\n              setErr(error);\n            } else {\n              setErr(\"Something went wrong\");\n            }\n          });\n    }\n\n    const handleClose = () => {\n        setShowLogin(false);\n        setCredentials(initCredentials);\n        setDetails(initDetails);\n        setErr(\"\");\n    }\n\n  return (\n    <div className={`${showLogin ? \"\" : \"active\"} show`}>\n      <div className=\"login-form\">\n        <div className=\"form-box solid\">\n          <button type=\"button\" className=\"close-btn\" onClick={handleClose}>x</button>\n          {isSignIn ? <form className=\"login-form-form\">\n            <h1 className=\"login-text\">Sign In</h1>\n            {err && <p className=\"err-msg\">{err}</p>}\n            <label>Username</label>\n            <br></br>\n            <input type=\"text\" className=\"login-box\" value={credentials.username} onChange={(e) => setCredentials({...credentials, username: e.currentTarget.value})} />\n            <br></br>\n            <label>Password</label>\n            <br></br>\n            <input type=\"password\" className=\"login-box\" value={credentials.password} onChange={(e) => setCredentials({...credentials, password: e.currentTarget.value})}/>\n            <br></br>\n            <button className=\"login-btn\" onClick={handleLogin}>Login</button>\n            {/* <p className=\"form-text\">Don't have an account? <span className=\"link\" onClick={() => {setErr(\"\"); setIsSignIn(!isSignIn)}}>Sign up</span></p> */}\n          </form> \n          :\n          <form className=\"login-form-form\">\n            <h1 className=\"login-text\">Sign Up</h1>\n            {err && <p className=\"err-msg\">{err}</p>}\n            <div className=\"signup-group\">\n              <div>\n                <label>Username</label>\n                <br></br>\n                <input type=\"text\" className=\"login-box\" value={details.username} onChange={(e) => setDetails({...details, username: e.currentTarget.value})} />\n                <br></br>\n              </div>\n              <div>\n                <label>Email</label>\n                <br></br>\n                <input type=\"email\" className=\"login-box\" value={details.email} onChange={(e) => setDetails({...details, email: e.currentTarget.value})}/>\n                <br></br>\n              </div>\n            </div>\n            <div className=\"signup-group\">\n              <div>\n                <label>First Name</label>\n                <br></br>\n                <input type=\"text\" className=\"login-box\" value={details.first_name} onChange={(e) => setDetails({...details, first_name: e.currentTarget.value})}/>\n                <br></br>\n              </div>\n              <div>\n                <label>Last Name</label>\n                <br></br>\n                <input type=\"text\" className=\"login-box\" value={details.last_name} onChange={(e) => setDetails({...details, last_name: e.currentTarget.value})}/>\n                <br></br>\n              </div>\n            </div>\n            <div className=\"signup-group\">\n              <div>\n                <label>Password</label>\n                <br></br>\n                <input type=\"password\" className=\"login-box\" value={details.password} onChange={(e) => setDetails({...details, password: e.currentTarget.value})}/>\n                <br></br>\n              </div>\n              <div>\n                <label>Confirm Password</label>\n                <br></br>\n                <input type=\"password\" className=\"login-box\" value={details.password2} onChange={(e) => setDetails({...details, password2: e.currentTarget.value})}/>\n                <br></br>\n              </div>\n            </div>\n            <button className=\"login-btn\" onClick={handleSignUp}>Sign Up</button>\n            <p className=\"form-text\">Already have an account? <span className=\"link\" onClick={() => {setErr(\"\"); setIsSignIn(!isSignIn)}}>Sign In</span></p>\n          </form>}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LoginForm;\n","/**\n * Get Transcript Languages API\n */\n import API from \"../../../api\";\n import ENDPOINTS from \"../../../../config/apiendpoint\";\n import constants from \"../../../constants\";\n \n export default class GetTranscriptLanguagesAPI extends API {\n   constructor(timeout = 2000) {\n     super(\"GET\", timeout, false);\n     this.type = constants.GET_TRANSCRIPT_LANGUAGES;\n     this.endpoint = `${super.apiEndPointAuto()}${ENDPOINTS.transcript}generate/supported_languages`;\n   }\n \n   processResponse(res) {\n     super.processResponse(res);\n     if (res) {\n         this.languages = res;\n     }\n }\n \n   apiEndPoint() {\n     return this.endpoint;\n   }\n \n   getBody() {}\n \n   getHeaders() {\n     this.headers = {\n       headers: {\n         \"Content-Type\": \"application/json\",\n         ...(localStorage.getItem('chitralekha_access_token')) && {\"Authorization\":`Token ${localStorage.getItem('chitralekha_access_token')}`}\n       },\n     };\n     return this.headers;\n   }\n \n   getPayload() {\n     return this.languages\n   }\n }\n ","/**\n * Fetch Transcript API\n */\n import API from \"../../../api\";\n import ENDPOINTS from \"../../../../config/apiendpoint\";\n import constants from \"../../../constants\";\n \n export default class FetchTranscriptAPI extends API {\n   constructor(videoId, language, transcriptType, latest, timeout = 2000) {\n     super(\"GET\", timeout, false);\n     this.type = constants.FETCH_TRANSCRIPT;\n     this.endpoint = `${super.apiEndPointAuto()}${ENDPOINTS.transcript}?video_id=${videoId}&language=${language}&transcript_type=${transcriptType}${latest ? \"&load_latest_transcript=true\" : \"\"}`;\n   }\n \n   processResponse(res) {\n     super.processResponse(res);\n     if (res) {\n         this.transcript = res;\n     }\n }\n \n   apiEndPoint() {\n     return this.endpoint;\n   }\n \n   getBody() {}\n \n   getHeaders() {\n     this.headers = {\n       headers: {\n         \"Content-Type\": \"application/json\",\n         ...(localStorage.getItem('chitralekha_access_token')) && {\"Authorization\":`Token ${localStorage.getItem('chitralekha_access_token')}`}\n       },\n     };\n     return this.headers;\n   }\n \n   getPayload() {\n     return this.transcript\n   }\n }\n ","/**\n * Generate Transcript API\n */\n import API from \"../../../api\";\n import ENDPOINTS from \"../../../../config/apiendpoint\";\n import constants from \"../../../constants\";\n \n export default class GenerateTranscriptAPI extends API {\n   constructor(videoId, language, timeout = 2000) {\n     super(\"GET\", timeout, false);\n     this.type = constants.GENERATE_TRANSCRIPT;\n     this.endpoint = `${super.apiEndPointAuto()}${ENDPOINTS.transcript}generate/?video_id=${videoId}&language=${language}`;\n   }\n \n   processResponse(res) {\n     super.processResponse(res);\n     if (res) {\n         this.transcript = res;\n     }\n }\n \n   apiEndPoint() {\n     return this.endpoint;\n   }\n \n   getBody() {}\n \n   getHeaders() {\n     this.headers = {\n       headers: {\n         \"Content-Type\": \"application/json\",\n         ...(localStorage.getItem('chitralekha_access_token')) && {\"Authorization\":`Token ${localStorage.getItem('chitralekha_access_token')}`}\n       },\n     };\n     return this.headers;\n   }\n \n   getPayload() {\n     return this.transcript\n   }\n }\n ","/**\n * Save Transcript API\n */\nimport API from '../../../api';\nimport ENDPOINTS from '../../../../config/apiendpoint';\nimport constants from '../../../constants';\n\nexport default class SaveTranscriptAPI extends API {\n    constructor(transcriptId, language, videoId, payload, timeout = 2000) {\n        super('POST', timeout, false);\n        this.type = constants.SAVE_TRANSCRIPT;\n        this.transcriptId = transcriptId;\n        this.language = language;\n        this.payload = payload;\n        this.videoId = videoId;\n        this.endpoint = `${super.apiEndPointAuto()}${ENDPOINTS.transcript}save/`;\n    }\n\n    processResponse(res) {\n        super.processResponse(res);\n        if (res) {\n            this.transcript = res;\n        }\n    }\n\n    apiEndPoint() {\n        return this.endpoint;\n    }\n\n    getBody() {\n        return {\n            transcript_id: this.transcriptId,\n            language: this.language,\n            payload: this.payload,\n            video_id: this.videoId,\n        }\n    }\n\n    getHeaders() {\n        this.headers = {\n            headers: {\n                'Content-Type': 'application/json',\n                ...(localStorage.getItem('chitralekha_access_token')) && {\"Authorization\":`Token ${localStorage.getItem('chitralekha_access_token')}`}\n            },\n        };\n        return this.headers;\n    }\n\n    getPayload() {\n        return this.transcript;\n    }\n}\n","// ff450a7f531a4e9ab43bd2dd87cdbfcc\n\nimport styled from 'styled-components';\nimport languages from '../libs/languages';\nimport React, { useState, useCallback, useEffect, useRef } from 'react';\nimport { Table } from 'react-virtualized';\nimport unescape from 'lodash/unescape';\nimport debounce from 'lodash/debounce';\nimport { ReactTransliterate } from 'react-transliterate';\nimport { t, Translate } from 'react-i18nify';\n// import englishKeywordsTranslate from '../libs/englishKeywordsTranslate';\nimport googleTranslate from '../libs/googleTranslate';\nimport { url2sub, vtt2url, sub2vtt } from '../libs/readSub';\nimport GetTranscriptLanguagesAPI from \"../redux/actions/api/Transcript/GetTranscriptLanguages\"\nimport APITransport from \"../redux/actions/apitransport/apitransport\"\nimport { useDispatch, useSelector } from 'react-redux';\nimport FetchTranscriptAPI from \"../redux/actions/api/Transcript/FetchTranscript\"\nimport GenerateTranscriptAPI from \"../redux/actions/api/Transcript/GenerateTranscript\"\nimport SaveTranscriptAPI from \"../redux/actions/api/Transcript/SaveTranscript\"\n\nconst Style = styled.div`\n    position: relative;\n    box-shadow: 0px 5px 25px 5px rgb(0 0 0 / 80%);\n    background-color: rgb(0 0 0 / 100%);\n    z-index: 200;\n\n    .transcribe {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-evenly;\n        align-items: center;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n        height: 80px;\n\n        .heading {\n            h4 {\n                margin: 0;\n            }\n        }\n\n        .options {\n            display: flex;\n            width: 100%;\n            align-items: center;\n            justify-content: center;\n\n            span {\n                font-size: 18px;\n            }\n        }\n        \n        select {\n            width: 65%;\n            outline: none;\n            height: 35px;\n            border-radius: 3px;\n        }\n\n        .btn {\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 60%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #673ab7;\n            transition: all 0.2s ease 0s;\n            margin-right: 10px;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n    }\n\n    .reference {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-evenly;\n        align-items: center;\n        height: 80px;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n        h4 {\n            margin-bottom: 0;\n            margin-top: 0;\n        }\n    }\n\n    .ReactVirtualized__Table {\n        .ReactVirtualized__Table__Grid {\n            outline: none;\n        }\n\n        .ReactVirtualized__Grid__innerScrollContainer {\n            overflow: visible !important;\n        }\n\n        .ReactVirtualized__Table__row {\n            overflow: visible !important;\n            .item {\n                height: 100%;\n                padding: 10px;\n\n                ul {\n                    position: absolute !important;\n                    bottom: 200px !important;\n                    left: 0 !important;\n                    z-index: 9999 !important;\n                    height: 170px !important;\n                    width: 100% !important;\n                    transform: translate(0px, 0px) !important;\n                    display: block !important;\n\n                    li {\n                        color: #000 !important;\n                        border-bottom: 1px solid #999;\n                    }\n                }\n\n                .textarea {\n                    border: none;\n                    width: 100%;\n                    height: 100%;\n                    color: #fff;\n                    font-size: 12px;\n                    padding: 10px;\n                    text-align: center;\n                    background-color: rgba(255, 255, 255, 0.05);\n                    border: 1px solid rgba(255, 255, 255, 0.1);\n                    transition: all 0.2s ease;\n                    resize: none;\n                    outline: none;\n\n                    word-wrap: break-word;\n\n                    &.highlight {\n                        background-color: rgb(0 87 158);\n                        border: 1px solid rgba(255, 255, 255, 0.3);\n                    }\n\n                    &.illegal {\n                        background-color: rgb(123 29 0);\n                        border: 1px solid rgba(255, 255, 255, 0.3);\n                    }\n\n                    &.found {\n                        background-color: #FFFFCC;\n                        color: #000;\n                        border: 1px solid rgba(255, 255, 255, 0.3);\n                    }\n\n                    &.current-found {\n                        background-color: #FFFF33;\n                        color: #000;\n                        border: 1px solid rgba(255, 255, 255, 0.3);\n                    }\n                }\n            }\n        }\n    }\n`;\n\nexport default function SameLanguageSubtitles({\n    currentIndex,\n    subtitle,\n    setSubtitleOriginal,\n    checkSub,\n    player,\n    updateSub,\n    language,\n    setLoading,\n    subtitleEnglish,\n    formatSub,\n    setSubtitle,\n    notify,\n    isPrimary,\n    clearedSubs,\n    setClearedSubs,\n    updateSubOriginal = null,\n    clearSubs,\n    setSubtitleEnglish,\n    transcriptSource,\n    setTranscriptSource,\n    found,\n    currentFound,\n}) {\n   // console.log('at start ' + subtitle )\n    //console.log('at start ' + subtitleEnglish )\n    const [height, setHeight] = useState(100);\n    const dispatch = useDispatch();\n    // const [translate, setTranslate] = useState(null);\n    const TRANSCRIPT_TYPES = {\n        'Youtube': 'uos',\n        'AI4Bharat': 'umg',\n        'Manual Upload': 'mc'\n    }\n    \n    //change\n    const [transcribe, setTranscribe] = useState(null);\n    const transcribeReq = useRef(false);\n    const fetchError = useRef(false);\n    const [languageAvailable, setLanguageAvailable] = useState([]);\n    const languageChoices = useSelector(state => state.getTranscriptLanguages.data);\n    const Transcript = useSelector(state => state.fetchTranscript.data);\n    const GeneratedTranscript = useSelector(state => state.generateTranscript.data);\n    const APIStatus = useSelector(state => state.apiStatus);\n    const [waiting, setWaiting] = useState(false);\n\n    const saveTranscript = async () => {\n        if (subtitle?.length > 0) {\n            // setLoading(t('SAVING'));\n            console.log(subtitle, \"test\");\n            const payload = {\n                output: sub2vtt(subtitle)\n            }\n            console.log(payload)\n            const saveObj = new SaveTranscriptAPI(localStorage.getItem(\"transcript_id\"), localStorage.getItem(\"langTranscribe\"), localStorage.getItem(\"videoId\"), payload);\n            const res = await fetch(saveObj.apiEndPoint(), {\n                method: \"POST\",\n                body: JSON.stringify(saveObj.getBody()),\n                headers: saveObj.getHeaders().headers,\n                });\n            const resp = await res.json();\n            console.log(resp, \"resp\");\n            if (res.ok) {\n                localStorage.setItem('subtitleEnglish', JSON.stringify(subtitle));\n                localStorage.setItem('transcript_id', resp.id);\n                // notify({\n                //     message: 'Subtitle saved successfully', \n                //     level: 'success'});\n            } else {\n                // notify({\n                //     message: 'Subtitle could not be saved', \n                //     level: 'error'});\n            }\n            setLoading('');\n        }\n    }\n\n\n    const fetchTranscriptionLanguages = () => {\n        const langObj = new GetTranscriptLanguagesAPI();\n        dispatch(APITransport(langObj));\n    }\n\n    const fetchTranscription = () => {\n        console.log(transcriptSource, \"transcriptSource\");\n        console.log(TRANSCRIPT_TYPES[transcriptSource], \"transcriptSource\");\n        const transcriptObj = new FetchTranscriptAPI(localStorage.getItem(\"videoId\"), localStorage.getItem(\"langTranscribe\"), TRANSCRIPT_TYPES[transcriptSource], true);\n        dispatch(APITransport(transcriptObj));\n        fetchError.current = true;\n    }\n\n    const generateTranscription = () => {\n        const generateObj = new GenerateTranscriptAPI(localStorage.getItem(\"videoId\"), localStorage.getItem(\"langTranscribe\"));\n        dispatch(APITransport(generateObj));\n    }\n   \n    useEffect(() => {\n        if (localStorage.getItem('langTranscribe')) {\n            setTranscribe(localStorage.getItem('langTranscribe'));\n         } else {\n            setTranscribe('en');\n        }\n        fetchTranscriptionLanguages();\n\n        return () => {\n            saveTranscript();\n        }\n    }, []);\n\n    useEffect(() => {\n        if (subtitle?.length > 0 && !waiting) {\n            setWaiting(true);\n            setTimeout(() => {\n                setWaiting(false);\n            }, 10000);\n        }\n    }, [subtitle]);\n\n    useEffect(() => {\n        if (!waiting) {\n            saveTranscript();\n        }\n    }, [waiting]);\n\n    useEffect(() => {\n        if (languageChoices?.data) {\n            let langArray = [];\n            for (const key in languageChoices.data) {\n                langArray.push({ name: `${key}`, key: `${languageChoices.data[key]}` });\n            }\n            setLanguageAvailable(langArray);\n            localStorage.setItem('langTranscribe', langArray[0].key);\n            setTranscribe(langArray[0].key);\n        }\n    }, [languageChoices]);\n    \n    // useEffect(() => {\n    //  /*   console.log(\"languages\");\n    //         setLanguageAvailable(languages);\n    //         localStorage.setItem('lang', languages['en'][1].key);\n    //         setTranscribe(languages['en'][1].key);\n    //     */\n    //         const langObj = new GetTranscriptLanguagesAPI();\n    //         // fetch(`${process.env.REACT_APP_ASR_URL}/supported_languages`)\n    //         fetch(langObj.apiEndPoint(), {\n    //             method: \"GET\",\n    //             headers: langObj.getHeaders().headers,\n    //           })\n    //         .then((resp) => {\n    //             console.log(resp)\n    //             return resp.json();\n    //         })\n    //         .then((resp) => {\n    //             let langArray = [];\n    //             // langArray.push({ name: 'English', key: 'en' });\n    //             for (const key in resp.data) {\n    //                 langArray.push({ name: `${key}`, key: `${resp[key]}` });\n    //             }\n    //             setLanguageAvailable(langArray);\n    //             localStorage.setItem('langTranscribe', langArray[0].key);\n    //             setTranscribe(langArray[0].key);\n    //           //  console.log(\"transcribe\");\n    //             console.log(langArray);\n    //         })\n    //         .catch((err) => {\n    //             console.log(err);\n    //         });\n    // }, []);\n\n    //end of change\n    \n    //change\n    function useStickyState(defaultValue, key) {\n        const [value, setValue] = React.useState(() => {\n          const stickyValue = window.localStorage.getItem(key);\n          return stickyValue !== null\n            ? JSON.parse(stickyValue)\n            : defaultValue;\n        });\n        React.useEffect(() => {\n          window.localStorage.setItem(key, JSON.stringify(value));\n        }, [key, value]);\n        return [value, setValue];\n      }\n    \n\n    const [modeTranscribe, setModeTranscribe] = useStickyState('as', 'transcribed-view');\n\n\n    const handleBlur = (data, index) => {\n        //console.log(e.target.value);\n        \n        if (isPrimary) {\n            return;\n        }\n        googleTranslate([{ text: data.text }], localStorage.getItem('langTranscribe')).then((resp) => {\n            updateSubOriginal(data, resp[0], index);\n        });\n    }\n    /*\n    //change\n    const handleBlur = (data, index) => {\n        //console.log(e.target.value);\n        if (isPrimary) {\n            return;\n        }\n        console.log(translationApi);\n        if (translationApi === 'AI4Bharat') {\n            // return;\n            ai4BharatBatchTranslate([{ text: data.text }], 'hi', localStorage.getItem('lang')).then((resp) => {\n                updateSubOriginal(data, resp[0], index);\n            });\n        } else {\n            googleTranslate([{ text: data.text }], localStorage.getItem('lang')).then((resp) => {\n                updateSubOriginal(data, resp[0], index);\n            });\n        }\n    };\n//end of change*/\n    const resize = useCallback(() => {\n        setHeight(document.body.clientHeight - 240);\n    }, [setHeight]);\n\n    useEffect(() => {\n        resize();\n        if (!resize.init) {\n            resize.init = true;\n            const debounceResize = debounce(resize, 500);\n            window.addEventListener('resize', debounceResize);\n        }\n    }, [resize]);\n\n    const parseSubtitles = useCallback((subtitles) => {\n        console.log(subtitles);\n        const suburl = vtt2url(subtitles);\n        url2sub(suburl).then((urlsub) => {\n            setSubtitleEnglish(formatSub(urlsub));\n            localStorage.setItem('subtitleEnglish', JSON.stringify(urlsub));\n            setLoading('');\n        });\n    }, [setSubtitleEnglish, setLoading, formatSub]);\n\n    useEffect(() => {\n        console.log(Transcript, \"transcript\");\n        if (transcribeReq.current && Transcript.data?.output) {\n            transcribeReq.current = false;\n            localStorage.setItem(\"transcript_id\", Transcript.id);\n            parseSubtitles(Transcript.data.output);\n        }\n    }, [Transcript]);\n\n    useEffect(() => {\n        if (fetchError.current && APIStatus?.error) {\n            console.log(APIStatus.error, \"errror\");\n            if (transcriptSource === 'AI4Bharat') {\n                generateTranscription();\n                fetchError.current = false;\n            } else if (transcriptSource === 'Youtube') {\n                const transcriptObj = new FetchTranscriptAPI(localStorage.getItem(\"videoId\"), localStorage.getItem(\"langTranscribe\"), 'os', true);\n                dispatch(APITransport(transcriptObj));\n                fetchError.current = false;\n            } else {\n                fetchError.current = false;\n                transcribeReq.current = false;\n                setLoading('');\n            }\n        }\n    }, [APIStatus]);\n\n    useEffect(() => {\n        if (transcribeReq.current && GeneratedTranscript.data?.output) {\n            transcribeReq.current = false;\n            localStorage.setItem(\"transcript_id\", GeneratedTranscript.id);\n            parseSubtitles(GeneratedTranscript.data.output);\n        }\n    }, [GeneratedTranscript]);\n\n    console.log(GeneratedTranscript, \"generate\")\n    console.log(transcriptSource, \"transcriptSource\")\n\n//\n    const onTranscribe = useCallback(() => {\n        // console.log(localStorage.getItem('youtubeURL'));\n        // const lang = localStorage.getItem('langTranscribe');\n        setLoading(t('TRANSCRIBING'));\n        transcribeReq.current = true;\n        fetchTranscription();\n        // const youtubeURL = localStorage.getItem('youtubeURL');\n        //console.log(\"localstorage transcribe get item \" + localStorage.getItem('lang'));\n        // const data = {\n        //     url: youtubeURL,\n        //     vad_level: 2,\n        //     chunk_size: 10,\n        //     language: lang,\n        // };\n        //console.log(lang);\n        // return fetch(`${process.env.REACT_APP_ASR_URL}/transcribe`, {\n        //     method: 'POST',\n        //     headers: { 'Content-Type': 'application/json' },\n        //     body: JSON.stringify(data),\n        // })\n        //     .then((resp) => resp.json())\n        //     .then((resp) => {\n        //         //console.log(resp.output);\n        //         player.currentTime = 0;\n        //         clearSubs();\n        //         const suburl = vtt2url(resp.output);\n        //         url2sub(suburl).then((urlsub) => {\n        //             setSubtitle(formatSub(urlsub));\n        //             setSubtitleEnglish(formatSub(urlsub));\n        //             localStorage.setItem('subtitle', JSON.stringify(urlsub));\n        //             localStorage.setItem('subtitleEnglish', JSON.stringify(urlsub));\n        //         });\n        //     })\n        //     .then(() => setLoading(''))\n        //     .catch((err) => {\n        //         console.log(err);\n        //         setLoading('');\n        //         notify({\n        //             message: err.message,\n        //             level: 'error',\n        //         });\n        //     });\n    }, [setLoading, formatSub, setSubtitle, notify, clearSubs, player, setSubtitleEnglish, transcriptSource]);\n\n    // useEffect(() => {\n    //     if (localStorage.getItem('lang')) {\n    //         setTranslate(localStorage.getItem('lang'));\n    //     } else {\n    //         setTranslate('en');\n    //     }\n    // }, []);\n    /*change\n    useEffect(() => {\n        if (localStorage.getItem('lang')) {\n            setTranscribe(localStorage.getItem('lang'));\n        } else {\n            setTranscribe('en');\n        }\n    }, []);\n    end of change*/\n\n\n    return (\n        \n        // subtitle && \n        // (\n            \n            <Style className=\"subtitles\">\n               {/* {console.log('rendering')}\n                {console.log(subtitle)}\n                {console.log(subtitle.length)}\n                {console.log(subtitleEnglish)}\n                {console.log(\"subEng\" + subtitleEnglish.length)} */}\n                {isPrimary && (\n                    <div className=\"transcribe\">\n                        <div className=\"heading\">\n                            <h4>Speech-To-Text  \n                            {/* {subtitle?.length > 0 && <span title=\"Save Transcript\" className='save-btn' onClick={saveTranscript}>💾</span>} */}\n                            {subtitle?.length > 0 && <span title=\"Save Transcript\" className='save-btn' onClick={saveTranscript}>💾</span>}\n                            </h4>\n                        </div>\n                        {/* {console.log('rendering here')} */}\n                        <div className=\"options\">\n                            <select\n                               // value={transcribe == null ? '' : transcribe}\n                               value={modeTranscribe}\n                                onChange={(event) => {\n                                    setModeTranscribe(event.target.value);\n                                    localStorage.setItem('langTranscribe', event.target.value);\n                                   \n                                    //console.log(event.target.value);\n                                    //console.log('transcribed view'+localStorage.getItem('transcribed-view'));\n                                    setTranscribe(localStorage.getItem('langTranscribe'));\n                                \n                                    \n                                }}\n                            >\n                                {/* { console.log(\"transcribe \"+localStorage.getItem('langTranscribe'))} */}\n                              {/*  <option key=\"please-select\" value=\"please-select\" >Please Select</option> */}\n                                {(languageAvailable[language] || languageAvailable.en || languageAvailable).map(\n                                    (item) =>\n                                        /*item.key !== 'en' && ( */\n                                            <option key={item.key} value={item.key}>\n                                                {item.name}\n                                            </option>\n                                      /*  ), */\n                                )}\n                                \n                            </select>\n                            \n                            <div className=\"btn\" onClick={onTranscribe}>\n                                <Translate value=\"TRANSCRIBE\" />\n                            </div>\n                            {/* <span className=\"language\"> : en</span> */}\n                        </div>\n                    </div>\n                )}\n\n                {!isPrimary && (\n                    <div className=\"reference\">\n                        <h4>Reference Subtitles</h4>\n                        <span>Language : {languages['en'].filter((item) => item.key === language)[0].name}</span>\n                    </div>\n                )}\n\n                <Table\n                    headerHeight={40}\n                    width={250}\n                    height={height}\n                    rowHeight={80}\n                    scrollToIndex={currentIndex+2}\n                    rowCount={subtitleEnglish.length}\n                    rowGetter={({ index }) => subtitleEnglish[index]}\n                    headerRowRenderer={() => null}\n                    rowRenderer={(props) => {\n                        return (\n                            <div\n                                key={props.key}\n                                className={props.className}\n                                style={props.style}\n                                onClick={() => {\n                                    if (player) {\n                                        player.pause();\n                                        if (player.duration >= props.rowData.startTime) {\n                                            player.currentTime = props.rowData.startTime + 0.001;\n                                        }\n                                    }\n                                }}\n                            >\n                                <div className=\"item\">\n                                    <ReactTransliterate\n                                        className={[\n                                            'textarea',\n                                            currentIndex === props.index ? 'highlight' : '',\n                                            checkSub(props.rowData) ? 'illegal' : '',\n                                            found.includes(props.index) ? 'found' : '',\n                                            found[currentFound] === props.index ? 'current-found' : '',\n                                        ]\n                                            .join(' ')\n                                            .trim()}\n                                        value={unescape(props.rowData.text)}\n                                        spellCheck={false}\n                                        onChangeText={(event) => {\n                                           // console.log(event); //here\n                                            updateSub(props.rowData, {\n                                                text: event,\n                                            });\n                                        }}\n                                        onBlur={() => handleBlur(props.rowData, props.index)}\n                                        enabled={!(!localStorage.getItem('langTranscribe') ||\n                                            localStorage.getItem('langTranscribe') === 'en' ||\n                                            localStorage.getItem('langTranscribe') === 'en-k')}\n                                        lang={localStorage.getItem('langTranscribe')}\n                                        // lang={\n                                        //     isPrimary\n                                        //         ? localStorage.getItem('lang') === 'en-k'\n                                        //             ? 'en'\n                                        //             : localStorage.getItem('lang')\n                                        //         : 'en'\n                                        // }\n                                        maxOptions={5}\n                                        renderComponent={(props) => <textarea {...props} />}\n                                    />\n                                    {/* <textarea\n                                    maxLength={200}\n                                    spellCheck={false}\n                                    className={[\n                                        'textarea',\n                                        currentIndex === props.index ? 'highlight' : '',\n                                        checkSub(props.rowData) ? 'illegal' : '',\n                                    ]\n                                        .join(' ')\n                                        .trim()}\n                                    value={unescape(props.rowData.text)}\n                                    onChange={(event) => {\n                                        updateSub(props.rowData, {\n                                            text: event.target.value,\n                                        });\n                                    }}\n                                /> */}\n                                </div>\n                            </div>\n                        );\n                    }}\n                ></Table>\n            </Style>\n    //    )\n    );\n}\n\n","import { sleep } from '../utils';\n\nfunction translate(query = '', lang) {\n    if (!query.trim()) return Promise.resolve('');\n    const url = new URL(`${process.env.REACT_APP_NMT_URL}/lemmatize_sentence`);\n    url.searchParams.append('sentence', query);\n    url.searchParams.append('lang', 'en');\n\n    return new Promise((resolve, reject) => {\n        fetch(url.href)\n            .then((data) => data.json())\n            .then((data) => {\n                if (data) {\n                    resolve(data);\n                } else {\n                    resolve('');\n                }\n            })\n            .catch((err) => {\n                reject(err);\n            });\n    });\n}\n\nexport default async function englishKeywordsTranslate(subtitle = [], lang) {\n    return new Promise((resolve, reject) => {\n        const result = [];\n        (function loop() {\n            const item = subtitle.shift();\n            if (item) {\n                translate(item.text, lang)\n                    .then((text) => {\n                        item.text = text;\n                        result.push(item);\n                        sleep(100).then(loop);\n                    })\n                    .catch((err) => {\n                        reject(err);\n                    });\n            } else {\n                resolve(result);\n            }\n        })();\n    });\n}\n","import styled from 'styled-components';\nimport languages from '../libs/languages';\nimport React, { useState, useCallback, useEffect } from 'react';\nimport { Table } from 'react-virtualized';\nimport unescape from 'lodash/unescape';\nimport debounce from 'lodash/debounce';\nimport { ReactTransliterate } from 'react-transliterate';\nimport { t, Translate } from 'react-i18nify';\nimport englishKeywordsTranslate from '../libs/englishKeywordsTranslate';\nimport googleTranslate from '../libs/googleTranslate';\n\nconst Style = styled.div`\n    position: relative;\n    box-shadow: 0px 5px 25px 5px rgb(0 0 0 / 80%);\n    background-color: rgb(0 0 0 / 100%);\n\n    .translate {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-evenly;\n        align-items: center;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n        height: 80px;\n\n        .heading {\n            h4 {\n                margin: 0;\n            }\n        }\n\n        .options {\n            display: flex;\n            width: 90%;\n        }\n\n        select {\n            width: 65%;\n            outline: none;\n            height: 35px;\n            border-radius: 3px;\n        }\n\n        .btn {\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 100%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #673ab7;\n            transition: all 0.2s ease 0s;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n    }\n\n    .reference {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-evenly;\n        align-items: center;\n        height: 80px;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n        h4 {\n            margin-bottom: 0;\n            margin-top: 0;\n        }\n    }\n\n    .ReactVirtualized__Table {\n        .ReactVirtualized__Table__Grid {\n            outline: none;\n        }\n\n        .ReactVirtualized__Grid__innerScrollContainer {\n            overflow: visible !important;\n        }\n\n        .ReactVirtualized__Table__row {\n            overflow: visible !important;\n            .item {\n                height: 100%;\n                padding: 10px;\n\n                ul {\n                    position: absolute !important;\n                    bottom: 200px !important;\n                    left: 0 !important;\n                    z-index: 9999 !important;\n                    height: 170px !important;\n                    width: 100% !important;\n                    transform: translate(0px, 0px) !important;\n                    display: block !important;\n\n                    li {\n                        color: #000 !important;\n                        border-bottom: 1px solid #999;\n                    }\n                }\n\n                .textarea {\n                    border: none;\n                    width: 100%;\n                    height: 100%;\n                    color: #fff;\n                    font-size: 12px;\n                    padding: 10px;\n                    text-align: center;\n                    background-color: rgba(255, 255, 255, 0.05);\n                    border: 1px solid rgba(255, 255, 255, 0.1);\n                    transition: all 0.2s ease;\n                    resize: none;\n                    outline: none;\n\n                    word-wrap: break-word;\n\n                    &.highlight {\n                        background-color: rgb(0 87 158);\n                        border: 1px solid rgba(255, 255, 255, 0.3);\n                    }\n\n                    &.illegal {\n                        background-color: rgb(123 29 0);\n                        border: 1px solid rgba(255, 255, 255, 0.3);\n                    }\n                }\n            }\n        }\n    }\n`;\n\nexport default function SignLanguageSubtitles({\n    currentIndex,\n    subtitle,\n    setSubtitleOriginal,\n    checkSub,\n    player,\n    updateSub,\n    language,\n    setLoading,\n    subtitleEnglish,\n    formatSub,\n    setSubtitle,\n    notify,\n    isPrimary,\n    clearedSubs,\n    setClearedSubs,\n    updateSubOriginal = null,\n}) {\n    const [height, setHeight] = useState(100);\n    const [translate, setTranslate] = useState(null);\n\n    const handleBlur = (data, index) => {\n        //console.log(e.target.value);\n        if (isPrimary) {\n            return;\n        }\n        googleTranslate([{ text: data.text }], localStorage.getItem('lang')).then((resp) => {\n            updateSubOriginal(data, resp[0], index);\n        });\n    };\n\n    const resize = useCallback(() => {\n        setHeight(document.body.clientHeight - 240);\n    }, [setHeight]);\n\n    useEffect(() => {\n        resize();\n        if (!resize.init) {\n            resize.init = true;\n            const debounceResize = debounce(resize, 500);\n            window.addEventListener('resize', debounceResize);\n        }\n    }, [resize]);\n\n    const onTranslate = useCallback(() => {\n        setLoading(t('TRANSLATING'));\n\n        if (clearedSubs) {\n            return googleTranslate(formatSub(JSON.parse(window.localStorage.getItem('subsBeforeClear'))), 'en')\n                .then((res) => {\n                    englishKeywordsTranslate(formatSub(res), translate)\n                        .then((res) => {\n                            setLoading('');\n                            setSubtitle(formatSub(res));\n                            notify({\n                                message: t('TRANSLAT_SUCCESS'),\n                                level: 'success',\n                            });\n                        })\n                        .catch((err) => {\n                            setLoading('');\n                            notify({\n                                message: err.message,\n                                level: 'error',\n                            });\n                        });\n                })\n                .catch((err) => {\n                    setLoading('');\n                    notify({\n                        message: err.message,\n                        level: 'error',\n                    });\n                });\n        }\n\n        return googleTranslate(formatSub(subtitle), 'en')\n            .then((res) => {\n                englishKeywordsTranslate(formatSub(res), translate)\n                    .then((res) => {\n                        setLoading('');\n                        setSubtitle(formatSub(res));\n                        notify({\n                            message: t('TRANSLAT_SUCCESS'),\n                            level: 'success',\n                        });\n                    })\n                    .catch((err) => {\n                        setLoading('');\n                        notify({\n                            message: err.message,\n                            level: 'error',\n                        });\n                    });\n            })\n            .catch((err) => {\n                setLoading('');\n                notify({\n                    message: err.message,\n                    level: 'error',\n                });\n            });\n    }, [subtitle, setLoading, formatSub, setSubtitle, translate, notify, clearedSubs]);\n\n    useEffect(() => {\n        if (localStorage.getItem('lang')) {\n            setTranslate(localStorage.getItem('lang'));\n        } else {\n            setTranslate('en');\n        }\n    }, []);\n\n    return (\n        subtitle && (\n            <Style className=\"subtitles\">\n                {isPrimary && (\n                    <div className=\"translate\">\n                        <div className=\"heading\">\n                            <h4> Sign Language Subtitling</h4>\n                        </div>\n                        <div className=\"options\">\n                            <div className=\"btn\" onClick={onTranslate}>\n                                <Translate value=\"TRANSLATE\" />\n                            </div>\n                        </div>\n                    </div>\n                )}\n\n                {!isPrimary && (\n                    <div className=\"reference\">\n                        <h4>Reference Subtitles</h4>\n                        <span>Language : {languages['en'].filter((item) => item.key === language)[0].name}</span>\n                    </div>\n                )}\n\n                <Table\n                    headerHeight={40}\n                    width={250}\n                    height={height}\n                    rowHeight={80}\n                    scrollToIndex={currentIndex+2}\n                    rowCount={subtitle.length}\n                    rowGetter={({ index }) => subtitle[index]}\n                    headerRowRenderer={() => null}\n                    rowRenderer={(props) => {\n                        return (\n                            <div\n                                key={props.key}\n                                className={props.className}\n                                style={props.style}\n                                onClick={() => {\n                                    if (player) {\n                                        player.pause();\n                                        if (player.duration >= props.rowData.startTime) {\n                                            player.currentTime = props.rowData.startTime + 0.001;\n                                        }\n                                    }\n                                }}\n                            >\n                                <div className=\"item\">\n                                    <ReactTransliterate\n                                        className={[\n                                            'textarea',\n                                            currentIndex === props.index ? 'highlight' : '',\n                                            checkSub(props.rowData) ? 'illegal' : '',\n                                        ]\n                                            .join(' ')\n                                            .trim()}\n                                        value={unescape(props.rowData.text)}\n                                        spellCheck={false}\n                                        onChangeText={(event) => {\n                                            updateSub(props.rowData, {\n                                                text: event,\n                                            });\n                                        }}\n                                        onBlur={() => handleBlur(props.rowData, props.index)}\n                                        enabled={false}\n                                        lang={\n                                            isPrimary\n                                                ? localStorage.getItem('lang') === 'en-k'\n                                                    ? 'en'\n                                                    : localStorage.getItem('lang')\n                                                : 'en'\n                                        }\n                                        maxOptions={5}\n                                        renderComponent={(props) => <textarea {...props} />}\n                                    />\n                                    {/* <textarea\n                                    maxLength={200}\n                                    spellCheck={false}\n                                    className={[\n                                        'textarea',\n                                        currentIndex === props.index ? 'highlight' : '',\n                                        checkSub(props.rowData) ? 'illegal' : '',\n                                    ]\n                                        .join(' ')\n                                        .trim()}\n                                    value={unescape(props.rowData.text)}\n                                    onChange={(event) => {\n                                        updateSub(props.rowData, {\n                                            text: event.target.value,\n                                        });\n                                    }}\n                                /> */}\n                                </div>\n                            </div>\n                        );\n                    }}\n                ></Table>\n            </Style>\n        )\n    );\n}\n","import \"../utils/Login.css\";\nimport { ReactTransliterate } from 'react-transliterate';\n\nconst FindAndReplace = ({ \n    showFindAndReplace,\n    setShowFindAndReplace,\n    find,\n    setFind,\n    replace,\n    setReplace,\n    found,\n    setFound,\n    handleReplace,\n    handleReplaceAll,\n    handleFind,\n    currentFound,\n    setCurrentFound,\n    configuration,\n }) => {\n\n    const handleClose = () => {\n        setShowFindAndReplace(false);\n        setFind(\"\");\n        setReplace(\"\");\n        setFound([]);\n        setCurrentFound();\n    }\n\n  return (\n    <div className={`${showFindAndReplace ? \"\" : \"active\"} show`}>\n      <div className=\"login-form\">\n        <div className=\"form-box solid\">\n          <button type=\"button\" className=\"close-btn\" onClick={handleClose}>x</button>\n          <form className=\"login-form-form\">\n            <h1 className=\"login-text\">Find and Replace</h1>\n            <label>Find</label>\n            <br></br>\n            <ReactTransliterate\n                className=\"login-box\"\n                value={find}\n                spellCheck={false}\n                onChangeText={(event) => {\n                    setFind(event);\n                }}\n                lang={configuration === \"Subtitling\" ? localStorage.getItem('langTranslate') : localStorage.getItem('langTranscribe')}\n                enabled={\n                  configuration === \"Subtitling\"\n                    ? !(!localStorage.getItem('langTranslate') ||\n                        localStorage.getItem('langTranslate') === 'en' ||\n                        localStorage.getItem('langTranslate') === 'en-k')\n                    : !(!localStorage.getItem('langTranscribe') ||\n                        localStorage.getItem('langTranscribe') === 'en' ||\n                        localStorage.getItem('langTranscribe') === 'en-k')\n                }\n                maxOptions={5}\n                rows={1}\n                renderComponent={(props) => <textarea {...props} />}\n            />\n            {/* <input type=\"text\" className=\"login-box\" value={find} onChange={(e) => setFind(e.currentTarget.value)} /> */}\n            <br></br>\n            <button type=\"button\" className=\"login-btn\" onClick={handleFind}>Find</button>\n            {currentFound !== null && found.length >0 && <div className=\"found-toggle\">\n              <p className=\"found-num\">{currentFound+1} / {found.length}</p>\n              <button type=\"button\" className=\"login-btn\" onClick={() => setCurrentFound(currentFound-1)} disabled={currentFound === 0}>Prev</button>\n              <button type=\"button\" className=\"login-btn\" onClick={() => setCurrentFound(currentFound+1)} disabled={currentFound === found.length - 1}>Next</button>\n            </div>}\n            <label>Replace</label>\n            <br></br>\n            <ReactTransliterate\n                className=\"login-box\"\n                value={replace}\n                spellCheck={false}\n                onChangeText={(event) => {\n                    setReplace(event);\n                }}\n                lang={configuration === \"Subtitling\" ? localStorage.getItem('langTranslate') : localStorage.getItem('langTranscribe')}\n                enabled={\n                  configuration === \"Subtitling\"\n                    ? !(!localStorage.getItem('langTranslate') ||\n                        localStorage.getItem('langTranslate') === 'en' ||\n                        localStorage.getItem('langTranslate') === 'en-k')\n                    : !(!localStorage.getItem('langTranscribe') ||\n                        localStorage.getItem('langTranscribe') === 'en' ||\n                        localStorage.getItem('langTranscribe') === 'en-k')\n                }\n                maxOptions={5}\n                rows={1}\n                renderComponent={(props) => <textarea {...props} />}\n            />\n            {/* <input type=\"text\" className=\"login-box\" value={replace} onChange={(e) => setReplace(e.currentTarget.value)}/> */}\n            <br></br>\n            <div className=\"found-toggle\">\n              <button type=\"button\" className=\"login-btn\" onClick={handleReplace} disabled={found.length === 0}>Replace</button>\n              <button type=\"button\" className=\"login-btn\" onClick={handleReplaceAll} disabled={found.length === 0}>Replace All</button>\n            </div>\n          </form> \n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FindAndReplace;\n","import React, { useState, useEffect, useCallback, useMemo, useRef } from 'react';\nimport NotificationSystem from 'react-notification-system';\nimport DT from 'duration-time-conversion';\nimport isEqual from 'lodash/isEqual';\nimport styled from 'styled-components';\nimport Tool from './components/Tool';\nimport Subtitles from './components/Subtitles';\nimport Player from './components/Player';\nimport Footer from './components/Footer';\nimport Loading from './components/Loading';\nimport ProgressBar from './components/ProgressBar';\nimport Links from './components/Links';\nimport LoginForm from './components/Login';\n// import BottomLinks from './components/BottomLinks';\nimport { getKeyCode } from './utils';\nimport Sub from './libs/Sub';\nimport SameLanguageSubtitles from './components/SameLanguageSubtitle';\nimport SignLanguageSubtitles from './components/SignLanguageSubtitle';\nimport FindAndReplace from './components/FindAndReplace';\n// import { ScrollSync, ScrollSyncPane } from 'react-scroll-sync';\nimport debounce from 'lodash/debounce';\n\nconst Style = styled.div`\n    height: 100%;\n    width: 100%;\n\n    .main {\n        display: flex;\n        height: calc(100% - 200px);\n\n        .main-center {\n            flex: 1;\n            display: flex;\n            flex-direction: column;\n\n            .header {\n                display: flex;\n                flex-direction: row;\n                justify-content: space-between;\n            }\n            \n            .player {\n                flex: 1;\n            }\n        }\n\n        .subtitles {\n            width: 250px;\n            max-width: 32vw;\n        }\n\n        .tool {\n            width: 300px;\n        }\n    }\n\n    .footer {\n        height: 200px;\n    }\n`;\n\nexport default function App({ defaultLang }) {\n    const subtitleHistory = useRef([]);\n    const notificationSystem = useRef(null);\n    const [player, setPlayer] = useState(null);\n    const [loading, setLoading] = useState('');\n    const [processing, setProcessing] = useState(0);\n    const [language, setLanguage] = useState(defaultLang);\n    const [subtitle, setSubtitleOriginal] = useState([]);\n    const [subtitleEnglish, setSubtitleEnglish] = useState([]);\n    const [waveform, setWaveform] = useState(null);\n    const [playing, setPlaying] = useState(false);\n    const [currentTime, setCurrentTime] = useState(0);\n    const [currentIndex, setCurrentIndex] = useState(-1);\n    const [clearedSubs, setClearedSubs] = useState(false);\n    const [subsBeforeClear, setSubsBeforeClear] = useState([]);\n    const [configuration, setConfiguration] = useState('');\n    const [enableConfiguration, setEnableConfiguration] = useState(false);\n    const [isSetVideo, setIsSetVideo] = useState(false);\n    const [isSetConfiguration, setIsSetConfiguration] = useState(false);\n    const [showLogin, setShowLogin] = useState(false);\n    // const [translationApi, setTranslationApi] = useState('AI4Bharat');\n    const [isTranslateClicked, setIsTranslateClicked] = useState(false);\n    const [height, setHeight] = useState(100);\n    const [transcriptSource, setTranscriptSource] = useState('AI4Bharat');\n    const [showFindAndReplace, setShowFindAndReplace] = useState(false);\n    const [find, setFind] = useState('');\n    const [replace, setReplace] = useState('');\n    const [found, setFound] = useState([]);\n    const [currentFound, setCurrentFound] = useState();\n\n    const newSub = useCallback((item) => new Sub(item), []);\n    const hasSub = useCallback((sub) => subtitle.indexOf(sub), [subtitle]);\n    const hasSubEnglish = useCallback((sub) => subtitleEnglish.indexOf(sub), [subtitleEnglish]);\n\n    const resize = useCallback(() => {\n            setHeight(document.body.clientHeight - 240);\n        }, [setHeight]);\n    \n    useEffect(() => {\n        resize();\n        if (!resize.init) {\n            resize.init = true;\n            const debounceResize = debounce(resize, 500);\n            window.addEventListener('resize', debounceResize);\n        }\n    }, [resize]);\n\n    const formatSub = useCallback(\n        (sub) => {\n            if (Array.isArray(sub)) {\n                return sub.map((item) => newSub(item));\n            }\n            return newSub(sub);\n        },\n        [newSub],\n    );\n\n    const copySubs = useCallback(() => formatSub(subtitle), [subtitle, formatSub]);\n    const copySubsEnglish = useCallback(() => formatSub(subtitleEnglish), [subtitleEnglish, formatSub]);\n   //const copySubsEnglish = useCallback(() => formatSub(subtitle), [subtitle, formatSub]);\n    // useEffect(() => {\n    //     //localStorage.setItem('lang', 'en');\n\n    //     if (localStorage.getItem('videoSrc') === null) {\n    //         localStorage.setItem('videoSrc', '/sample.mp4');\n    //     }\n    // }, []);\n\n    const setSubtitle = useCallback(\n        (newSubtitle, saveToHistory = true) => {\n            if (!isEqual(newSubtitle, subtitle)) {\n                if (saveToHistory) {\n                    if (subtitleHistory.current.length >= 1000) {\n                        subtitleHistory.current.shift();\n                    }\n                    subtitleHistory.current.push(formatSub(subtitle));\n                }\n                window.localStorage.setItem('subtitle', JSON.stringify(newSubtitle));\n                setSubtitleOriginal(newSubtitle);\n               // setSubtitleEnglish(newSubtitle);\n                \n            }\n        },\n        [subtitle, setSubtitleOriginal, formatSub],\n    );\n\n    const undoSubs = useCallback(() => {\n        const subs = subtitleHistory.current.pop();\n        if (subs) {\n            setSubtitle(subs, false);\n        }\n    }, [setSubtitle, subtitleHistory]);\n\n    const clearSubs = useCallback(() => {\n        setSubtitle([]);\n        subtitleHistory.current.length = 0;\n    }, [setSubtitle, subtitleHistory]);\n\n    // const clearSubsEnglish = useCallback(() => {\n    //     localStorage.removeItem('subtitleEnglish');\n    //     setSubtitleEnglish([]);\n    // }, [setSubtitleEnglish]); //maybe here\n\n    const clearSubsEnglish = useCallback(() => {\n        setSubtitleEnglish([]);\n        subtitleHistory.current.length = 0;\n    }, [setSubtitleEnglish, subtitleHistory]);\n    \n\n    const checkSub = useCallback(\n        (sub) => {\n            const index = hasSub(sub);\n            if (index < 0) return;\n            const previous = subtitle[index - 1];\n            return (previous && sub.startTime < previous.endTime) || !sub.check || sub.duration < 0.2;\n        },\n        [subtitle, hasSub],\n    );\n\n    const notify = useCallback(\n        (obj) => {\n            // https://github.com/igorprado/react-notification-system\n            const notification = notificationSystem.current;\n            notification.clearNotifications();\n            notification.addNotification({\n                position: 'tc',\n                dismissible: 'none',\n                autoDismiss: 2,\n                message: obj.message,\n                level: obj.level,\n            });\n        },\n        [notificationSystem],\n    );\n\n    const removeSub = useCallback(\n        (sub) => {\n            const index = hasSub(sub);\n            const index2 = hasSubEnglish(sub);\n            console.log(subtitleEnglish)\n            console.log(index, index2);\n            if (index >= 0){\n                const subs = copySubs();\n                subs.splice(index, 1);\n                setSubtitle(subs);\n            }\n            if ((index >=0 || index2 >= 0) && subtitleEnglish) {\n                console.log('here');\n                const subsEnglish = copySubsEnglish();\n                subsEnglish.splice(index >= 0 ? index : index2, 1);\n                console.log(subsEnglish);\n                setSubtitleEnglish(subsEnglish);\n                localStorage.setItem('subtitleEnglish', JSON.stringify(subsEnglish));\n            }\n        },\n        [hasSub, copySubs, setSubtitle, copySubsEnglish, subtitleEnglish],\n    );\n\n    const addSub = useCallback(\n        (index, sub) => {\n            const subs = copySubs();\n            subs.splice(index, 0, formatSub(sub));\n            setSubtitle(subs);\n            if (subtitleEnglish) {\n                const subsEnglish = copySubsEnglish();\n                subsEnglish.splice(index, 0, formatSub(sub));\n                setSubtitleEnglish(subsEnglish);\n                localStorage.setItem('subtitleEnglish', JSON.stringify(subsEnglish));\n            }\n        },\n        [copySubs, setSubtitle, formatSub, copySubsEnglish, subtitleEnglish],\n    );\n\n    const updateSub = useCallback(\n        (sub, obj) => {\n            const index = hasSub(sub);\n            if (index < 0) return;\n            const subs = copySubs();\n            const subClone = formatSub(sub);\n            Object.assign(subClone, obj);\n            if (subClone.check) {\n                subs[index] = subClone;\n                setSubtitle(subs);\n            }\n        },\n        [hasSub, copySubs, setSubtitle, formatSub],\n    );\n    const updateSubEnglish = useCallback(\n        (sub, obj) => {\n            const index = hasSubEnglish(sub);\n            if (index < 0) return;\n            const subs = copySubsEnglish();\n            const subClone = formatSub(sub);\n            Object.assign(subClone, obj);\n            if (subClone.check) {\n                subs[index] = subClone;\n                setSubtitleEnglish(subs);\n            }\n        },\n        [hasSubEnglish, copySubsEnglish, setSubtitleEnglish, formatSub],\n    );\n\n    const updateSubTranslate = useCallback(\n        (sub, obj, index) => {\n            const subs = copySubs();\n            const subClone = formatSub(sub);\n            Object.assign(subClone, obj);\n            if (subClone.check) {\n                subs[index] = subClone;\n                setSubtitle(subs);\n            }\n        },\n        [copySubs, setSubtitle, formatSub],\n    );\n\n    const mergeSub = useCallback(\n        (sub) => {\n            const index = hasSub(sub);\n            const index2 = hasSubEnglish(sub);\n            if (index >= 0) {\n                const subs = copySubs();\n                const next = subs[index + 1];\n                if (next) {\n                    const merge = newSub({\n                        start: sub.start,\n                        end: next.end,\n                        text: sub.text.trim() + '\\n' + next.text.trim(),\n                    });\n                    subs[index] = merge;\n                    subs.splice(index + 1, 1);\n                    setSubtitle(subs);\n                }\n            }\n            if ((index >=0 || index2 >= 0) && subtitleEnglish) {\n                const subsEnglish = copySubsEnglish();\n                const nextEnglish = subsEnglish[index >= 0 ? index + 1 : index2 + 1];\n                if (!nextEnglish) return;\n                const mergeEnglish = newSub({\n                    start: sub.start,\n                    end: nextEnglish.end,\n                    text: subsEnglish[index >= 0 ? index : index2].text.trim() + '\\n' + nextEnglish.text.trim(),\n                });\n                subsEnglish[index >= 0 ? index : index2] = mergeEnglish;\n                subsEnglish.splice(index >= 0 ? index + 1 : index2 + 1, 1);\n                setSubtitleEnglish(subsEnglish);\n                localStorage.setItem('subtitleEnglish', JSON.stringify(subsEnglish));\n            }\n        },\n        [hasSub, copySubs, setSubtitle, newSub, copySubsEnglish, subtitleEnglish],\n    );\n\n    const splitSub = useCallback(\n        (sub, start) => {\n            const index = hasSub(sub);\n            const index2 = hasSubEnglish(sub);\n            if ((index < 0 && index2 < 0) || !sub.text || !start) return;\n            // if (index >= 0) {\n            // const subs = copySubs();\n            // const text1 = sub.text.slice(0, start).trim();\n            // const text2 = sub.text.slice(start).trim();\n            // if (!text1 || !text2) return;\n            // const splitDuration = (sub.duration * (start / sub.text.length)).toFixed(3);\n            // if (splitDuration < 0.2 || sub.duration - splitDuration < 0.2) return;\n            // subs.splice(index, 1);\n            // const middleTime = DT.d2t(sub.startTime + parseFloat(splitDuration));\n            // subs.splice(\n            //     index,\n            //     0,\n            //     newSub({\n            //         start: sub.start,\n            //         end: middleTime,\n            //         text: text1,\n            //     }),\n            // );\n            // subs.splice(\n            //     index + 1,\n            //     0,\n            //     newSub({\n            //         start: middleTime,\n            //         end: sub.end,\n            //         text: text2,\n            //     }),\n            // );\n            // setSubtitle(subs);\n            // }\n            if (index2 >= 0) {\n                const subsEnglish = copySubsEnglish();\n                const text1 = sub.text.slice(0, start).trim();\n                const text2 = sub.text.slice(start).trim();\n                if (!text1 || !text2) return;\n                const splitDuration = (sub.duration * (start / sub.text.length)).toFixed(3);\n                if (splitDuration < 0.2 || sub.duration - splitDuration < 0.2) return;\n                subsEnglish.splice(index2, 1);\n                const middleTime = DT.d2t(sub.startTime + parseFloat(splitDuration));\n                subsEnglish.splice(\n                    index2,\n                    0,\n                    newSub({\n                        start: sub.start,\n                        end: middleTime,\n                        text: text1,\n                    }),\n                );\n                subsEnglish.splice(\n                    index2 + 1,\n                    0,\n                    newSub({\n                        start: middleTime,\n                        end: sub.end,\n                        text: text2,\n                    }),\n                );\n                setSubtitleEnglish(subsEnglish);\n                localStorage.setItem('subtitleEnglish', JSON.stringify(subsEnglish));\n            }\n        },\n        [hasSub, hasSubEnglish, copySubs, copySubsEnglish, setSubtitle, setSubtitleEnglish, newSub],\n    );\n\n    const onKeyDown = useCallback(\n        (event) => {\n            const keyCode = getKeyCode(event);\n            switch (keyCode) {\n                case 32:\n                    event.preventDefault();\n                    if (player) {\n                        if (playing) {\n                            player.pause();\n                        } else {\n                            player.play();\n                        }\n                    }\n                    break;\n                case 90:\n                    event.preventDefault();\n                    if (event.metaKey) {\n                        undoSubs();\n                    }\n                    break;\n                case 70:\n                    event.preventDefault();\n                    if (event.ctrlKey && (configuration === 'Subtitling' || configuration === 'Same Language Subtitling')) {\n                        event.preventDefault();\n                        player?.pause();\n                        setShowFindAndReplace(true);\n                    }\n                    break;\n                default:\n                    break;\n            }\n        },\n        [player, playing, undoSubs, configuration],\n    );\n\n    const handleFind = () => {\n        let foundIndices = [];\n        if (configuration === 'Subtitling') {\n            for (let i = 0; i < subtitle.length; i++) {\n                const sub = subtitle[i];\n                if (sub.text.toLowerCase().includes(find.toLowerCase())) {\n                    foundIndices.push(i);\n                }\n            }\n        } else if (configuration === 'Same Language Subtitling') {\n            for (let i = 0; i < subtitleEnglish.length; i++) {\n                const sub = subtitleEnglish[i];\n                if (sub.text.toLowerCase().includes(find.toLowerCase())) {\n                    foundIndices.push(i);\n                }\n            }\n        }\n        setFound(foundIndices);\n        if (foundIndices.length > 0) {\n            setCurrentFound(0);\n        }\n    }\n\n    const handleReplace = () => {\n        if (currentFound < 0 || currentFound >= found.length) return;\n        const index = found[currentFound];\n        const sub = configuration === 'Subtitling' ? subtitle[index] : subtitleEnglish[index];\n        const text = sub.text.replace(new RegExp(find, 'gi'), replace);\n        if (configuration === 'Subtitling') {\n            const subs = copySubs();\n            subs[index].text = text;\n            setSubtitle(subs);\n        } else if (configuration === 'Same Language Subtitling') {\n            const subs = copySubsEnglish();\n            subs[index].text = text;\n            setSubtitleEnglish(subs);\n        }\n        setCurrentFound(currentFound + 1);\n        setFound(found.filter((i) => i !== index));\n    }\n\n    const handleReplaceAll = () => {\n        if (found.length === 0) return;\n        if (configuration === 'Subtitling') {\n            const subs = copySubs();\n            for (let i = 0; i < found.length; i++) {\n                const index = found[i];\n                subs[index].text = subtitle[index].text.replace(new RegExp(find, 'gi'), replace);\n            }\n            setSubtitle(subs);\n        } else if (configuration === 'Same Language Subtitling') {\n            const subs = copySubsEnglish();\n            for (let i = 0; i < found.length; i++) {\n                const index = found[i];\n                subs[index].text = subtitleEnglish[index].text.replace(new RegExp(find, 'gi'), replace);\n            }\n            setSubtitleEnglish(subs);\n        }\n        setFound([]);\n        setCurrentFound();\n    }\n\n    useEffect(() => {\n        window.addEventListener('keydown', onKeyDown);\n        return () => window.removeEventListener('keydown', onKeyDown);\n    }, [onKeyDown]);\n\n    useMemo(() => {\n        const currentIndex = configuration === 'Subtitling' ? \n        subtitle.findIndex((item) => item.startTime <= currentTime && item.endTime > currentTime)\n        : subtitleEnglish.findIndex((item) => item.startTime <= currentTime && item.endTime > currentTime);\n        setCurrentIndex(currentIndex);\n    }, [currentTime, subtitle]);\n\n    useEffect(() => {\n        // console.log(subtitle);\n        // console.log(translationApi);\n        const localSubtitleString = window.localStorage.getItem('subtitle');\n     //   console.log(localSubtitleString)\n        const localSubtitleEnglish = window.localStorage.getItem('subtitleEnglish');\n      //  console.log(localSubtitleEnglish)\n        // const fetchSubtitle = () =>\n        //     fetch('/sample.json')\n        //         .then((res) => res.json())\n        //         .then((res) => {\n        //             setSubtitleOriginal(res.map((item) => new Sub(item)));\n        //         });\n\n        if (localSubtitleString) {\n     \n            try {\n                const localSubtitle = JSON.parse(localSubtitleString);\n                if (localSubtitle.length) {\n                    setSubtitleOriginal(localSubtitle.map((item) => new Sub(item)));\n                } else {\n                    // fetchSubtitle();\n                }\n            } catch (error) {\n                // fetchSubtitle();\n            }\n        } else {\n            // fetchSubtitle();\n        }\n        if (localSubtitleEnglish) {\n      \n            try {\n                const localSubtitle = JSON.parse(localSubtitleEnglish);\n                if (localSubtitle.length) {\n                    setSubtitleEnglish(localSubtitle.map((item) => new Sub(item)));\n                    \n                } else {\n                    setSubtitleEnglish([]);\n                }\n            } catch (error) {\n                setSubtitleEnglish([]);\n            }\n        } else {\n            // fetchSubtitle();\n        }\n    }, [setSubtitleOriginal, setSubtitleEnglish]);\n\n    const props = {\n        player,\n        setPlayer,\n        subtitle,\n        setSubtitle,\n        waveform,\n        setWaveform,\n        currentTime,\n        setCurrentTime,\n        currentIndex,\n        setCurrentIndex,\n        playing,\n        setPlaying,\n        language,\n        setLanguage,\n        loading,\n        setLoading,\n        setProcessing,\n        subtitleHistory,\n        subtitleEnglish,\n        setSubtitleEnglish,\n        notify,\n        newSub,\n        hasSub,\n        checkSub,\n        removeSub,\n        addSub,\n        undoSubs,\n        clearSubs,\n        updateSub,\n        formatSub,\n        mergeSub,\n        splitSub,\n        clearSubsEnglish,\n        updateSubEnglish,\n        setSubtitleOriginal,\n        clearedSubs,\n        setClearedSubs,\n        subsBeforeClear,\n        setSubsBeforeClear,\n        configuration,\n        setConfiguration,\n        updateSubTranslate,\n        enableConfiguration,\n        setEnableConfiguration,\n        isSetVideo,\n        setIsSetVideo,\n        isSetConfiguration,\n        setIsSetConfiguration,\n        // translationApi,\n        // setTranslationApi,\n        isTranslateClicked,\n        setIsTranslateClicked,\n        transcriptSource,\n        setTranscriptSource,\n        showFindAndReplace,\n        setShowFindAndReplace,\n        find,\n        setFind,\n        replace,\n        setReplace,\n        found,\n        setFound,\n        handleReplace,\n        handleReplaceAll,\n        handleFind,\n        currentFound,\n        setCurrentFound,\n    };\n\n    return (\n        \n        <Style>\n     \n            <div className=\"main\">\n                <div className=\"main-center\">\n                    <div className=\"header\">\n                        <Links />\n                        <div style={{zIndex: 200}}>\n                            {localStorage.getItem(\"user_id\") ? \n                                <div>\n                                    <div className=\"user-details\">\n                                        <div className='user-initials'>{localStorage.getItem(\"first_name\")?.charAt(0).toUpperCase()}{localStorage.getItem(\"last_name\")?.charAt(0).toUpperCase()}</div>\n                                    </div>\n                                    <ul className='user-menu'>\n                                        <li onClick={() => {localStorage.clear(); window.location.reload()}}>Logout</li>\n                                    </ul>\n                                </div> \n                                : \n                                <span onClick={() => setShowLogin(!showLogin)} className=\"loginicon\">\n                                    Sign In\n                                </span>}\n                        </div>\n                    </div>\n                    <Player {...props} />\n                </div>\n                {configuration === '' && <></>}\n                {configuration === 'Subtitling' && (\n                    <div className={{overflow: 'visible'}}>\n                       {/* <Subtitles\n                            currentIndex={props.currentIndex}\n                            subtitle={props.subtitleEnglish}\n                            checkSub={props.checkSub}\n                            player={props.player}\n                            updateSub={props.updateSubEnglish}\n                            language={props.language}\n                            setLanguage={props.setLanguage}\n                            setLoading={props.setLoading}\n                            subtitleEnglish={props.subtitleEnglish}\n                            formatSub={props.formatSub}\n                            setSubtitle={props.setSubtitle}\n                            notify={props.notify}\n                            isPrimary={false}\n                            configuration={props.configuration}\n                            setConfiguration={props.setConfiguration}\n                            updateSubOriginal={props.updateSubTranslate}\n                            translationApi={props.translationApi}\n                />*/}\n                        {/* here */}\n                  \n                        {/* <ScrollSync>\n                            <div style={{ display: 'flex', position: 'relative', height:`90%`}}>\n                                <ScrollSyncPane>\n                                    <div style={{overflow: 'auto'}}>\n                                            <Subtitles\n                                            currentIndex={props.currentIndex}\n                                            subtitle={props.subtitleEnglish} //changed from subtitleEnglish to subtitle\n                                            checkSub={props.checkSub}\n                                            player={props.player}\n                                            updateSub={props.updateSubEnglish} \n                                            language={props.language}\n                                            setLanguage={props.setLanguage}\n                                            setLoading={props.setLoading}\n                                            subtitleEnglish={props.subtitleEnglish}\n                                            formatSub={props.formatSub}\n                                            setSubtitle={props.setSubtitle}\n                                            notify={props.notify}\n                                            isPrimary={false}\n                                            configuration={props.configuration}\n                                            setConfiguration={props.setConfiguration}\n                                            updateSubOriginal={props.updateSubTranslate}\n                                            translationApi={props.translationApi}\n                                            />\n                                    </div>\n                                </ScrollSyncPane>\n                                <ScrollSyncPane>\n                                    <div style={{overflow: 'auto'}}>\n                                        <Subtitles\n                                            currentIndex={props.currentIndex}\n                                            subtitle={props.subtitle} //subtitle to subtitleEnglish?\n                                            checkSub={props.checkSub}\n                                            player={props.player}\n                                            updateSub={props.updateSub}\n                                            language={props.language}\n                                            setLanguage={props.setLanguage}\n                                            setLoading={props.setLoading}\n                                            subtitleEnglish={props.subtitleEnglish}\n                                            formatSub={props.formatSub}\n                                            setSubtitle={props.setSubtitle}\n                                            notify={props.notify}\n                                            isPrimary={true}\n                                            clearedSubs={props.clearedSubs} //extra\n                                            setClearedSubs={props.setClearedSubs} //extra\n                                            setSubtitleOriginal={props.setSubtitleOriginal} //extra\n                                            configuration={props.configuration}\n                                            setConfiguration={props.setConfiguration}\n                                            translationApi={props.translationApi}\n                                            isTranslateClicked={props.isTranslateClicked} //added\n                                            setIsTranslateClicked={props.setIsTranslateClicked} //added\n                                        />\n                                    </div>\n                                </ScrollSyncPane>\n                            </div>\n                         </ScrollSync> */}\n                          {/* <ScrollSync> */}\n                            <div style={{ display: 'flex', position: 'relative', height:`90%`, zIndex: \"200\"}}>\n                         <Subtitles\n                                            currentIndex={props.currentIndex}\n                                            subtitle={props.subtitleEnglish} //changed from subtitleEnglish to subtitle\n                                            checkSub={props.checkSub}\n                                            player={props.player}\n                                            updateSub={props.updateSubEnglish} \n                                            language={props.language}\n                                            setLanguage={props.setLanguage}\n                                            setLoading={props.setLoading}\n                                            subtitleEnglish={props.subtitleEnglish}\n                                            formatSub={props.formatSub}\n                                            setSubtitle={props.setSubtitle}\n                                            notify={props.notify}\n                                            isPrimary={false}\n                                            configuration={props.configuration}\n                                            setConfiguration={props.setConfiguration}\n                                            updateSubOriginal={props.updateSubTranslate}\n                                            // translationApi={props.translationApi}\n                                            found={props.found}\n                                            currentFound={props.currentFound}\n                                            />\n                                            <Subtitles\n                                            currentIndex={props.currentIndex}\n                                            subtitle={props.subtitle} //subtitle to subtitleEnglish?\n                                            checkSub={props.checkSub}\n                                            player={props.player}\n                                            updateSub={props.updateSub}\n                                            language={props.language}\n                                            setLanguage={props.setLanguage}\n                                            setLoading={props.setLoading}\n                                            subtitleEnglish={props.subtitleEnglish}\n                                            formatSub={props.formatSub}\n                                            setSubtitle={props.setSubtitle}\n                                            notify={props.notify}\n                                            isPrimary={true}\n                                            clearedSubs={props.clearedSubs} //extra\n                                            setClearedSubs={props.setClearedSubs} //extra\n                                            setSubtitleOriginal={props.setSubtitleOriginal} //extra\n                                            configuration={props.configuration}\n                                            setConfiguration={props.setConfiguration}\n                                            // translationApi={props.translationApi}\n                                            isTranslateClicked={props.isTranslateClicked} //added\n                                            setIsTranslateClicked={props.setIsTranslateClicked} //added\n                                            found={props.found}\n                                            currentFound={props.currentFound}\n                                        />\n                                        </div>\n                         {/* </ScrollSync> */}\n                    </div>\n                )}\n\n                {configuration === 'Sign Language Subtitling' && (\n                    <>\n                        <SignLanguageSubtitles\n                            currentIndex={props.currentIndex}\n                            subtitle={props.subtitleEnglish}\n                            checkSub={props.checkSub}\n                            player={props.player}\n                            updateSub={props.updateSubEnglish}\n                            language={props.language}\n                            setLanguage={props.setLanguage}\n                            setLoading={props.setLoading}\n                            subtitleEnglish={props.subtitleEnglish}\n                            formatSub={props.formatSub}\n                            setSubtitle={props.setSubtitle}\n                            notify={props.notify}\n                            isPrimary={false}\n                            configuration={props.configuration}\n                            setConfiguration={props.setConfiguration}\n                            updateSubOriginal={props.updateSubTranslate}\n                        />\n                        <SignLanguageSubtitles\n                            currentIndex={props.currentIndex}\n                            subtitle={props.subtitle}\n                            checkSub={props.checkSub}\n                            player={props.player}\n                            updateSub={props.updateSub}\n                            language={props.language}\n                            setLanguage={props.setLanguage}\n                            setLoading={props.setLoading}\n                            subtitleEnglish={props.subtitleEnglish}\n                            formatSub={props.formatSub}\n                            setSubtitle={props.setSubtitle}\n                            notify={props.notify}\n                            isPrimary={true}\n                            clearedSubs={props.clearedSubs}\n                            setClearedSubs={props.setClearedSubs}\n                            setSubtitleOriginal={props.setSubtitleOriginal}\n                            configuration={props.configuration}\n                            setConfiguration={props.setConfiguration}\n                        />\n                    </>\n                )}\n\n                {configuration === 'Same Language Subtitling' && (\n                    <>\n                   {/* original same lang subtitle config */}\n                        {/* <SameLanguageSubtitles\n                            currentIndex={props.currentIndex}\n                            subtitle={props.subtitle}\n                            checkSub={props.checkSub}\n                            player={props.player}\n                            updateSub={props.updateSub}\n                            language={props.language}\n                            setLanguage={props.setLanguage}\n                            setLoading={props.setLoading}\n                            subtitleEnglish={props.subtitleEnglish}\n                            formatSub={props.formatSub}\n                            setSubtitle={props.setSubtitle}\n                            notify={props.notify}\n                            isPrimary={true}\n                            clearedSubs={props.clearedSubs}\n                            setClearedSubs={props.setClearedSubs}\n                            setSubtitleOriginal={props.setSubtitleOriginal}\n                            configuration={props.configuration}\n                            setConfiguration={props.setConfiguration}\n                            clearSubs={props.clearSubs}\n                            setSubtitleEnglish={props.setSubtitleEnglish}\n                            \n                        /> */}\n    \n                        {/* final */}\n                        <SameLanguageSubtitles\n                            currentIndex={props.currentIndex}\n                            subtitle={props.subtitleEnglish} //here\n                            checkSub={props.checkSub}\n                            player={props.player}\n                            updateSub={props.updateSubEnglish} //here\n                            language={props.language}\n                            setLanguage={props.setLanguage}\n                            setLoading={props.setLoading}\n                            subtitleEnglish={props.subtitleEnglish} //change\n                            formatSub={props.formatSub}\n                            setSubtitle={props.setSubtitle}\n                            notify={props.notify}\n                            isPrimary={true}\n                            clearedSubs={props.clearedSubs}\n                            setClearedSubs={props.setClearedSubs}\n                            setSubtitleOriginal={props.setSubtitleOriginal}\n                            configuration={props.configuration}\n                            setConfiguration={props.setConfiguration}\n                            clearSubs={props.clearSubs}\n                            setSubtitleEnglish={props.setSubtitleEnglish}\n                            updateSubOriginal={props.updateSubTranslate}\n                            // translationApi={props.translationApi}\n                            transcriptSource={props.transcriptSource}\n                            setTranscriptSource={props.setTranscriptSource}\n                            found={props.found}\n                            currentFound={props.currentFound}\n                        />\n                    </>\n                )}\n                <LoginForm showLogin={showLogin} setShowLogin={setShowLogin}/>\n                <Tool {...props} />\n                <FindAndReplace\n                    find={props.find}\n                    replace={props.replace}\n                    found={props.found}\n                    setFind={props.setFind}\n                    setReplace={props.setReplace}\n                    setFound={props.setFound}\n                    showFindAndReplace={props.showFindAndReplace}\n                    setShowFindAndReplace={props.setShowFindAndReplace}\n                    handleReplace={props.handleReplace}\n                    handleReplaceAll={props.handleReplaceAll}\n                    handleFind={props.handleFind}\n                    currentFound={props.currentFound}\n                    setCurrentFound={props.setCurrentFound}\n                    configuration={props.configuration}\n                />\n            </div>\n            {isSetVideo && <Footer {...props} />}\n            {loading ? <Loading loading={loading} /> : null}\n            {processing > 0 && processing < 100 ? <ProgressBar processing={processing} /> : null}\n            <NotificationSystem ref={notificationSystem} allowHTML={true} />\n            {/* <BottomLinks /> */}\n        </Style>\n    );\n}\n","import styled from 'styled-components';\nimport { Translate } from 'react-i18nify';\n\nconst Style = styled.div`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n    width: 100%;\n`;\n\nexport default function Mobile() {\n    return (\n        <Style>\n            <Translate value=\"MOBILE_TIP\" />\n        </Style>\n    );\n}\n","import { createGlobalStyle } from 'styled-components';\n\nexport default createGlobalStyle`\n    html,\n    body,\n    #root {\n        height: 100%;\n    }\n\n    body {\n        font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;\n        line-height: 1.5;\n        overflow: hidden;\n    }\n\n    *, *::before, *::after {\n        box-sizing: border-box;\n    }\n\n    #root {\n        display: flex;\n        font-size: 14px;\n        color: #ccc;\n        background-color: rgb(0 0 0 / 90%);\n    }\n\n    ::-webkit-scrollbar {\n        width: 5px;\n    }\n\n    ::-webkit-scrollbar-thumb {\n        background-color: #999;\n    }\n\n    ::-webkit-scrollbar-thumb:hover {\n        background-color: #ccc;\n    }\n`;\n","import constants from \"../../constants\";\n\nlet initialState = {\n    data:{}\n}\nconst reducer = (state=initialState,action)=>{\n    switch(action.type){\n        case constants.GET_VIDEO_DETAILS:\n            return {\n                ...state,\n                data:action.payload\n            } \n\n        default:\n            return {\n                ...state\n            }\n    }\n\n};\n\nexport default reducer;\n","import constants from \"../../constants\";\n\nlet initialState = {\n    data:{}\n}\nconst reducer = (state=initialState,action)=>{\n    switch(action.type){\n        case constants.FETCH_TRANSCRIPT:\n            return {\n                ...state,\n                data:action.payload\n            } \n\n        default:\n            return {\n                ...state\n            }\n    }\n\n};\n\nexport default reducer;\n","import constants from \"../../constants\";\n\nlet initialState = {\n    data:{}\n}\nconst reducer = (state=initialState,action)=>{\n    switch(action.type){\n        case constants.GET_TRANSCRIPT_LANGUAGES:\n            return {\n                ...state,\n                data:action.payload\n            } \n\n        default:\n            return {\n                ...state\n            }\n    }\n\n};\n\nexport default reducer;\n","import constants from \"../../constants\";\n\nlet initialState = {\n    data:{}\n}\nconst reducer = (state=initialState,action)=>{\n    switch(action.type){\n        case constants.GENERATE_TRANSCRIPT:\n            return {\n                ...state,\n                data:action.payload\n            } \n\n        default:\n            return {\n                ...state\n            }\n    }\n\n};\n\nexport default reducer;\n","import constants from \"../../constants\";\n\nlet initialState = {\n    data:{}\n}\nconst reducer = (state=initialState,action)=>{\n    switch(action.type){\n        case constants.SAVE_TRANSCRIPT:\n            return {\n                ...state,\n                data:action.payload\n            } \n\n        default:\n            return {\n                ...state\n            }\n    }\n\n};\n\nexport default reducer;\n","import constants from \"../../constants\";\n\nlet initialState = {\n    data:{}\n}\nconst reducer = (state=initialState,action)=>{\n    switch(action.type){\n        case constants.GENERATE_TRANSLATION:\n            return {\n                ...state,\n                data:action.payload\n            } \n\n        default:\n            return {\n                ...state\n            }\n    }\n\n};\n\nexport default reducer;\n","import constants from \"../../constants\";\n\nlet initialState = {\n    data:{}\n}\nconst reducer = (state=initialState,action)=>{\n    switch(action.type){\n        case constants.GET_TRANSLATION_LANGAUGES:\n            return {\n                ...state,\n                data:action.payload\n            } \n\n        default:\n            return {\n                ...state\n            }\n    }\n\n};\n\nexport default reducer;\n","import constants from \"../../constants\";\n\nlet initialState = {\n    data:{}\n}\nconst reducer = (state=initialState,action)=>{\n    switch(action.type){\n        case constants.SAVE_TRANSLATION:\n            return {\n                ...state,\n                data:action.payload\n            } \n\n        default:\n            return {\n                ...state\n            }\n    }\n\n};\n\nexport default reducer;\n","import constants from \"../../constants\";\n\nlet initialState = {\n    data:{}\n}\nconst reducer = (state=initialState,action)=>{\n    switch(action.type){\n        case constants.FETCH_TRANSLATION:\n            return {\n                ...state,\n                data:action.payload\n            } \n\n        default:\n            return {\n                ...state\n            }\n    }\n\n};\n\nexport default reducer;\n","import apiStatus from './apistatus/apistatus';\nimport getVideoDetails from './Video/GetVideoDetails';\nimport fetchTranscript from './Transcript/FetchTranscript';\nimport getTranscriptLanguages from './Transcript/GetTranscriptLanguages';\nimport generateTranscript from './Transcript/GenerateTranscript';\nimport saveTranscript from './Transcript/SaveTranscript';\nimport generateTranslation from './Translation/GenerateTranslation';\nimport getTranslationLanguages from './Translation/GetTranslationLanguages';\nimport saveTranslation from './Translation/SaveTranslation';\nimport fetchTranslation from './Translation/FetchTranslation';\n\nconst index = {\n    apiStatus,\n    getVideoDetails,\n    fetchTranscript,\n    getTranscriptLanguages,\n    generateTranscript,\n    saveTranscript,\n    generateTranslation,\n    getTranslationLanguages,\n    saveTranslation,\n    fetchTranslation,\n};\n\nexport default index;","import constants from \"../../constants\";\n\nconst apistatus = (state = 0 , action) => {\n    switch (action.type) {\n        case constants.APISTATUS:\n            return action.payload;\n        default:\n            return state;\n    }\n}\n\nexport default apistatus;\n","import { createStore, compose, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { createLogger } from 'redux-logger';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport { persistCombineReducers } from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport combineReducers from '../reducers';\n\nconst middlewares = [];\nconst config = {\n    key: 'root',\n    storage\n};\n\n// const reducer = persistCombineReducers(config, rootReducer);\n\n\nconst appReducer = persistCombineReducers(config, combineReducers);\nconst rootReducer = (state, action) => {\n    if (action.type === 'LOGOUT') {\n      state = undefined\n    }\n  \n    return appReducer(state, action)\n  }\n\nmiddlewares.push(thunk);\nif (process.env.NODE_ENV === 'development') {\n    middlewares.push(createLogger());\n}\n\nconst store = createStore(\n    rootReducer,\n    {},\n    (process.env.NODE_ENV === 'development') ? composeWithDevTools(applyMiddleware(...middlewares)) : compose(applyMiddleware(...middlewares))\n);\n\nexport default store;","import 'core-js';\nimport 'normalize.css';\nimport './libs/contextmenu.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { isMobile } from './utils';\nimport { setLocale, setTranslations } from 'react-i18nify';\nimport i18n from './i18n';\nimport App from './App';\nimport Mobile from './Mobile';\nimport GlobalStyle from './GlobalStyle';\nimport {Provider} from 'react-redux';\nimport store from './redux/store/store';\n\nsetTranslations(i18n);\nconst language = navigator.language.toLowerCase();\nconst defaultLang = i18n[language] ? language : 'en';\nsetLocale(defaultLang);\n\n// Add comment for triggering push - 2\nReactDOM.render(\n    <React.Fragment>\n        <Provider store={store}>\n            <GlobalStyle />\n            {isMobile ? <Mobile /> : <App defaultLang={defaultLang} />}\n        </Provider>\n    </React.Fragment>,\n    document.getElementById('root'),\n);\n"],"sourceRoot":""}