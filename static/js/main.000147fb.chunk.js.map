{"version":3,"sources":["utils/index.js","i18n/index.js","libs/Sub.js","libs/readSub/ass2vtt.js","libs/readSub/index.js","libs/readSub/sub2ass.js","components/BottomLinks.js","components/Tool.js","libs/readSub/srt2vtt.js","libs/languages.js","libs/googleTranslate.js","libs/ai4BharatTranslate.js","components/Subtitles.js","libs/backlight.js","components/Player.js","components/Timeline.js","components/Metronome.js","components/Footer.js","components/Loading.js","components/ProgressBar.js","components/Links.js","components/SameLanguageSubtitle.js","libs/englishKeywordsTranslate.js","components/SignLanguageSubtitle.js","App.js","Mobile.js","GlobalStyle.js","index.js"],"names":["userAgent","window","navigator","isMobile","test","getExt","url","trim","toLowerCase","split","pop","sleep","ms","Promise","resolve","setTimeout","download","name","elink","document","createElement","style","display","href","body","appendChild","click","removeChild","getKeyCode","event","tag","activeElement","tagName","toUpperCase","editable","getAttribute","Number","keyCode","isPlaying","$video","currentTime","paused","ended","readyState","zh","LOADING","SUB_TEXT","OPEN_VIDEO","OPEN_SUB","EXPORT_ASS","EXPORT_SRT","EXPORT_VTT","EXPORT_VIDEO","TRANSLATE","TRANSLATING","TRANSLAT_SUCCESS","DECODE_START","DECODE_SUCCESS","DECODE_ERROR","VIDEO_EXT_ERR","SUB_EXT_ERR","MOBILE_TIP","HOTKEY_01","HOTKEY_02","CLEAR","UNDO","DELETE","MERGE","SPLIT","LOADING_FFMPEG","LOADING_FONT","LOADING_VIDEO","LOADING_SUB","CLEAR_TIP","BURN_ERROR","BURN_START","BURN_SUCCESS","OPEN_VIDEO_ERROR","i18n","en","TRANSCRIBE","TRANSCRIBING","SAME_LANGUAGE","SIGN_LANGUAGE","MAIN_LANGUAGE","it","tr","Sub","obj","this","start","end","text","text2","startTime","endTime","DT","t2d","time","d2t","clamp","Infinity","parseFloat","toFixed","ass2vtt","ass","re_ass","RegExp","fixTime","map","item","index","arr","length","join","line","m","match","replace","filter","url2sub","$track","default","kind","onload","Array","from","track","cues","src","vtt2url","vtt","URL","createObjectURL","Blob","type","sub2vtt","sub","sub2srt","sub2txt","toSubTime","str","n","sx","x","slice","toString","unshift","Math","floor","sub2ass","BottomLinks","paddingLeft","marginTop","listStyle","flexDirection","margin","padding","textAlign","width","backgroundColor","target","rel","textDecoration","color","Style","styled","div","FFmpeg","createFFmpeg","log","load","fs","SimpleFS","FileSystem","Header","player","waveform","newSub","undoSubs","clearSubs","subtitle","language","setLoading","setSubtitle","formatSub","setProcessing","notify","subtitleEnglish","setSubtitleEnglish","clearSubsEnglish","setClearedSubs","setSubtitleOriginal","clearedSubs","configuration","setConfiguration","isSetConfiguration","enableConfiguration","setEnableConfiguration","setIsSetConfiguration","translationApi","setTranslationApi","isSetVideo","setIsSetVideo","useState","videoFile","setVideoFile","youtubeURL","setYoutubeURL","toolOpen","setToolOpen","decodeAudioData","useCallback","file","a","fetchFile","ffmpeg","setProgress","ratio","t","FS","message","level","output","Date","now","run","uint8","decoder","drawer","update","burnSubtitles","mkdir","exists","readFile","fontBlob","fetch","then","res","blob","writeFile","subtitleFile","File","onVideoChange","files","ext","canPlayType","destroy","localStorage","setItem","onYouTubeChange","process","method","resp","json","video","audio","subtitles","subtext","console","urlsub","JSON","stringify","catch","err","data","audio_url","vad_level","chunk_size","headers","onSubtitleChange","includes","reject","reader","FileReader","parse","result","error","concat","readAsText","file2sub","onInputClick","value","downloadSub","downloadSubReference","useEffect","getItem","className","onClick","isOpen","height","strokeWidth","rotate","borderRadius","animationDuration","onChange","placeholder","e","confirm","location","reload","removeItem","crossOriginIsolated","key","languages","translate","query","lang","searchParams","append","googleTranslate","loop","shift","push","ai4BharatTranslate","entireArray","text_lines","source_language","target_language","i","Subtitles","currentIndex","checkSub","updateSub","isPrimary","updateSubOriginal","setHeight","setTranslate","languageAvailable","setLanguageAvailable","langArray","resize","clientHeight","init","debounceResize","debounce","addEventListener","onTranslate","headerHeight","rowHeight","scrollToIndex","rowCount","rowGetter","headerRowRenderer","rowRenderer","props","pause","duration","rowData","unescape","spellCheck","onChangeText","onBlur","enabled","maxOptions","renderComponent","setStyles","element","styles","Object","keys","forEach","setStyle","backlight","$player","$backlight","classList","add","position","zIndex","left","top","right","bottom","insertBefore","requestAnimationFrame","VideoWrap","memo","setPlayer","setCurrentTime","setPlaying","createRef","current","play","ref","Player","currentSub","setCurrentSub","focusing","setFocusing","inputItemCursor","setInputItemCursor","state","useMemo","selectionStart","onFocus","onSplit","splitSub","playing","onKeyDown","Timeline","magnetically","closeTime","lastTarget","lastSub","lastType","lastX","lastIndex","lastWidth","lastDiffX","isDroging","React","subs","beginTime","render","removeSub","hasSub","mergeSub","updateSubEnglish","$blockRef","$subsRef","currentSubs","gridGap","clientWidth","gridNum","findIndex","onMouseDown","button","pageX","indexOf","children","onDocumentMouseMove","transform","onDocumentMouseUp","timeDiff","previou","next","removeEventListener","onDoubleClick","$subs","currentTarget","id","holdToDisplay","title","prevProps","nextProps","isEqual","Metronome","Component","addSub","setIsDroging","drogStartTime","setDrogStartTime","drogEndTime","setDrogEndTime","getEventTime","clickTime","onMouseMove","Waveform","setWaveform","setRender","$waveform","WFPlayer","instances","scrollable","useWorker","wave","pixelRatio","container","mediaElement","waveColor","progressColor","gridColor","rulerColor","paddingColor","on","Grab","grabStartX","setGrabStartX","grabStartTime","setGrabStartTime","grabbing","setGrabbing","onGrabDown","onGrabUp","onGrabMove","seek","Progress","onProgressClick","Duration","getDuration","Footer","$footer","onWheel","contains","deltaY","sign","onWheelThrottle","throttle","Fragment","Loading","loading","alt","processing","Links","paddingTop","SameLanguageSubtitles","onTranscribe","englishKeywordsTranslate","SignLanguageSubtitles","App","defaultLang","subtitleHistory","useRef","notificationSystem","setLanguage","setCurrentIndex","subsBeforeClear","setSubsBeforeClear","hasSubEnglish","isArray","copySubs","copySubsEnglish","newSubtitle","saveToHistory","previous","check","notification","clearNotifications","addNotification","dismissible","autoDismiss","splice","subsEnglish","subClone","assign","updateSubTranslate","merge","nextEnglish","mergeEnglish","text1","splitDuration","middleTime","preventDefault","metaKey","localSubtitleString","localSubtitleEnglish","localSubtitle","allowHTML","Mobile","createGlobalStyle","setTranslations","setLocale","ReactDOM","GlobalStyle","getElementById"],"mappings":"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","file":"static/js/main.000147fb.chunk.js","sourcesContent":["export const userAgent = window.navigator.userAgent;\nexport const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(userAgent);\n\nexport function getExt(url) {\n    return url.trim().toLowerCase().split('.').pop();\n}\n\nexport function sleep(ms = 0) {\n    return new Promise((resolve) => setTimeout(resolve, ms));\n}\n\nexport function download(url, name) {\n    const elink = document.createElement('a');\n    elink.style.display = 'none';\n    elink.href = url;\n    elink.download = name;\n    document.body.appendChild(elink);\n    elink.click();\n    document.body.removeChild(elink);\n}\n\nexport function getKeyCode(event) {\n    const tag = document.activeElement.tagName.toUpperCase();\n    const editable = document.activeElement.getAttribute('contenteditable');\n    if (tag !== 'INPUT' && tag !== 'TEXTAREA' && editable !== '' && editable !== 'true') {\n        return Number(event.keyCode);\n    }\n}\n\nexport function isPlaying($video) {\n    return !!($video.currentTime > 0 && !$video.paused && !$video.ended && $video.readyState > 2);\n}\n","const en = {\n    LOADING: 'Loading...',\n    SUB_TEXT: 'Subtitle Text',\n    OPEN_VIDEO: 'Open Video',\n    OPEN_SUB: 'Open Subtitle',\n    EXPORT_ASS: 'Export ASS',\n    EXPORT_SRT: 'Export SRT',\n    EXPORT_VTT: 'Export VTT',\n    EXPORT_VIDEO: 'Export Video',\n    TRANSLATE: 'Translation',\n    TRANSCRIBE: 'Transcription',\n    TRANSLATING: 'Translation...',\n    TRANSCRIBING: 'Transcribing ...',\n    TRANSLAT_SUCCESS: 'Translation success',\n    DECODE_START: 'Start decoding audio',\n    DECODE_SUCCESS: 'Decoding audio success',\n    DECODE_ERROR: 'Decoding audio failed',\n    VIDEO_EXT_ERR: 'Unable to open this video format',\n    SUB_EXT_ERR: 'Unable to open this subtitle format',\n    MOBILE_TIP: 'Please use computer access',\n    HOTKEY_01: 'Space: Play / Pause',\n    HOTKEY_02: 'Ctrl + Z: Undo',\n    CLEAR: 'Clear',\n    UNDO: 'Undo',\n    DELETE: 'Delete Subtitle',\n    MERGE: 'Merge Next',\n    SPLIT: 'Split Subtitle',\n    LOADING_FFMPEG: 'Loading dependency...',\n    LOADING_FONT: 'Loading font...',\n    LOADING_VIDEO: 'Loading video...',\n    LOADING_SUB: 'Loading subtitle...',\n    CLEAR_TIP: 'Confirm that all data is cleared',\n    BURN_ERROR: 'Burn subtitles failed',\n    BURN_START: 'Start burn subtitles',\n    BURN_SUCCESS: 'Burn subtitles success',\n    OPEN_VIDEO_ERROR: 'Please open the video first',\n    SAME_LANGUAGE: 'Transcription',\n    SIGN_LANGUAGE: 'Sign Language',\n    MAIN_LANGUAGE: 'Translation',\n};\n\nconst it = {\n    LOADING: 'Caricamento in corso...',\n    SUB_TEXT: 'Sottotitoli',\n    OPEN_VIDEO: 'Apri video',\n    OPEN_SUB: 'Apri sottotitoli',\n    EXPORT_ASS: 'Esporta ASS',\n    EXPORT_SRT: 'Esporta SRT',\n    EXPORT_VTT: 'Esporta VTT',\n    EXPORT_VIDEO: 'Esporta video',\n    TRANSLATE: 'Traduci',\n    TRANSLATING: 'Traduzione...',\n    TRANSLAT_SUCCESS: 'Traduzione riuscita',\n    DECODE_START: 'Avvia decodifica audio',\n    DECODE_SUCCESS: 'Decodifica audio riuscita',\n    DECODE_ERROR: 'Decodifica audio non riuscita',\n    VIDEO_EXT_ERR: 'Impossibile aprire questo formato video',\n    SUB_EXT_ERR: 'Impossibile aprire questo formato di sottotitoli',\n    MOBILE_TIP: \"Utilizza l'accesso al computer\",\n    HOTKEY_01: 'Spazio: Riproduci / Pausa',\n    HOTKEY_02: 'Ctrl + Z: Annulla',\n    CLEAR: 'Pulisci',\n    UNDO: 'Annulla',\n    DELETE: 'Elimina sottotitoli',\n    MERGE: 'Unisci dopo',\n    SPLIT: 'Dividi sottotitoli',\n    LOADING_FFMPEG: 'Caricamento dipendenza in corso...',\n    LOADING_FONT: 'Caricamento font in corso...',\n    LOADING_VIDEO: 'Caricamento video in corso...',\n    LOADING_SUB: 'Caricamento sottotitoli in corso...',\n    CLEAR_TIP: 'Conferma che tutti i dati siano stati cancellati',\n    BURN_ERROR: 'Masterizzazione sottotitoli non riuscita',\n    BURN_START: 'Avvia masterizzazione sottotitoli',\n    BURN_SUCCESS: 'Masterizzazione sottotitoli riuscita',\n    OPEN_VIDEO_ERROR: 'Apri prima il video',\n};\n\nconst tr = {\n    LOADING: 'Loading...',\n    SUB_TEXT: 'Subtitle Text',\n    OPEN_VIDEO: 'Video A',\n    OPEN_SUB: 'Altyaz A',\n    EXPORT_ASS: 'ASS kar',\n    EXPORT_SRT: 'SRT kar',\n    EXPORT_VTT: 'VTT kar',\n    EXPORT_VIDEO: 'Videoyu kar',\n    TRANSLATE: 'evir',\n    TRANSLATING: 'evriliyor...',\n    TRANSLAT_SUCCESS: 'evirme baarl',\n    DECODE_START: 'Ses zmlemesi balad',\n    DECODE_SUCCESS: 'Ses zmlemesi baarl',\n    DECODE_ERROR: 'Ses zmlemesi baarsz',\n    VIDEO_EXT_ERR: 'Bu video biimi alamyor',\n    SUB_EXT_ERR: 'Bu altyaz biimi alamyor',\n    MOBILE_TIP: 'Ltfen bilgisayardan eriin',\n    HOTKEY_01: 'Boluk: Oynat / Duraklat',\n    HOTKEY_02: 'Ctrl + Z: Geri Al',\n    CLEAR: 'Temizle',\n    UNDO: 'Geri Al',\n    DELETE: 'Altyazy Sil',\n    MERGE: 'Sonrakiyle Birletir',\n    SPLIT: 'Altyazy Bl',\n    LOADING_FFMPEG: 'Bamllk ykleniyor...',\n    CLEAR_TIP: 'Tm verilerin silineceini onaylyor musunuz?',\n    BURN_ERROR: 'Altyaz gmme baarsz',\n    BURN_START: 'Altyaz gmmeyi balat',\n    BURN_SUCCESS: 'Altyaz gmme baarl',\n    OPEN_VIDEO_ERROR: 'Ltfen nce videoyu an',\n};\n\nconst zh = {\n    LOADING: '...',\n    SUB_TEXT: '',\n    OPEN_VIDEO: '',\n    OPEN_SUB: '',\n    EXPORT_ASS: ' ASS',\n    EXPORT_SRT: ' SRT',\n    EXPORT_VTT: ' VTT',\n    EXPORT_VIDEO: '',\n    TRANSLATE: '',\n    TRANSLATING: '...',\n    TRANSLAT_SUCCESS: '',\n    DECODE_START: '',\n    DECODE_SUCCESS: '',\n    DECODE_ERROR: '',\n    VIDEO_EXT_ERR: '',\n    SUB_EXT_ERR: '',\n    MOBILE_TIP: '',\n    HOTKEY_01: ':  / ',\n    HOTKEY_02: 'Ctrl + Z: ',\n    CLEAR: '',\n    UNDO: '',\n    DELETE: '',\n    MERGE: '',\n    SPLIT: '',\n    LOADING_FFMPEG: '...',\n    LOADING_FONT: '...',\n    LOADING_VIDEO: '...',\n    LOADING_SUB: '...',\n    CLEAR_TIP: '',\n    BURN_ERROR: '',\n    BURN_START: '',\n    BURN_SUCCESS: '',\n    OPEN_VIDEO_ERROR: '',\n};\n\nconst i18n = {\n    en,\n    it,\n    zh,\n    'zh-cn': zh,\n    'zh-tw': zh,\n    tr,\n};\n\nexport default i18n;\n","import clamp from 'lodash/clamp';\nimport DT from 'duration-time-conversion';\n\nexport default class Sub {\n    constructor(obj) {\n        this.start = obj.start;\n        this.end = obj.end;\n        this.text = obj.text;\n        this.text2 = obj.text2;\n    }\n\n    get check() {\n        return this.startTime >= 0 && this.endTime >= 0 && this.startTime < this.endTime;\n    }\n\n    get clone() {\n        return new Sub(this);\n    }\n\n    get startTime() {\n        return DT.t2d(this.start);\n    }\n\n    set startTime(time) {\n        this.start = DT.d2t(clamp(time, 0, Infinity));\n    }\n\n    get endTime() {\n        return DT.t2d(this.end);\n    }\n\n    set endTime(time) {\n        this.end = DT.d2t(clamp(time, 0, Infinity));\n    }\n\n    get duration() {\n        return parseFloat((this.endTime - this.startTime).toFixed(3));\n    }\n}\n","export default function ass2vtt(ass) {\n    const re_ass = new RegExp(\n        'Dialogue:\\\\s\\\\d,' +\n            '(\\\\d+:\\\\d\\\\d:\\\\d\\\\d.\\\\d\\\\d),' +\n            '(\\\\d+:\\\\d\\\\d:\\\\d\\\\d.\\\\d\\\\d),' +\n            '([^,]*),' +\n            '([^,]*),' +\n            '(?:[^,]*,){4}' +\n            '([\\\\s\\\\S]*)$',\n        'i',\n    );\n\n    function fixTime(time = '') {\n        return time\n            .split(/[:.]/)\n            .map((item, index, arr) => {\n                if (index === arr.length - 1) {\n                    if (item.length === 1) {\n                        return '.' + item + '00';\n                    } else if (item.length === 2) {\n                        return '.' + item + '0';\n                    }\n                } else {\n                    if (item.length === 1) {\n                        return (index === 0 ? '0' : ':0') + item;\n                    }\n                }\n\n                return index === 0 ? item : index === arr.length - 1 ? '.' + item : ':' + item;\n            })\n            .join('');\n    }\n\n    return (\n        'WEBVTT\\n\\n' +\n        ass\n            .split(/\\r?\\n/)\n            .map((line) => {\n                const m = line.match(re_ass);\n                if (!m) return null;\n                return {\n                    start: fixTime(m[1].trim()),\n                    end: fixTime(m[2].trim()),\n                    text: m[5]\n                        .replace(/{[\\s\\S]*?}/g, '')\n                        .replace(/(\\\\N)/g, '\\n')\n                        .trim()\n                        .split(/\\r?\\n/)\n                        .map((item) => item.trim())\n                        .join('\\n'),\n                };\n            })\n            .filter((line) => line)\n            .map((line, index) => {\n                if (line) {\n                    return index + 1 + '\\n' + line.start + ' --> ' + line.end + '\\n' + line.text;\n                } else {\n                    return '';\n                }\n            })\n            .filter((line) => line.trim())\n            .join('\\n\\n')\n    );\n}\n","import DT from 'duration-time-conversion';\nimport { getExt } from '../../utils';\nimport Sub from '../Sub';\nimport ass2vtt from './ass2vtt';\nimport srt2vtt from './srt2vtt';\n\nexport function url2sub(url) {\n    return new Promise((resolve) => {\n        const $video = document.createElement('video');\n        const $track = document.createElement('track');\n        $track.default = true;\n        $track.kind = 'metadata';\n        $video.appendChild($track);\n        $track.onload = () => {\n            resolve(\n                Array.from($track.track.cues).map((item) => {\n                    const start = DT.d2t(item.startTime);\n                    const end = DT.d2t(item.endTime);\n                    const text = item.text;\n                    return new Sub({ start, end, text });\n                }),\n            );\n        };\n        $track.src = url;\n    });\n}\n\nexport function vtt2url(vtt) {\n    return URL.createObjectURL(\n        new Blob([vtt], {\n            type: 'text/vtt',\n        }),\n    );\n}\n\nexport function file2sub(file) {\n    return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onload = async () => {\n            const ext = getExt(file.name);\n            if (ext === 'json') {\n                try {\n                    const sub = JSON.parse(reader.result).map((item) => new Sub(item));\n                    resolve(sub);\n                } catch (error) {\n                    reject(error);\n                }\n            } else {\n                const text = reader.result.replace(/{[\\s\\S]*?}/g, '');\n                switch (ext) {\n                    case 'vtt': {\n                        const url = vtt2url(text);\n                        const sub = await url2sub(url);\n                        resolve(sub);\n                        break;\n                    }\n                    case 'ass': {\n                        const vtt = ass2vtt(text);\n                        const url = vtt2url(vtt);\n                        const sub = await url2sub(url);\n                        resolve(sub);\n                        break;\n                    }\n                    case 'srt': {\n                        const vtt = srt2vtt(text);\n                        const url = vtt2url(vtt);\n                        const sub = await url2sub(url);\n                        resolve(sub);\n                        break;\n                    }\n                    case 'json': {\n                        const sub = JSON.parse(text).map((item) => new Sub(item));\n                        resolve(sub);\n                        break;\n                    }\n                    default:\n                        resolve([]);\n                        break;\n                }\n            }\n        };\n        reader.readAsText(file);\n    });\n}\n\nexport function sub2vtt(sub) {\n    return (\n        'WEBVTT\\n\\n' +\n        sub\n            .map((item, index) => {\n                return index + 1 + '\\n' + item.start + ' --> ' + item.end + '\\n' + item.text;\n            })\n            .join('\\n\\n')\n    );\n}\n\nexport function sub2srt(sub) {\n    return sub\n        .map((item, index) => {\n            return `${index + 1}\\n${item.start.replace('.', ',')} --> ${item.end.replace('.', ',')}\\n${item.text}`;\n        })\n        .join('\\n\\n');\n}\n\nexport function sub2txt(sub) {\n    return sub.map((item) => item.text).join('\\n\\n');\n}\n","const toSubTime = (str) => {\n    let n = [];\n    let sx = '';\n    let x = str.split(/[:.]/).map((x) => Number(x));\n    x = str.split(/[:.]/).map((x) => Number(x));\n    x[3] = '0.' + ('00' + x[3]).slice(-3);\n    sx = (x[0] * 60 * 60 + x[1] * 60 + x[2] + Number(x[3])).toFixed(2);\n    sx = sx.toString().split('.');\n    n.unshift(sx[1]);\n    sx = Number(sx[0]);\n    n.unshift(('0' + (sx % 60).toString()).slice(-2));\n    n.unshift(('0' + (Math.floor(sx / 60) % 60).toString()).slice(-2));\n    n.unshift((Math.floor(sx / 3600) % 60).toString());\n    return n.slice(0, 3).join(':') + '.' + n[3];\n};\n\nexport default function sub2ass(sub) {\n    return `\n[Script Info]\n; // \nSynch Point:1\nScriptType:v4.00+\nCollisions:Normal\n\n[V4+ Styles]\nFormat: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding\nStyle: Default, Microsoft YaHei, 20, &H00FFFFFF, &H000000FF, &H00000000, &H00000000, 0, 0, 0, 0, 100, 100, 0, 0, 1, 1, 0, 2, 10, 10, 10, 134\n\n[Events]\nFormat: Layer, Start, End, Style, Actor, MarginL, MarginR, MarginV, Effect, Text\n${sub\n    .map((item) => {\n        const start = toSubTime(item.start);\n        const end = toSubTime(item.end);\n        const text = item.text.replace(/\\r?\\n/g, '\\\\N');\n        return `Dialogue: 0,${start},${end},Default,NTP,0000,0000,0000,,${text}`;\n    })\n    .join('\\n')}\n    `.trim();\n}\n","import React from 'react';\n\nexport default function BottomLinks() {\n    return (\n        <>\n            <p style={{ paddingLeft: '10px', marginTop: '-0.5px' }}>\n                <b>External Links</b>\n            </p>\n            <ul\n                style={{\n                    // height: '25px',\n                    // paddingLeft: '25%',\n                    // paddingRight: '25%',\n                    listStyle: 'none',\n                    // display: 'flex',\n                    flexDirection: 'column',\n                    // position: 'absolute',\n                    // top: '96vh',\n                    // width: '100vw',\n                    // textAlign: 'center',\n                    // justifyContent: 'space-around',\n                    margin: '-10px 10px 10px 10px',\n                    padding: 0,\n                    textAlign: 'center',\n                    // width: '95%',\n                    // backgroundColor: 'rgb(33 150 243 / 20%)',\n                }}\n            >\n                <li\n                    style={{\n                        width: '100%',\n                        // marginBottom: '5px',\n                        backgroundColor: 'rgb(33 150 243 / 20%)',\n                        padding: '10px 5px',\n                    }}\n                >\n                    <a\n                        target=\"_blank\"\n                        rel=\"noreferrer\"\n                        style={{\n                            textDecoration: 'none',\n                            color: 'white',\n                            padding: '10px 50px',\n                        }}\n                        href=\"https://github.com/AI4Bharat\"\n                    >\n                        Organisation\n                    </a>\n                </li>\n                <br />\n                <li\n                    style={{\n                        width: '100%',\n                        backgroundColor: 'rgb(33 150 243 / 20%)',\n                        padding: '10px 5px',\n                    }}\n                >\n                    <a\n                        target=\"_blank\"\n                        rel=\"noreferrer\"\n                        style={{ textDecoration: 'none', color: 'white', padding: '10px 50px' }}\n                        href=\"https://github.com/AI4Bharat/Chitralekha/\"\n                    >\n                        GitHub Repo\n                    </a>\n                </li>\n            </ul>\n        </>\n    );\n}\n","import styled from 'styled-components';\n// import languages from '../libs/languages';\nimport { t, Translate } from 'react-i18nify';\nimport React, { useState, useCallback, useEffect } from 'react';\nimport { getExt, download } from '../utils';\nimport { file2sub, sub2vtt, sub2srt, sub2txt, url2sub, vtt2url } from '../libs/readSub';\nimport sub2ass from '../libs/readSub/sub2ass';\n// import googleTranslate from '../libs/googleTranslate';\n// import englishKeywordsTranslate from '../libs/englishKeywordsTranslate';\nimport FFmpeg from '@ffmpeg/ffmpeg';\nimport SimpleFS from '@forlagshuset/simple-fs';\nimport HamburgerMenu from 'react-hamburger-menu';\nimport '../utils/ToolNavigation.css';\nimport BottomLinks from './BottomLinks';\n\nconst Style = styled.div`\n    border-left: 1px solid white;\n\n    .tool-button {\n        display: flex;\n        justify-content: flex-end;\n        align-items: center;\n        padding: 10px 10px 2px 0;\n        margin-bottom: 5px;\n\n        .icon {\n            cursor: pointer;\n        }\n    }\n\n    .import {\n        display: flex;\n        justify-content: space-between;\n        padding: 10px;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n        .btn {\n            position: relative;\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 48%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #3f51b5;\n            transition: all 0.2s ease 0s;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n\n        .file {\n            position: absolute;\n            left: 0;\n            top: 0;\n            right: 0;\n            bottom: 0;\n            width: 100%;\n            height: 100%;\n            opacity: 0;\n        }\n    }\n\n    .seconday-options {\n        transform: scaleY(1) !important;\n        transition: all 0.25s 0.4s;\n        transform-origin: top;\n    }\n\n    .hide-secondary-options {\n        transform: scaleY(0) !important;\n        transition: all 0.25s;\n        transform-origin: top;\n        height: 0;\n    }\n\n    .hide-secondary-options * > {\n        opacity: 0;\n        transition: all 0.1s;\n    }\n\n    .select-translation-api-container {\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n        display: flex;\n        flex-direction: column;\n        // justify-content: center;\n        padding-left: 10px;\n\n        .select-heading {\n            margin-top: -0.5px;\n        }\n\n        select {\n            width: 95%;\n            outline: none;\n            height: 35px;\n            border-radius: 3px;\n            margin-bottom: 10px;\n            margin-top: -10px;\n        }\n    }\n\n    .burn {\n        display: flex;\n        justify-content: space-between;\n        padding: 10px;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n        .btn {\n            position: relative;\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 100%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #673ab7;\n            transition: all 0.2s ease 0s;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n    }\n\n    .export {\n        display: flex;\n        justify-content: space-between;\n        padding: 10px;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n        .btn {\n            position: relative;\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 31%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #009688;\n            transition: all 0.2s ease 0s;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n    }\n\n    .operate {\n        display: flex;\n        justify-content: space-between;\n        padding: 10px;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n        .btn {\n            position: relative;\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 48%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #009688;\n            transition: all 0.2s ease 0s;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n    }\n\n    .configuration {\n        transform: scaleY(1) !important;\n        transition: all 0.25s 0.4s;\n        transform-origin: top;\n\n        &-heading {\n            opacity: 1;\n            padding-left: 10px;\n            margin-top: -0.5px;\n        }\n\n        &-options {\n            opacity: 1;\n            display: flex;\n            flex-direction: column;\n            flex-wrap: wrap;\n            border-bottom: 1px solid rgb(255 255 255 / 20%);\n            // align-items: center;\n            margin-top: -10px;\n            padding-left: 10px;\n\n            .btn {\n                position: relative;\n                opacity: 0.85;\n                display: flex;\n                justify-content: center;\n                align-items: center;\n                height: 35px;\n                width: 95%;\n                border-radius: 3px;\n                color: #fff;\n                cursor: pointer;\n                font-size: 13px;\n                background-color: #009688;\n                transition: all 0.2s ease 0s;\n                margin-bottom: 10px;\n                letter-spacing: 1.3px;\n\n                &:hover {\n                    opacity: 1;\n                }\n            }\n        }\n    }\n\n    .hide-config {\n        transform: scaleY(0) !important;\n        transition: all 0.25s;\n        transform-origin: top;\n        height: 0;\n    }\n    .hide-config .configuration-heading {\n        opacity: 0;\n        transition: all 0.1s;\n    }\n\n    .hide-config .configuration-options {\n        opacity: 0;\n        transition: all 0.1s;\n    }\n\n    .translate {\n        display: flex;\n        justify-content: space-between;\n        padding: 10px;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n        select {\n            width: 65%;\n            outline: none;\n            padding: 0 5px;\n            border-radius: 3px;\n        }\n\n        .btn {\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 33%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #673ab7;\n            transition: all 0.2s ease 0s;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n    }\n    .youtube-link {\n        display: flex;\n        justify-content: space-between;\n        padding: 10px;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n        .youtube-textarea {\n            width: 65%;\n            outline: none;\n            padding: 0 5px;\n            border-radius: 3px;\n        }\n\n        .btn {\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 33%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #673ab7;\n            transition: all 0.2s ease 0s;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n    }\n\n    .hotkey {\n        display: flex;\n        justify-content: space-between;\n        padding: 10px;\n\n        span {\n            width: 49%;\n            font-size: 13px;\n            padding: 5px 0;\n            border-radius: 3px;\n            text-align: center;\n            color: rgb(255 255 255 / 75%);\n            background-color: rgb(255 255 255 / 20%);\n        }\n    }\n\n    .bottom {\n        padding: 10px;\n        a {\n            display: flex;\n            flex-direction: column;\n            border: 1px solid rgb(255 255 255 / 30%);\n            text-decoration: none;\n\n            .title {\n                color: #ffeb3b;\n                padding: 5px 10px;\n                animation: animation 3s infinite;\n                border-bottom: 1px solid rgb(255 255 255 / 30%);\n            }\n\n            @keyframes animation {\n                50% {\n                    color: #00bcd4;\n                }\n            }\n\n            img {\n                max-width: 100%;\n            }\n        }\n    }\n\n    .progress {\n        position: fixed;\n        left: 0;\n        top: 0;\n        right: 0;\n        z-index: 9;\n        height: 2px;\n        background-color: rgb(0 0 0 / 50%);\n\n        span {\n            display: inline-block;\n            position: absolute;\n            left: 0;\n            top: 0;\n            bottom: 0;\n            width: 0;\n            height: 100%;\n            background-color: #ff9800;\n            transition: all 0.2s ease 0s;\n        }\n    }\n`;\n\nFFmpeg.createFFmpeg({ log: true }).load();\nconst fs = new SimpleFS.FileSystem();\n\nexport default function Header({\n    player,\n    waveform,\n    newSub,\n    undoSubs,\n    clearSubs,\n    language,\n    subtitle,\n    setLoading,\n    formatSub,\n    setSubtitle,\n    setProcessing,\n    notify,\n    subtitleEnglish,\n    setSubtitleEnglish,\n    clearSubsEnglish,\n    setSubtitleOriginal,\n    clearedSubs,\n    setClearedSubs,\n    configuration,\n    setConfiguration,\n    enableConfiguration,\n    setEnableConfiguration,\n    isSetConfiguration,\n    setIsSetConfiguration,\n    translationApi,\n    setTranslationApi,\n    isSetVideo,\n    setIsSetVideo,\n}) {\n    // const [translate, setTranslate] = useState('en');\n    const [videoFile, setVideoFile] = useState(null);\n    const [youtubeURL, setYoutubeURL] = useState('');\n    const translate = 'en';\n    const [toolOpen, setToolOpen] = useState(true);\n    // const [isSetVideo, setIsSetVideo] = useState(false);\n\n    const clearSubsHandler = () => {\n        window.localStorage.setItem('subsBeforeClear', JSON.stringify(subtitle));\n\n        // let tempSubs = subtitle.slice(0);\n        // tempSubs.map((sub) => {\n        //     sub.text = '';\n        //     sub.text2 = '';\n        //     return true;\n        // });\n        setSubtitle([]);\n        setSubtitleEnglish([]);\n        localStorage.removeItem('subtitleEnglish');\n\n        // setSubtitleOriginal(tempSubs);\n        setClearedSubs(true);\n    };\n\n    const decodeAudioData = useCallback(\n        async (file) => {\n            try {\n                const { createFFmpeg, fetchFile } = FFmpeg;\n                const ffmpeg = createFFmpeg({ log: true });\n                ffmpeg.setProgress(({ ratio }) => setProcessing(ratio * 100));\n                setLoading(t('LOADING_FFMPEG'));\n                await ffmpeg.load();\n                ffmpeg.FS('writeFile', file.name, await fetchFile(file));\n                setLoading('');\n                notify({\n                    message: t('DECODE_START'),\n                    level: 'info',\n                });\n                const output = `${Date.now()}.mp3`;\n                await ffmpeg.run('-i', file.name, '-ac', '1', '-ar', '8000', output);\n                const uint8 = ffmpeg.FS('readFile', output);\n                // download(URL.createObjectURL(new Blob([uint8])), `${output}`);\n                await waveform.decoder.decodeAudioData(uint8);\n                waveform.drawer.update();\n                setProcessing(0);\n                ffmpeg.setProgress(() => null);\n                notify({\n                    message: t('DECODE_SUCCESS'),\n                    level: 'success',\n                });\n            } catch (error) {\n                setLoading('');\n                setProcessing(0);\n                notify({\n                    message: t('DECODE_ERROR'),\n                    level: 'error',\n                });\n            }\n        },\n        [waveform, notify, setProcessing, setLoading],\n    );\n\n    const burnSubtitles = useCallback(async () => {\n        try {\n            const { createFFmpeg, fetchFile } = FFmpeg;\n            const ffmpeg = createFFmpeg({ log: true });\n            ffmpeg.setProgress(({ ratio }) => setProcessing(ratio * 100));\n            setLoading(t('LOADING_FFMPEG'));\n            await ffmpeg.load();\n            setLoading(t('LOADING_FONT'));\n\n            await fs.mkdir('/fonts');\n            const fontExist = await fs.exists('/fonts/Microsoft-YaHei.ttf');\n            if (fontExist) {\n                const fontBlob = await fs.readFile('/fonts/Microsoft-YaHei.ttf');\n                ffmpeg.FS('writeFile', `tmp/Microsoft-YaHei.ttf`, await fetchFile(fontBlob));\n            } else {\n                const fontUrl = 'https://cdn.jsdelivr.net/gh/zhw2590582/SubPlayer/docs/Microsoft-YaHei.ttf';\n                const fontBlob = await fetch(fontUrl).then((res) => res.blob());\n                await fs.writeFile('/fonts/Microsoft-YaHei.ttf', fontBlob);\n                ffmpeg.FS('writeFile', `tmp/Microsoft-YaHei.ttf`, await fetchFile(fontBlob));\n            }\n            setLoading(t('LOADING_VIDEO'));\n            ffmpeg.FS(\n                'writeFile',\n                videoFile ? videoFile.name : 'sample.mp4',\n                await fetchFile(videoFile || 'sample.mp4'),\n            );\n            setLoading(t('LOADING_SUB'));\n            const subtitleFile = new File([new Blob([sub2ass(subtitle)])], 'subtitle.ass');\n            ffmpeg.FS('writeFile', subtitleFile.name, await fetchFile(subtitleFile));\n            setLoading('');\n            notify({\n                message: t('BURN_START'),\n                level: 'info',\n            });\n            const output = `${Date.now()}.mp4`;\n            await ffmpeg.run(\n                '-i',\n                videoFile ? videoFile.name : 'sample.mp4',\n                '-vf',\n                `ass=${subtitleFile.name}:fontsdir=/tmp`,\n                '-preset',\n                videoFile ? 'fast' : 'ultrafast',\n                output,\n            );\n            const uint8 = ffmpeg.FS('readFile', output);\n            download(URL.createObjectURL(new Blob([uint8])), `${output}`);\n            setProcessing(0);\n            ffmpeg.setProgress(() => null);\n            notify({\n                message: t('BURN_SUCCESS'),\n                level: 'success',\n            });\n        } catch (error) {\n            setLoading('');\n            setProcessing(0);\n            notify({\n                message: t('BURN_ERROR'),\n                level: 'error',\n            });\n        }\n    }, [notify, setProcessing, setLoading, videoFile, subtitle]);\n\n    const onVideoChange = useCallback(\n        (event) => {\n            const file = event.target.files[0];\n            if (file) {\n                const ext = getExt(file.name);\n                const canPlayType = player.canPlayType(file.type);\n                if (canPlayType === 'maybe' || canPlayType === 'probably') {\n                    setVideoFile(file);\n                    decodeAudioData(file);\n                    const url = URL.createObjectURL(new Blob([file]));\n                    waveform.decoder.destroy();\n                    waveform.drawer.update();\n                    // waveform.seek(0);\n                    player.currentTime = 0;\n                    clearSubs();\n                    setSubtitle([\n                        newSub({\n                            start: '00:00:00.000',\n                            end: '00:00:01.000',\n                            text: t('SUB_TEXT'),\n                        }),\n                    ]);\n                    player.src = url;\n                } else {\n                    notify({\n                        message: `${t('VIDEO_EXT_ERR')}: ${file.type || ext}`,\n                        level: 'error',\n                    });\n                }\n            }\n\n            localStorage.setItem('isVideoPresent', true);\n            setIsSetVideo(true);\n        },\n        [newSub, notify, player, setSubtitle, waveform, clearSubs, decodeAudioData, setIsSetVideo],\n    );\n    const onYouTubeChange = useCallback(\n        (event) => {\n            if (youtubeURL.length > 0) {\n                setLoading(t('LOADING'));\n\n                fetch(\n                    `${process.env.REACT_APP_ASR_URL}/get_youtube_video_link_with_captions?url=${youtubeURL}&lang=${translate}`,\n                    {\n                        method: 'POST',\n                    },\n                )\n                    .then((resp) => {\n                        return resp.json();\n                    })\n                    .then((resp) => {\n                        const url = resp.video;\n                        const audio = resp.audio;\n                        player.src = url;\n\n                        localStorage.setItem('videoSrc', resp.video);\n                        localStorage.setItem('audioSrc', resp.audio);\n\n                        if (resp.subtitles) {\n                            const sub = resp.subtitles;\n\n                            fetch(sub)\n                                .then((subtext) => {\n                                    return subtext.text();\n                                })\n                                .then((subtext) => {\n                                    console.log(subtext);\n                                    player.currentTime = 0;\n                                    clearSubs();\n                                    const suburl = vtt2url(subtext);\n                                    url2sub(suburl).then((urlsub) => {\n                                        setSubtitle(urlsub);\n                                        localStorage.setItem('subtitle', JSON.stringify(urlsub));\n                                    });\n                                })\n                                .catch((err) => {\n                                    console.log(err);\n                                });\n                        } else {\n                            const data = {\n                                audio_url: audio,\n                                vad_level: 2,\n                                chunk_size: 10,\n                                language: 'en',\n                            };\n\n                            fetch(`${process.env.REACT_APP_ASR_URL}/transcribe_audio`, {\n                                method: 'POST',\n                                headers: { 'Content-Type': 'application/json' },\n                                body: JSON.stringify(data),\n                            })\n                                .then((resp) => {\n                                    return resp.json();\n                                })\n                                .then((resp) => {\n                                    console.log(resp.output);\n                                    player.currentTime = 0;\n                                    clearSubs();\n                                    const suburl = vtt2url(resp.output);\n                                    url2sub(suburl).then((urlsub) => {\n                                        setSubtitle(urlsub);\n                                        localStorage.setItem('subtitle', JSON.stringify(urlsub));\n                                    });\n                                })\n                                .catch((err) => {\n                                    console.log(err);\n                                });\n                        }\n                    });\n                fetch(\n                    `${process.env.REACT_APP_ASR_URL}/get_youtube_video_link_with_captions?url=${youtubeURL}&lang=en`,\n                    {\n                        method: 'POST',\n                    },\n                )\n                    .then((resp) => {\n                        return resp.json();\n                    })\n                    .then((resp) => {\n                        //const url = resp.video;\n                        const audio = resp.audio;\n\n                        if (resp.subtitles) {\n                            const sub = resp.subtitles;\n                            fetch(sub)\n                                .then((subtext) => {\n                                    return subtext.text();\n                                })\n                                .then((subtext) => {\n                                    clearSubsEnglish();\n                                    const suburl = vtt2url(subtext);\n                                    url2sub(suburl).then((urlsub) => {\n                                        setSubtitleEnglish(urlsub);\n                                        localStorage.setItem('subtitleEnglish', JSON.stringify(urlsub));\n                                    });\n\n                                    setLoading('');\n                                })\n                                .catch((err) => {\n                                    console.log(err);\n                                });\n                        } else {\n                            const data = {\n                                audio_url: audio,\n                                vad_level: 2,\n                                chunk_size: 10,\n                                language: 'en',\n                            };\n\n                            fetch(`${process.env.REACT_APP_ASR_URL}/transcribe_audio`, {\n                                method: 'POST',\n                                headers: { 'Content-Type': 'application/json' },\n                                body: JSON.stringify(data),\n                            })\n                                .then((resp) => {\n                                    return resp.json();\n                                })\n                                .then((resp) => {\n                                    console.log(resp.output);\n                                    player.currentTime = 0;\n                                    clearSubs();\n                                    const suburl = vtt2url(resp.output);\n                                    url2sub(suburl).then((urlsub) => {\n                                        setSubtitleEnglish(urlsub);\n                                        localStorage.setItem('subtitleEnglish', JSON.stringify(urlsub));\n                                    });\n                                })\n                                .then(() => setLoading(''))\n                                .catch((err) => {\n                                    console.log(err);\n                                });\n                        }\n                    });\n            }\n\n            localStorage.setItem('isVideoPresent', true);\n            setIsSetVideo(true);\n        },\n        [\n            setSubtitleEnglish,\n            clearSubs,\n            youtubeURL,\n            translate,\n            clearSubsEnglish,\n            player,\n            setSubtitle,\n            setLoading,\n            setIsSetVideo,\n        ],\n    );\n\n    const handleChange = (e) => {\n        setYoutubeURL(e.target.value);\n    };\n\n    const onSubtitleChange = useCallback(\n        (event) => {\n            const file = event.target.files[0];\n            if (file) {\n                const ext = getExt(file.name);\n                if (['ass', 'vtt', 'srt', 'json'].includes(ext)) {\n                    file2sub(file)\n                        .then((res) => {\n                            clearSubs();\n                            setSubtitle(res);\n                        })\n                        .catch((err) => {\n                            notify({\n                                message: err.message,\n                                level: 'error',\n                            });\n                        });\n                } else {\n                    notify({\n                        message: `${t('SUB_EXT_ERR')}: ${ext}`,\n                        level: 'error',\n                    });\n                }\n            }\n        },\n        [notify, setSubtitle, clearSubs],\n    );\n\n    const onInputClick = useCallback((event) => {\n        event.target.value = '';\n    }, []);\n\n    const downloadSub = useCallback(\n        (type) => {\n            let text = '';\n            const name = `${Date.now()}.${type}`;\n            switch (type) {\n                case 'vtt':\n                    text = sub2vtt(subtitle);\n                    break;\n                case 'srt':\n                    text = sub2srt(subtitle);\n                    break;\n                case 'ass':\n                    text = sub2ass(subtitle);\n                    break;\n                case 'txt':\n                    text = sub2txt(subtitle);\n                    break;\n                case 'json':\n                    text = JSON.stringify(subtitle);\n                    break;\n                default:\n                    break;\n            }\n            const url = URL.createObjectURL(new Blob([text]));\n            download(url, name);\n        },\n        [subtitle],\n    );\n\n    const downloadSubReference = useCallback(\n        (type) => {\n            let text = '';\n            const name = `${Date.now()}.${type}`;\n            switch (type) {\n                case 'vtt':\n                    text = sub2vtt(subtitleEnglish);\n                    break;\n                case 'srt':\n                    text = sub2srt(subtitleEnglish);\n                    break;\n                case 'ass':\n                    text = sub2ass(subtitleEnglish);\n                    break;\n                case 'txt':\n                    text = sub2txt(subtitleEnglish);\n                    break;\n                case 'json':\n                    text = JSON.stringify(subtitleEnglish);\n                    break;\n                default:\n                    break;\n            }\n            const url = URL.createObjectURL(new Blob([text]));\n            download(url, name);\n        },\n        [subtitleEnglish],\n    );\n\n    useEffect(() => {\n        if (isSetVideo === false) {\n            if (window.localStorage.getItem('isVideoPresent') === 'true') {\n                console.log('here inside loop');\n                setIsSetVideo(!isSetVideo);\n            }\n        }\n    }, [setIsSetVideo, isSetVideo]);\n\n    return (\n        <Style className={`tool ${toolOpen ? 'tool-open' : ''}`}>\n            <div className={`tool-button`}>\n                <div\n                    className=\"icon\"\n                    onClick={() => {\n                        console.log('hamburger clicked');\n                        setToolOpen(!toolOpen);\n                    }}\n                >\n                    <HamburgerMenu\n                        isOpen={toolOpen}\n                        width={22}\n                        height={18}\n                        strokeWidth={2}\n                        rotate={0}\n                        color={'#fff'}\n                        borderRadius={0}\n                        animationDuration={0.5}\n                    />\n                </div>\n            </div>\n\n            <div className=\"top\">\n                <div className=\"import \">\n                    <div className=\"btn\">\n                        <Translate value=\"OPEN_VIDEO\" />\n                        <input className=\"file\" type=\"file\" onChange={onVideoChange} onClick={onInputClick} />\n                    </div>\n                    <div className=\"btn\">\n                        <Translate value=\"OPEN_SUB\" />\n                        <input className=\"file\" type=\"file\" onChange={onSubtitleChange} onClick={onInputClick} />\n                    </div>\n                </div>\n                <div className=\"youtube-link \">\n                    <textarea\n                        className=\"youtube-textarea\"\n                        placeholder=\"Enter YouTube Link Here\"\n                        value={youtubeURL}\n                        onChange={handleChange}\n                        // onKeyPress={(e) => }\n                    />\n                    <div className=\"btn\" onClick={onYouTubeChange}>\n                        <Translate value=\"Fetch Video\" />\n                    </div>\n                </div>\n                <div className=\"operate\">\n                    <div\n                        className=\"btn\"\n                        onClick={() => {\n                            if (window.confirm(t('CLEAR_TIP')) === true) {\n                                // localStorage.setItem('videoSrc', '/sample.mp4');\n                                localStorage.setItem('videoSrc', null);\n                                localStorage.setItem('isVideoPresent', false);\n                                localStorage.setItem('lang', 'en');\n                                clearSubs();\n                                clearSubsEnglish();\n                                window.location.reload();\n                            }\n                        }}\n                    >\n                        <Translate value=\"CLEAR\" />\n                    </div>\n                    <div className=\"btn\" onClick={undoSubs}>\n                        <Translate value=\"UNDO\" />\n                    </div>\n                </div>\n                <div className=\"operate\">\n                    <div className=\"btn\" onClick={clearSubsHandler}>\n                        <Translate value=\"Clear Subtitles\" />\n                    </div>\n                </div>\n\n                <div\n                    className={`\n                        ${isSetVideo ? 'configuration' : 'hide-config'}\n                `}\n                >\n                    <p className=\"configuration-heading\">\n                        <b>Configuration Options</b>\n                    </p>\n                    <div className=\"configuration-options\">\n                        <div\n                            className=\"btn\"\n                            onClick={() => {\n                                console.log('Configuration - same');\n                                setConfiguration('Same Language Subtitling');\n                                setIsSetConfiguration(true);\n                            }}\n                        >\n                            <Translate value=\"SAME_LANGUAGE\" />\n                        </div>\n                        <div\n                            className=\"btn\"\n                            onClick={() => {\n                                console.log('Configuration - basic');\n                                setConfiguration('Subtitling');\n                                setIsSetConfiguration(true);\n                            }}\n                        >\n                            <Translate value=\"MAIN_LANGUAGE\" />\n                        </div>\n                        <div\n                            className=\"btn\"\n                            onClick={() => {\n                                console.log('Configuration - sign');\n                                setConfiguration('Sign Language Subtitling');\n                                setIsSetConfiguration(true);\n                            }}\n                        >\n                            <Translate value=\"SIGN_LANGUAGE\" />\n                        </div>\n                    </div>\n                </div>\n                <div className={`secondary-options ${isSetConfiguration ? '' : 'hide-secondary-options'}`}>\n                    {configuration === 'Subtitling' && (\n                        <>\n                            <div className=\"select-translation-api-container\">\n                                <p className=\"select-heading\">\n                                    <b>Translation Api</b>\n                                </p>\n                                <select\n                                    value={translationApi}\n                                    onChange={(e) => {\n                                        // console.log(e.target.value);\n                                        setTranslationApi(e.target.value);\n                                    }}\n                                >\n                                    <option value=\"AI4Bharat\">AI4Bharat</option>\n                                    <option value=\"Google\">Google</option>\n                                </select>\n                            </div>\n                        </>\n                    )}\n                    {window.crossOriginIsolated ? (\n                        <div className=\"burn\" onClick={burnSubtitles}>\n                            <div className=\"btn\">\n                                <Translate value=\"EXPORT_VIDEO\" />\n                            </div>\n                        </div>\n                    ) : null}\n                    <p style={{ paddingLeft: '10px', marginTop: '-0.5px' }}>\n                        <b>Export Your Subtitles</b>\n                    </p>\n                    <div className=\"export\" style={{ marginTop: '-20px' }}>\n                        <div className=\"btn\" onClick={() => downloadSub('ass')}>\n                            <Translate value=\"EXPORT_ASS\" />\n                        </div>\n                        <div className=\"btn\" onClick={() => downloadSub('srt')}>\n                            <Translate value=\"EXPORT_SRT\" />\n                        </div>\n                        <div className=\"btn\" onClick={() => downloadSub('vtt')}>\n                            <Translate value=\"EXPORT_VTT\" />\n                        </div>\n                    </div>\n                    <p style={{ paddingLeft: '10px', marginTop: '-0.5px' }}>\n                        <b>Export Reference Subtitles</b>\n                    </p>\n                    <div className=\"export\" style={{ marginTop: '-20px' }}>\n                        <div className=\"btn\" onClick={() => downloadSubReference('ass')}>\n                            <Translate value=\"EXPORT_ASS\" />\n                        </div>\n                        <div className=\"btn\" onClick={() => downloadSubReference('srt')}>\n                            <Translate value=\"EXPORT_SRT\" />\n                        </div>\n                        <div className=\"btn\" onClick={() => downloadSubReference('vtt')}>\n                            <Translate value=\"EXPORT_VTT\" />\n                        </div>\n                    </div>\n                </div>\n                <div className=\"\">\n                    <BottomLinks />\n                </div>\n\n                {/* <div className=\"translate\">\n                    <select\n                        value={translate}\n                        onChange={(event) => {\n                            setTranslate(event.target.value);\n                            localStorage.setItem('lang', event.target.value);\n                        }}\n                    >\n                        {(languages[language] || languages.en).map((item) => (\n                            <option key={item.key} value={item.key}>\n                                {item.name}\n                            </option>\n                        ))}\n                    </select>\n                    <div className=\"btn\" onClick={onTranslate}>\n                        <Translate value=\"TRANSLATE\" />\n                    </div>\n                </div> */}\n\n                <div className=\"hotkey\">\n                    <span>\n                        <Translate value=\"HOTKEY_01\" />\n                    </span>\n                    <span>\n                        <Translate value=\"HOTKEY_02\" />\n                    </span>\n                </div>\n            </div>\n        </Style>\n    );\n}\n","export default function srt2vtt(srt) {\n    return 'WEBVTT \\r\\n\\r\\n'.concat(\n        srt\n            .replace(/\\{\\\\([ibu])\\}/g, '</$1>')\n            .replace(/\\{\\\\([ibu])1\\}/g, '<$1>')\n            .replace(/\\{([ibu])\\}/g, '<$1>')\n            .replace(/\\{\\/([ibu])\\}/g, '</$1>')\n            .replace(/(\\d\\d:\\d\\d:\\d\\d),(\\d\\d\\d)/g, '$1.$2')\n            .replace(/{[\\s\\S]*?}/g, '')\n            .concat('\\r\\n\\r\\n'),\n    );\n}\n","// https://cloud.google.com/translate/docs/languages\n\nconst zh = [\n    { name: '', key: 'zh' },\n    { name: '', key: 'zh-TW' },\n    { name: '', key: 'en' },\n    { name: '', key: 'af' },\n    { name: '', key: 'sq' },\n    { name: '', key: 'am' },\n    { name: '', key: 'ar' },\n    { name: '', key: 'hy' },\n    { name: '', key: 'az' },\n    { name: '', key: 'eu' },\n    { name: '', key: 'be' },\n    { name: '', key: 'bn' },\n    { name: '', key: 'bs' },\n    { name: '', key: 'bg' },\n    { name: '', key: 'ca' },\n    { name: '', key: 'ceb' },\n    { name: '', key: 'co' },\n    { name: '', key: 'hr' },\n    { name: '', key: 'cs' },\n    { name: '', key: 'da' },\n    { name: '', key: 'nl' },\n    { name: '', key: 'eo' },\n    { name: '', key: 'et' },\n    { name: '', key: 'fi' },\n    { name: '', key: 'fr' },\n    { name: '', key: 'fy' },\n    { name: '', key: 'gl' },\n    { name: '', key: 'ka' },\n    { name: '', key: 'de' },\n    { name: '', key: 'el' },\n    { name: '', key: 'gu' },\n    { name: '', key: 'ht' },\n    { name: '', key: 'ha' },\n    { name: '', key: 'haw' },\n    { name: '', key: 'he' },\n    { name: '', key: 'hi' },\n    { name: '', key: 'hmn' },\n    { name: '', key: 'hu' },\n    { name: '', key: 'is' },\n    { name: '', key: 'ig' },\n    { name: '', key: 'id' },\n    { name: '', key: 'ga' },\n    { name: '', key: 'it' },\n    { name: '', key: 'ja' },\n    { name: '', key: 'jw' },\n    { name: '', key: 'kn' },\n    { name: '', key: 'kk' },\n    { name: '', key: 'km' },\n    { name: '', key: 'ko' },\n    { name: '', key: 'ku' },\n    { name: '', key: 'ky' },\n    { name: '', key: 'lo' },\n    { name: '', key: 'la' },\n    { name: '', key: 'lv' },\n    { name: '', key: 'lt' },\n    { name: '', key: 'lb' },\n    { name: '', key: 'mk' },\n    { name: '', key: 'mg' },\n    { name: '', key: 'ms' },\n    { name: '', key: 'ml' },\n    { name: '', key: 'mt' },\n    { name: '', key: 'mi' },\n    { name: '', key: 'mr' },\n    { name: '', key: 'mn' },\n    { name: '', key: 'my' },\n    { name: '', key: 'ne' },\n    { name: '', key: 'no' },\n    { name: '', key: 'ny' },\n    { name: '', key: 'ps' },\n    { name: '', key: 'fa' },\n    { name: '', key: 'pl' },\n    { name: '', key: 'pt' },\n    { name: '', key: 'pa' },\n    { name: '', key: 'ro' },\n    { name: '', key: 'ru' },\n    { name: '', key: 'sm' },\n    { name: '', key: 'gd' },\n    { name: '', key: 'sr' },\n    { name: '', key: 'st' },\n    { name: '', key: 'sn' },\n    { name: '', key: 'sd' },\n    { name: '', key: 'si' },\n    { name: '', key: 'sk' },\n    { name: '', key: 'sl' },\n    { name: '', key: 'so' },\n    { name: '', key: 'es' },\n    { name: '', key: 'su' },\n    { name: '', key: 'sw' },\n    { name: '', key: 'sv' },\n    { name: '', key: 'tl' },\n    { name: '', key: 'tg' },\n    { name: '', key: 'ta' },\n    { name: '', key: 'te' },\n    { name: '', key: 'th' },\n    { name: '', key: 'tr' },\n    { name: '', key: 'uk' },\n    { name: '', key: 'ur' },\n    { name: '', key: 'uz' },\n    { name: '', key: 'vi' },\n    { name: '', key: 'cy' },\n    { name: '', key: 'xh' },\n    { name: '', key: 'yi' },\n    { name: '', key: 'yo' },\n    { name: '', key: 'zu' },\n];\n\nconst en = [\n    { name: 'English', key: 'en' },\n    // { name: 'English Keywords', key: 'en-k' },\n    { name: 'Bengali', key: 'bn' },\n    { name: 'Gujarati', key: 'gu' },\n    { name: 'Hindi', key: 'hi' },\n    { name: 'Kannada', key: 'kn' },\n    { name: 'Malayalam', key: 'ml' },\n    { name: 'Marathi', key: 'mr' },\n    { name: 'Nepalese', key: 'ne' },\n    { name: 'Oriya', key: 'or' },\n    { name: 'Punjabi', key: 'pa' },\n    { name: 'Sinhala', key: 'si' },\n    { name: 'Tamil', key: 'ta' },\n    { name: 'Telugu', key: 'te' },\n    { name: 'Urdu', key: 'ur' },\n];\n\nconst tr = [\n    { name: 'Basitletirilmi ince', key: 'zh' },\n    { name: 'Geleneksel ince', key: 'zh-TW' },\n    { name: 'ngilizce', key: 'en' },\n    { name: 'Afrikaanca', key: 'af' },\n    { name: 'Arnavuta', key: 'sq' },\n    { name: 'Amharca', key: 'am' },\n    { name: 'Arapa', key: 'ar' },\n    { name: 'Ermenice', key: 'hy' },\n    { name: 'Azerbaycanca', key: 'az' },\n    { name: 'Baska', key: 'eu' },\n    { name: 'Belarusa', key: 'be' },\n    { name: 'Bengalce', key: 'bn' },\n    { name: 'Bonaka', key: 'bs' },\n    { name: 'Bulgarca', key: 'bg' },\n    { name: 'Katalanca', key: 'ca' },\n    { name: 'Sabuanca', key: 'ceb' },\n    { name: 'Korsikaca', key: 'co' },\n    { name: 'Hrvata', key: 'hr' },\n    { name: 'eke', key: 'cs' },\n    { name: 'Danca', key: 'da' },\n    { name: 'Felemenke', key: 'nl' },\n    { name: 'Esperanto', key: 'eo' },\n    { name: 'Estonca', key: 'et' },\n    { name: 'Fince', key: 'fi' },\n    { name: 'Franszca', key: 'fr' },\n    { name: 'Frizce', key: 'fy' },\n    { name: 'Galiyaca', key: 'gl' },\n    { name: 'Grcce', key: 'ka' },\n    { name: 'Almanca', key: 'de' },\n    { name: 'Yunanca', key: 'el' },\n    { name: 'Gucerata', key: 'gu' },\n    { name: 'Haiti Kreyolu', key: 'ht' },\n    { name: 'Hausaca', key: 'ha' },\n    { name: 'Hawaii dili', key: 'haw' },\n    { name: 'branice', key: 'he' },\n    { name: 'Hinte', key: 'hi' },\n    { name: 'Hmong', key: 'hmn' },\n    { name: 'Macarca', key: 'hu' },\n    { name: 'zlandaca', key: 'is' },\n    { name: 'gbo dili', key: 'ig' },\n    { name: 'Endonezce', key: 'id' },\n    { name: 'rlandaca', key: 'ga' },\n    { name: 'talyanca', key: 'it' },\n    { name: 'Japonca', key: 'ja' },\n    { name: 'Cava dili', key: 'jw' },\n    { name: 'Kannada dili', key: 'kn' },\n    { name: 'Kazaka', key: 'kk' },\n    { name: 'Kmerce', key: 'km' },\n    { name: 'Korece', key: 'ko' },\n    { name: 'Krte', key: 'ku' },\n    { name: 'Krgzca', key: 'ky' },\n    { name: 'Laoca', key: 'lo' },\n    { name: 'Latince', key: 'la' },\n    { name: 'Letonca', key: 'lv' },\n    { name: 'Litvanca', key: 'lt' },\n    { name: 'Lksemburgca', key: 'lb' },\n    { name: 'Makedonca', key: 'mk' },\n    { name: 'Malgaa', key: 'mg' },\n    { name: 'Malayca', key: 'ms' },\n    { name: 'Malayalamca', key: 'ml' },\n    { name: 'Maltaca', key: 'mt' },\n    { name: 'Maorice', key: 'mi' },\n    { name: 'Marathice', key: 'mr' },\n    { name: 'Moolca', key: 'mn' },\n    { name: 'Birmanca', key: 'my' },\n    { name: 'Nepalce', key: 'ne' },\n    { name: 'Norvee', key: 'no' },\n    { name: 'evaca', key: 'ny' },\n    { name: 'Petuca', key: 'ps' },\n    { name: 'Farsa', key: 'fa' },\n    { name: 'Lehe', key: 'pl' },\n    { name: 'Portekizce', key: 'pt' },\n    { name: 'Pencapa', key: 'pa' },\n    { name: 'Rumence', key: 'ro' },\n    { name: 'Rusa', key: 'ru' },\n    { name: 'Samoaca', key: 'sm' },\n    { name: 'skoa Gaelic', key: 'gd' },\n    { name: 'Srpa', key: 'sr' },\n    { name: 'Sotho dili', key: 'st' },\n    { name: 'ona dili', key: 'sn' },\n    { name: 'Since', key: 'sd' },\n    { name: 'Sinhala dili', key: 'si' },\n    { name: 'Slovaka', key: 'sk' },\n    { name: 'Slovence', key: 'sl' },\n    { name: 'Somalice', key: 'so' },\n    { name: 'spanyolca', key: 'es' },\n    { name: 'Sundaca', key: 'su' },\n    { name: 'Svahili', key: 'sw' },\n    { name: 'svee', key: 'sv' },\n    { name: 'Tagalogca', key: 'tl' },\n    { name: 'Tacike', key: 'tg' },\n    { name: 'Tamilce', key: 'ta' },\n    { name: 'Teluguca', key: 'te' },\n    { name: 'Tayca', key: 'th' },\n    { name: 'Trke', key: 'tr' },\n    { name: 'Ukraynaca', key: 'uk' },\n    { name: 'Urduca', key: 'ur' },\n    { name: 'zbeke', key: 'uz' },\n    { name: 'Vietnamca', key: 'vi' },\n    { name: 'Galce', key: 'cy' },\n    { name: 'bantu', key: 'xh' },\n    { name: 'Yidi', key: 'yi' },\n    { name: 'Yoruba dili', key: 'yo' },\n    { name: 'Zuluca', key: 'zu' },\n];\n\nconst languages = {\n    en,\n    zh,\n    'zh-cn': zh,\n    'zh-tw': zh,\n    tr,\n};\n\nexport default languages;\n","import { sleep } from '../utils';\n\nfunction translate(query = '', lang) {\n    if (!query.trim()) return Promise.resolve('');\n    const url = new URL('https://translate.googleapis.com/translate_a/single');\n    url.searchParams.append('client', 'gtx');\n    url.searchParams.append('sl', 'auto');\n    url.searchParams.append('dt', 't');\n    url.searchParams.append('tl', lang);\n    url.searchParams.append('q', query);\n\n    return new Promise((resolve, reject) => {\n        fetch(url.href)\n            .then((data) => data.json())\n            .then((data) => {\n                if (data) {\n                    resolve(data[0].map((item) => item[0].trim()).join('\\n'));\n                } else {\n                    resolve('');\n                }\n            })\n            .catch((err) => {\n                reject(err);\n            });\n    });\n}\n\nexport default async function googleTranslate(subtitle = [], lang) {\n    return new Promise((resolve, reject) => {\n        const result = [];\n        (function loop() {\n            const item = subtitle.shift();\n            if (item) {\n                translate(item.text, lang)\n                    .then((text) => {\n                        item.text = text;\n                        result.push(item);\n                        sleep(100).then(loop);\n                    })\n                    .catch((err) => {\n                        reject(err);\n                    });\n            } else {\n                resolve(result);\n            }\n        })();\n    });\n}\n\n// export default async function googleTranslate(subtitle = [], lang) {\n//     return new Promise((resolve, reject) => {\n//         const result = [];\n//         const entireArray = [];\n//         (function loop() {\n//             const item = subtitle.shift();\n//             if (item) {\n//                 result.push(item.text);\n//                 entireArray.push(item);\n//                 loop();\n//             } else {\n//                 const body = {\n//                     text_lines: result,\n//                     source_language: 'en',\n//                     target_language: lang,\n//                 };\n//                 fetch('http://13.90.168.58:8080/batch_translate', {\n//                     method: 'POST',\n//                     body: JSON.stringify(body),\n//                     headers: {\n//                         'Content-Type': 'application/json',\n//                     },\n//                 })\n//                     .then((resp) => {\n//                         return resp.json();\n//                     })\n//                     .then((resp) => {\n//                         console.log(resp);\n//                         for (let i = 0; i < resp.text_lines.length; i++) {\n//                             entireArray[i].text = resp.text_lines[i];\n//                         }\n//                         resolve(entireArray);\n//                     })\n//                     .catch((err) => {\n//                         console.log(err);\n//                         reject(err);\n//                     });\n//             }\n//         })();\n//     });\n// }\n","export default async function ai4BharatTranslate(subtitle = [], lang) {\n    console.log('ai4bharat translate clicked');\n    return new Promise((resolve, reject) => {\n        const result = [];\n        const entireArray = [];\n        (function loop() {\n            const item = subtitle.shift();\n            if (item) {\n                result.push(item.text);\n                entireArray.push(item);\n                loop();\n            } else {\n                const body = {\n                    text_lines: result,\n                    source_language: 'en',\n                    target_language: lang,\n                };\n                fetch(`${process.env.REACT_APP_NMR_URL}/batch_translate`, {\n                    method: 'POST',\n                    body: JSON.stringify(body),\n                    headers: {\n                        'Content-Type': 'application/json',\n                    },\n                })\n                    .then((resp) => {\n                        return resp.json();\n                    })\n                    .then((resp) => {\n                        console.log(resp);\n                        for (let i = 0; i < resp.text_lines.length; i++) {\n                            entireArray[i].text = resp.text_lines[i];\n                        }\n                        resolve(entireArray);\n                    })\n                    .catch((err) => {\n                        console.log(err);\n                        reject(err);\n                    });\n            }\n        })();\n    });\n}\n","import styled from 'styled-components';\nimport languages from '../libs/languages';\nimport React, { useState, useCallback, useEffect } from 'react';\nimport { Table } from 'react-virtualized';\nimport unescape from 'lodash/unescape';\nimport debounce from 'lodash/debounce';\nimport { ReactTransliterate } from 'react-transliterate';\nimport { t, Translate } from 'react-i18nify';\n// import englishKeywordsTranslate from '../libs/englishKeywordsTranslate';\nimport googleTranslate from '../libs/googleTranslate';\nimport ai4BharatTranslate from '../libs/ai4BharatTranslate';\n\nconst Style = styled.div`\n    position: relative;\n    box-shadow: 0px 5px 25px 5px rgb(0 0 0 / 80%);\n    background-color: rgb(0 0 0 / 100%);\n\n    .translate {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-evenly;\n        align-items: center;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n        height: 80px;\n\n        .heading {\n            h4 {\n                margin: 0;\n            }\n        }\n\n        .options {\n            display: flex;\n            width: 80%;\n        }\n\n        select {\n            width: 65%;\n            outline: none;\n            height: 35px;\n            border-radius: 3px;\n        }\n\n        .btn {\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 50%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #673ab7;\n            transition: all 0.2s ease 0s;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n    }\n\n    .reference {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-evenly;\n        align-items: center;\n        height: 80px;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n        h4 {\n            margin-bottom: 0;\n            margin-top: 0;\n        }\n    }\n\n    .ReactVirtualized__Table {\n        .ReactVirtualized__Table__Grid {\n            outline: none;\n        }\n\n        .ReactVirtualized__Grid__innerScrollContainer {\n            overflow: visible !important;\n        }\n\n        .ReactVirtualized__Table__row {\n            overflow: visible !important;\n            .item {\n                height: 100%;\n                padding: 10px;\n\n                ul {\n                    position: absolute !important;\n                    bottom: 200px !important;\n                    left: 0 !important;\n                    z-index: 9999 !important;\n                    height: 170px !important;\n                    width: 100% !important;\n                    transform: translate(0px, 0px) !important;\n                    display: block !important;\n\n                    li {\n                        color: #000 !important;\n                        border-bottom: 1px solid #999;\n                    }\n                }\n\n                .textarea {\n                    border: none;\n                    width: 100%;\n                    height: 100%;\n                    color: #fff;\n                    font-size: 12px;\n                    padding: 10px;\n                    text-align: center;\n                    background-color: rgba(255, 255, 255, 0.05);\n                    border: 1px solid rgba(255, 255, 255, 0.1);\n                    transition: all 0.2s ease;\n                    resize: none;\n                    outline: none;\n\n                    word-wrap: break-word;\n\n                    &.highlight {\n                        background-color: rgb(0 87 158);\n                        border: 1px solid rgba(255, 255, 255, 0.3);\n                    }\n\n                    &.illegal {\n                        background-color: rgb(123 29 0);\n                        border: 1px solid rgba(255, 255, 255, 0.3);\n                    }\n                }\n            }\n        }\n    }\n`;\n\nexport default function Subtitles({\n    currentIndex,\n    subtitle,\n    setSubtitleOriginal,\n    checkSub,\n    player,\n    updateSub,\n    language,\n    setLoading,\n    subtitleEnglish,\n    formatSub,\n    setSubtitle,\n    notify,\n    isPrimary,\n    clearedSubs,\n    setClearedSubs,\n    configuration,\n    updateSubOriginal = null,\n    translationApi,\n}) {\n    const [height, setHeight] = useState(100);\n    const [translate, setTranslate] = useState(null);\n\n    const [languageAvailable, setLanguageAvailable] = useState(languages);\n\n    useEffect(() => {\n        if (localStorage.getItem('lang')) {\n            setTranslate(localStorage.getItem('lang'));\n        } else {\n            setTranslate('en');\n        }\n    }, []);\n    useEffect(() => {\n        if (translationApi === 'AI4Bharat') {\n            fetch(`${process.env.REACT_APP_NMR_URL}/supported_languages`)\n                .then((resp) => {\n                    return resp.json();\n                })\n                .then((resp) => {\n                    let langArray = [];\n                    for (const key in resp) {\n                        langArray.push({ name: `${key}`, key: `${resp[key]}` });\n                    }\n                    setLanguageAvailable(langArray);\n                    localStorage.setItem('lang', langArray[0].key);\n                    setTranslate(langArray[0].key);\n                })\n                .catch((err) => {\n                    console.log(err);\n                });\n        } else {\n            setLanguageAvailable(languages);\n            localStorage.setItem('lang', languages['en'][1].key);\n            setTranslate(languages['en'][1].key);\n        }\n    }, [translationApi]);\n    const handleBlur = (data, index) => {\n        //console.log(e.target.value);\n        if (isPrimary) {\n            return;\n        }\n        console.log(translationApi);\n        if (translationApi === 'AI4Bharat') {\n            ai4BharatTranslate([{ text: data.text }], localStorage.getItem('lang')).then((resp) => {\n                updateSubOriginal(data, resp[0], index);\n            });\n        } else {\n            googleTranslate([{ text: data.text }], localStorage.getItem('lang')).then((resp) => {\n                updateSubOriginal(data, resp[0], index);\n            });\n        }\n    };\n\n    const resize = useCallback(() => {\n        setHeight(document.body.clientHeight - 240);\n    }, [setHeight]);\n\n    useEffect(() => {\n        resize();\n        if (!resize.init) {\n            resize.init = true;\n            const debounceResize = debounce(resize, 500);\n            window.addEventListener('resize', debounceResize);\n        }\n    }, [resize]);\n\n    const onTranslate = useCallback(() => {\n        console.log(translationApi);\n        setLoading(t('TRANSLATING'));\n\n        if (clearedSubs) {\n            // if (translate === 'en-k') {\n            //     return googleTranslate(formatSub(JSON.parse(window.localStorage.getItem('subsBeforeClear'))), 'en')\n            //         .then((res) => {\n            //             englishKeywordsTranslate(formatSub(res), translate)\n            //                 .then((res) => {\n            //                     setLoading('');\n            //                     setSubtitle(formatSub(res));\n            //                     localStorage.setItem('currentLang', 'en');\n            //                     notify({\n            //                         message: t('TRANSLAT_SUCCESS'),\n            //                         level: 'success',\n            //                     });\n            //                 })\n            //                 .catch((err) => {\n            //                     setLoading('');\n            //                     notify({\n            //                         message: err.message,\n            //                         level: 'error',\n            //                     });\n            //                 });\n            //         })\n            //         .catch((err) => {\n            //             setLoading('');\n            //             notify({\n            //                 message: err.message,\n            //                 level: 'error',\n            //             });\n            //         });\n            // }\n\n            if (translationApi === 'AI4Bharat') {\n                return ai4BharatTranslate(\n                    formatSub(JSON.parse(window.localStorage.getItem('subsBeforeClear'))),\n                    translate,\n                )\n                    .then((res) => {\n                        setLoading('');\n                        setSubtitle(formatSub(res));\n                        localStorage.setItem('currentLang', translate);\n                        notify({\n                            message: t('TRANSLAT_SUCCESS'),\n                            level: 'success',\n                        });\n                    })\n                    .catch((err) => {\n                        setLoading('');\n                        notify({\n                            message: err.message,\n                            level: 'error',\n                        });\n                    });\n            }\n\n            return googleTranslate(formatSub(JSON.parse(window.localStorage.getItem('subsBeforeClear'))), translate)\n                .then((res) => {\n                    setLoading('');\n                    setSubtitle(formatSub(res));\n                    localStorage.setItem('currentLang', translate);\n                    notify({\n                        message: t('TRANSLAT_SUCCESS'),\n                        level: 'success',\n                    });\n                })\n                .catch((err) => {\n                    setLoading('');\n                    notify({\n                        message: err.message,\n                        level: 'error',\n                    });\n                });\n        }\n\n        // if (translate === 'en-k') {\n        //     return googleTranslate(formatSub(subtitle), 'en')\n        //         .then((res) => {\n        //             englishKeywordsTranslate(formatSub(res), translate)\n        //                 .then((res) => {\n        //                     setLoading('');\n        //                     setSubtitle(formatSub(res));\n        //                     localStorage.setItem('currentLang', 'en');\n        //                     notify({\n        //                         message: t('TRANSLAT_SUCCESS'),\n        //                         level: 'success',\n        //                     });\n        //                 })\n        //                 .catch((err) => {\n        //                     setLoading('');\n        //                     notify({\n        //                         message: err.message,\n        //                         level: 'error',\n        //                     });\n        //                 });\n        //         })\n        //         .catch((err) => {\n        //             setLoading('');\n        //             notify({\n        //                 message: err.message,\n        //                 level: 'error',\n        //             });\n        //         });\n        // }\n        if (translationApi === 'AI4Bharat') {\n            // console.log('ai4bharat api');\n            return ai4BharatTranslate(formatSub(subtitle), translate)\n                .then((res) => {\n                    setLoading('');\n                    setSubtitle(formatSub(res));\n                    localStorage.setItem('currentLang', translate);\n                    notify({\n                        message: t('TRANSLAT_SUCCESS'),\n                        level: 'success',\n                    });\n                })\n                .catch((err) => {\n                    setLoading('');\n                    notify({\n                        message: err.message,\n                        level: 'error',\n                    });\n                });\n        }\n\n        // console.log('google api');\n        return googleTranslate(formatSub(subtitle), translate)\n            .then((res) => {\n                setLoading('');\n                setSubtitle(formatSub(res));\n                localStorage.setItem('currentLang', translate);\n                notify({\n                    message: t('TRANSLAT_SUCCESS'),\n                    level: 'success',\n                });\n            })\n            .catch((err) => {\n                setLoading('');\n                notify({\n                    message: err.message,\n                    level: 'error',\n                });\n            });\n    }, [subtitle, setLoading, formatSub, setSubtitle, translate, notify, clearedSubs, translationApi]);\n\n    return (\n        subtitle && (\n            <Style className=\"subtitles\">\n                {isPrimary && translate && languageAvailable && (\n                    <div className=\"translate\">\n                        <div className=\"heading\">\n                            <h4>Translation</h4>\n                        </div>\n                        <div className=\"options\">\n                            <select\n                                value={translate}\n                                onChange={(event) => {\n                                    setTranslate(event.target.value);\n                                    localStorage.setItem('lang', event.target.value);\n                                }}\n                            >\n                                {(languageAvailable[language] || languageAvailable.en || languageAvailable).map(\n                                    (item) =>\n                                        item.key !== 'en' && (\n                                            <option key={item.key} value={item.key}>\n                                                {item.name}\n                                            </option>\n                                        ),\n                                )}\n                            </select>\n                            <div className=\"btn\" onClick={onTranslate}>\n                                <Translate value=\"TRANSLATE\" />\n                            </div>\n                        </div>\n                    </div>\n                )}\n\n                {!isPrimary && (\n                    <div className=\"reference\">\n                        <h4>Reference Subtitles</h4>\n                        <span>Language : {languages['en'].filter((item) => item.key === language)[0].name}</span>\n                    </div>\n                )}\n\n                <Table\n                    headerHeight={40}\n                    width={250}\n                    height={height}\n                    rowHeight={80}\n                    scrollToIndex={currentIndex}\n                    rowCount={subtitle.length}\n                    rowGetter={({ index }) => subtitle[index]}\n                    headerRowRenderer={() => null}\n                    rowRenderer={(props) => {\n                        return (\n                            <div\n                                key={props.key}\n                                className={props.className}\n                                style={props.style}\n                                onClick={() => {\n                                    if (player) {\n                                        player.pause();\n                                        if (player.duration >= props.rowData.startTime) {\n                                            player.currentTime = props.rowData.startTime + 0.001;\n                                        }\n                                    }\n                                }}\n                            >\n                                <div className=\"item\">\n                                    <ReactTransliterate\n                                        className={[\n                                            'textarea',\n                                            currentIndex === props.index ? 'highlight' : '',\n                                            checkSub(props.rowData) ? 'illegal' : '',\n                                        ]\n                                            .join(' ')\n                                            .trim()}\n                                        value={unescape(props.rowData.text)}\n                                        spellCheck={false}\n                                        onChangeText={(event) => {\n                                            updateSub(props.rowData, {\n                                                text: event,\n                                            });\n                                        }}\n                                        onBlur={() => handleBlur(props.rowData, props.index)}\n                                        enabled={\n                                            isPrimary\n                                                ? !localStorage.getItem('lang') ||\n                                                  localStorage.getItem('lang') === 'en' ||\n                                                  localStorage.getItem('lang') === 'en-k'\n                                                    ? false\n                                                    : true\n                                                : false\n                                        }\n                                        lang={\n                                            isPrimary\n                                                ? localStorage.getItem('lang') === 'en-k'\n                                                    ? 'en'\n                                                    : localStorage.getItem('lang')\n                                                : 'en'\n                                        }\n                                        maxOptions={5}\n                                        renderComponent={(props) => <textarea {...props} />}\n                                    />\n                                    {/* <textarea\n                                    maxLength={200}\n                                    spellCheck={false}\n                                    className={[\n                                        'textarea',\n                                        currentIndex === props.index ? 'highlight' : '',\n                                        checkSub(props.rowData) ? 'illegal' : '',\n                                    ]\n                                        .join(' ')\n                                        .trim()}\n                                    value={unescape(props.rowData.text)}\n                                    onChange={(event) => {\n                                        updateSub(props.rowData, {\n                                            text: event.target.value,\n                                        });\n                                    }}\n                                /> */}\n                                </div>\n                            </div>\n                        );\n                    }}\n                ></Table>\n            </Style>\n        )\n    );\n}\n","import { isPlaying } from '../utils';\n\n// function matrixCallback(callback) {\n//     try {\n//         const result = [];\n//         const x = 10;\n//         const y = 5;\n//         for (let xIndex = 0; xIndex < x; xIndex += 1) {\n//             for (let yIndex = 0; yIndex < y; yIndex += 1) {\n//                 if (xIndex === 0 || xIndex === x - 1 || yIndex === 0 || yIndex === y - 1) {\n//                     result.push(callback(xIndex, yIndex, x, y));\n//                 }\n//             }\n//         }\n//         return result;\n//     } catch (e) {\n//         console.log(e);\n//     }\n// }\n\n// function getColors($canvas, $video, width, height) {\n//     try {\n//         const ctx = $canvas.getContext('2d');\n//         $canvas.width = width;\n//         $canvas.height = height;\n//         ctx.drawImage($video, 0, 0);\n//         return matrixCallback((xIndex, yIndex, x, y) => {\n//             const itemW = width / x;\n//             const itemH = height / y;\n//             const itemX = xIndex * itemW;\n//             const itemY = yIndex * itemH;\n//             if (itemW < 1 || itemH < 1) return { r: 0, g: 0, b: 0 };\n//             const { data } = ctx.getImageData(itemX, itemY, itemW, itemH);\n//             let r = 0;\n//             let g = 0;\n//             let b = 0;\n//             for (let i = 0, l = data.length; i < l; i += 4) {\n//                 r += data[i];\n//                 g += data[i + 1];\n//                 b += data[i + 2];\n//             }\n//             r = Math.floor(r / (data.length / 4));\n//             g = Math.floor(g / (data.length / 4));\n//             b = Math.floor(b / (data.length / 4));\n//             return { r, g, b };\n//         });\n//     } catch (e) {\n//         console.log(e);\n//     }\n// }\n\n// function creatMatrix(parent) {\n//     try {\n//         return matrixCallback((xIndex, yIndex, x, y) => {\n//             const $box = document.createElement('div');\n//             $box.style.position = 'absolute';\n//             $box.style.left = `${(xIndex * 100) / x}%`;\n//             $box.style.top = `${(yIndex * 100) / y}%`;\n//             $box.style.width = `${100 / x}%`;\n//             $box.style.height = `${100 / y}%`;\n//             $box.style.borderRadius = '50%';\n//             $box.style.transition = 'all .2s ease';\n//             parent.appendChild($box);\n//             return {\n//                 $box,\n//                 left: xIndex === 0,\n//                 right: xIndex === x - 1,\n//                 top: yIndex === 0,\n//                 bottom: yIndex === y - 1,\n//             };\n//         });\n//     } catch (e) {\n//         console.log(e);\n//     }\n// }\n\nfunction setStyle(element, key, value) {\n    try {\n        element.style[key] = value;\n        return element;\n    } catch (e) {\n        console.log(e);\n    }\n}\n\nfunction setStyles(element, styles) {\n    try {\n        Object.keys(styles).forEach((key) => {\n            setStyle(element, key, styles[key]);\n        });\n        return element;\n    } catch (e) {\n        console.log(e);\n    }\n}\n\nexport default function backlight($player, $video) {\n    try {\n        const $backlight = document.createElement('div');\n        $backlight.classList.add('backlight');\n        setStyles($backlight, {\n            position: 'absolute',\n            zIndex: 9,\n            left: 0,\n            top: 0,\n            right: 0,\n            bottom: 0,\n            width: '100%',\n            height: '100%',\n        });\n\n        // const matrix = creatMatrix($backlight);\n        // const $canvas = document.createElement('canvas');\n        $player.insertBefore($backlight, $video);\n\n        function run() {\n            // const { clientWidth, clientHeight } = $video;\n            // const colors = getColors($canvas, $video, clientWidth, clientHeight);\n            // if (colors) {\n            //     colors.forEach(({ r, g, b }, index) => {\n            //         // const { $box, left, right, top, bottom } = matrix[index];\n            //         // const x = left ? '-64px' : right ? '64px' : '0';\n            //         // const y = top ? '-64px' : bottom ? '64px' : '0';\n            //         // $box.style.boxShadow = `rgb(${r}, ${g}, ${b}) ${x} ${y} 128px`;\n            //     });\n            // }\n        }\n\n        $video.addEventListener('seeked', run);\n        $video.addEventListener('loadedmetadata', () => setTimeout(run, 1000));\n\n        (function loop() {\n            window.requestAnimationFrame(() => {\n                if (isPlaying($video)) {\n                    run();\n                }\n                loop();\n            });\n        })();\n    } catch (e) {\n        console.log(e);\n    }\n}\n","import React, { useState, useEffect, createRef, useCallback, useMemo, memo } from 'react';\nimport TextareaAutosize from 'react-textarea-autosize';\nimport { Translate } from 'react-i18nify';\nimport styled from 'styled-components';\nimport backlight from '../libs/backlight';\nimport { isPlaying } from '../utils';\n\nconst Style = styled.div`\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: 100%;\n    width: 100%;\n    padding: 5%;\n\n    margin-top: -13px;\n\n    .video {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        height: 100%;\n        width: auto;\n        position: relative;\n\n        video {\n            position: relative;\n            z-index: 10;\n            outline: none;\n            max-height: 100%;\n            max-width: 100%;\n            box-shadow: 0px 5px 25px 5px rgb(0 0 0 / 80%);\n            background-color: #000;\n            cursor: pointer;\n        }\n\n        .subtitle {\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            align-items: center;\n            position: absolute;\n            z-index: 20;\n            left: 0;\n            right: 0;\n            bottom: 5%;\n            width: 100%;\n            padding: 0 20px;\n            user-select: none;\n            pointer-events: none;\n\n            .operate {\n                padding: 5px 15px;\n                color: #fff;\n                font-size: 13px;\n                border-radius: 3px;\n                margin-bottom: 5px;\n                background-color: rgb(0 0 0 / 75%);\n                border: 1px solid rgb(255 255 255 / 20%);\n                cursor: pointer;\n                pointer-events: all;\n            }\n\n            .textarea {\n                width: 100%;\n                outline: none;\n                resize: none;\n                text-align: center;\n                line-height: 1.2;\n                border: none;\n                color: #fff;\n                font-size: 20px;\n                padding: 5px 10px;\n                user-select: all;\n                pointer-events: all;\n                background-color: rgb(0 0 0 / 0);\n                text-shadow: rgb(0 0 0) 1px 0px 1px, rgb(0 0 0) 0px 1px 1px, rgb(0 0 0) -1px 0px 1px,\n                    rgb(0 0 0) 0px -1px 1px;\n\n                &.pause {\n                    background-color: rgb(0 0 0 / 50%);\n                }\n            }\n        }\n    }\n`;\n\nconst VideoWrap = memo(\n    ({ setPlayer, setCurrentTime, setPlaying }) => {\n        const $video = createRef();\n\n        useEffect(() => {\n            setPlayer($video.current);\n            (function loop() {\n                window.requestAnimationFrame(() => {\n                    if ($video.current) {\n                        setPlaying(isPlaying($video.current));\n                        setCurrentTime($video.current.currentTime || 0);\n                    }\n                    loop();\n                });\n            })();\n        }, [setPlayer, setCurrentTime, setPlaying, $video]);\n\n        const onClick = useCallback(() => {\n            if ($video.current) {\n                if (isPlaying($video.current)) {\n                    $video.current.pause();\n                } else {\n                    $video.current.play();\n                }\n            }\n        }, [$video]);\n\n        // if (localStorage.getItem('videoSrc') === null) {\n        //     return <video onClick={onClick} src=\"/sample.mp4\" ref={$video} />;\n        // }\n\n        return <video onClick={onClick} src={localStorage.getItem('videoSrc')} ref={$video} />;\n    },\n    () => true,\n);\n\nexport default function Player(props) {\n    const [currentSub, setCurrentSub] = useState(null);\n    const [focusing, setFocusing] = useState(false);\n    const [inputItemCursor, setInputItemCursor] = useState(0);\n    const $player = createRef();\n\n    useEffect(() => {\n        if ($player.current && props.player && !backlight.state) {\n            backlight.state = true;\n            backlight($player.current, props.player);\n        }\n    }, [$player, props.player]);\n\n    useMemo(() => {\n        setCurrentSub(props.subtitle[props.currentIndex]);\n    }, [props.subtitle, props.currentIndex]);\n\n    const onChange = useCallback(\n        (event) => {\n            props.player.pause();\n            props.updateSub(currentSub, { text: event.target.value });\n            if (event.target.selectionStart) {\n                setInputItemCursor(event.target.selectionStart);\n            }\n        },\n        [props, currentSub],\n    );\n\n    const onClick = useCallback(\n        (event) => {\n            props.player.pause();\n            if (event.target.selectionStart) {\n                setInputItemCursor(event.target.selectionStart);\n            }\n        },\n        [props],\n    );\n\n    const onFocus = useCallback((event) => {\n        setFocusing(true);\n        if (event.target.selectionStart) {\n            setInputItemCursor(event.target.selectionStart);\n        }\n    }, []);\n\n    const onBlur = useCallback(() => {\n        setTimeout(() => setFocusing(false), 500);\n    }, []);\n\n    const onSplit = useCallback(() => {\n        props.splitSub(currentSub, inputItemCursor);\n    }, [props, currentSub, inputItemCursor]);\n\n    return (\n        <Style className=\"player\">\n            <div className=\"video\" ref={$player}>\n                <VideoWrap {...props} />\n                {props.player && currentSub ? (\n                    <div className=\"subtitle\">\n                        {focusing ? (\n                            <div className=\"operate\" onClick={onSplit}>\n                                <Translate value=\"SPLIT\" />\n                            </div>\n                        ) : null}\n                        <TextareaAutosize\n                            className={`textarea ${!props.playing ? 'pause' : ''}`}\n                            value={currentSub.text}\n                            onChange={onChange}\n                            onClick={onClick}\n                            onFocus={onFocus}\n                            onBlur={onBlur}\n                            onKeyDown={onFocus}\n                            spellCheck={false}\n                        />\n                    </div>\n                ) : null}\n            </div>\n        </Style>\n    );\n}\n","import { ContextMenu, MenuItem, ContextMenuTrigger } from 'react-contextmenu';\nimport React, { useEffect, useCallback } from 'react';\nimport { Translate } from 'react-i18nify';\nimport styled from 'styled-components';\nimport isEqual from 'lodash/isEqual';\nimport DT from 'duration-time-conversion';\nimport { getKeyCode } from '../utils';\n\nconst Timeline = styled.div`\n    position: absolute;\n    z-index: 9;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    pointer-events: none;\n\n    .react-contextmenu-wrapper {\n        position: absolute;\n        z-index: 9;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        pointer-events: all;\n    }\n\n    .sub-item {\n        position: absolute;\n        top: 30%;\n        left: 0;\n        height: 40%;\n        overflow: hidden;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        text-align: center;\n        color: #fff;\n        font-size: 14px;\n        cursor: move;\n        user-select: none;\n        pointer-events: all;\n        background-color: rgba(255, 255, 255, 0.2);\n        border: 1px solid rgba(255, 255, 255, 0.2);\n\n        &:hover {\n            background-color: rgba(255, 255, 255, 0.3);\n        }\n\n        &.sub-highlight {\n            background-color: rgba(33, 150, 243, 0.5);\n            border: 1px solid rgba(33, 150, 243, 0.5);\n        }\n\n        &.sub-illegal {\n            background-color: rgba(199, 81, 35, 0.5);\n        }\n\n        .sub-handle {\n            position: absolute;\n            top: 0;\n            bottom: 0;\n            z-index: 1;\n            height: 100%;\n            cursor: col-resize;\n            user-select: none;\n            &:hover {\n                background-color: rgba(255, 255, 255, 0.1);\n            }\n        }\n\n        .sub-text {\n            position: relative;\n            z-index: 0;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            flex-direction: column;\n            word-break: break-all;\n            white-space: nowrap;\n            text-shadow: rgb(0 0 0) 1px 0px 1px, rgb(0 0 0) 0px 1px 1px, rgb(0 0 0) -1px 0px 1px,\n                rgb(0 0 0) 0px -1px 1px;\n            width: 100%;\n            height: 100%;\n\n            p {\n                margin: 2px 0;\n                line-height: 1;\n\n                &.bilingual {\n                    transform: scale(0.8);\n                }\n            }\n        }\n\n        .sub-duration {\n            opacity: 0.5;\n            position: absolute;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            width: 100%;\n            text-align: center;\n            font-size: 12px;\n        }\n    }\n`;\n\nfunction getCurrentSubs(subs, beginTime, duration) {\n    return subs.filter((item) => {\n        return (\n            (item.startTime >= beginTime && item.startTime <= beginTime + duration) ||\n            (item.endTime >= beginTime && item.endTime <= beginTime + duration) ||\n            (item.startTime < beginTime && item.endTime > beginTime + duration)\n        );\n    });\n}\n\nfunction magnetically(time, closeTime) {\n    if (!closeTime) return time;\n    if (time > closeTime - 0.1 && closeTime + 0.1 > time) {\n        return closeTime;\n    }\n    return time;\n}\n\nlet lastTarget = null;\nlet lastSub = null;\nlet lastType = '';\nlet lastX = 0;\nlet lastIndex = -1;\nlet lastWidth = 0;\nlet lastDiffX = 0;\nlet isDroging = false;\n\nexport default React.memo(\n    function ({\n        player,\n        subtitle,\n        render,\n        currentTime,\n        checkSub,\n        removeSub,\n        hasSub,\n        updateSub,\n        mergeSub,\n        updateSubEnglish,\n    }) {\n        const $blockRef = React.createRef();\n        const $subsRef = React.createRef();\n        const currentSubs = getCurrentSubs(subtitle, render.beginTime, render.duration);\n        const gridGap = document.body.clientWidth / render.gridNum;\n        const currentIndex = currentSubs.findIndex(\n            (item) => item.startTime <= currentTime && item.endTime > currentTime,\n        );\n\n        const onMouseDown = (sub, event, type) => {\n            lastSub = sub;\n            if (event.button !== 0) return;\n            isDroging = true;\n            lastType = type;\n            lastX = event.pageX;\n            lastIndex = currentSubs.indexOf(sub);\n            lastTarget = $subsRef.current.children[lastIndex];\n            lastWidth = parseFloat(lastTarget.style.width);\n        };\n\n        const onDoubleClick = (sub, event) => {\n            const $subs = event.currentTarget;\n            const index = hasSub(sub);\n            const previou = subtitle[index - 1];\n            const next = subtitle[index + 1];\n            if (previou && next) {\n                const width = (next.startTime - previou.endTime) * 10 * gridGap;\n                $subs.style.width = `${width}px`;\n                const start = DT.d2t(previou.endTime);\n                const end = DT.d2t(next.startTime);\n                updateSub(sub, {\n                    start,\n                    end,\n                });\n            }\n        };\n\n        const onDocumentMouseMove = useCallback((event) => {\n            if (isDroging && lastTarget) {\n                lastDiffX = event.pageX - lastX;\n                if (lastType === 'left') {\n                    lastTarget.style.width = `${lastWidth - lastDiffX}px`;\n                    lastTarget.style.transform = `translate(${lastDiffX}px)`;\n                } else if (lastType === 'right') {\n                    lastTarget.style.width = `${lastWidth + lastDiffX}px`;\n                } else {\n                    lastTarget.style.transform = `translate(${lastDiffX}px)`;\n                }\n            }\n        }, []);\n\n        const onDocumentMouseUp = useCallback(() => {\n            if (isDroging && lastTarget && lastDiffX) {\n                const timeDiff = lastDiffX / gridGap / 10;\n                const index = hasSub(lastSub);\n                const previou = subtitle[index - 1];\n                const next = subtitle[index + 1];\n\n                const startTime = magnetically(lastSub.startTime + timeDiff, previou ? previou.endTime : null);\n                const endTime = magnetically(lastSub.endTime + timeDiff, next ? next.startTime : null);\n                const width = (endTime - startTime) * 10 * gridGap;\n\n                if ((previou && endTime < previou.startTime) || (next && startTime > next.endTime)) {\n                    //\n                } else {\n                    console.log('here');\n                    if (lastType === 'left') {\n                        if (startTime >= 0 && lastSub.endTime - startTime >= 0.2) {\n                            const start = DT.d2t(startTime);\n                            updateSub(lastSub, { start });\n                            updateSubEnglish(lastSub, { start });\n                        } else {\n                            lastTarget.style.width = `${width}px`;\n                        }\n                    } else if (lastType === 'right') {\n                        if (endTime >= 0 && endTime - lastSub.startTime >= 0.2) {\n                            const end = DT.d2t(endTime);\n                            updateSub(lastSub, { end });\n                            updateSubEnglish(lastSub, { end });\n                        } else {\n                            lastTarget.style.width = `${width}px`;\n                        }\n                    } else {\n                        if (startTime > 0 && endTime > 0 && endTime - startTime >= 0.2) {\n                            const start = DT.d2t(startTime);\n                            const end = DT.d2t(endTime);\n                            updateSub(lastSub, {\n                                start,\n                                end,\n                            });\n                            updateSubEnglish(lastSub, {\n                                start,\n                                end,\n                            });\n                        } else {\n                            lastTarget.style.width = `${width}px`;\n                        }\n                    }\n                }\n\n                lastTarget.style.transform = `translate(0)`;\n            }\n\n            lastType = '';\n            lastX = 0;\n            lastWidth = 0;\n            lastDiffX = 0;\n            isDroging = false;\n        }, [gridGap, hasSub, subtitle, updateSub, updateSubEnglish]);\n\n        const onKeyDown = useCallback(\n            (event) => {\n                const sub = currentSubs[lastIndex];\n                if (sub && lastTarget) {\n                    const keyCode = getKeyCode(event);\n                    switch (keyCode) {\n                        case 37:\n                            updateSub(sub, {\n                                start: DT.d2t(sub.startTime - 0.1),\n                                end: DT.d2t(sub.endTime - 0.1),\n                            });\n                            player.currentTime = sub.startTime - 0.1;\n                            break;\n                        case 39:\n                            updateSub(sub, {\n                                start: DT.d2t(sub.startTime + 0.1),\n                                end: DT.d2t(sub.endTime + 0.1),\n                            });\n                            player.currentTime = sub.startTime + 0.1;\n                            break;\n                        case 8:\n                        case 46:\n                            removeSub(sub);\n                            break;\n                        default:\n                            break;\n                    }\n                }\n            },\n            [currentSubs, player, removeSub, updateSub],\n        );\n\n        useEffect(() => {\n            document.addEventListener('mousemove', onDocumentMouseMove);\n            document.addEventListener('mouseup', onDocumentMouseUp);\n            window.addEventListener('keydown', onKeyDown);\n            return () => {\n                document.removeEventListener('mousemove', onDocumentMouseMove);\n                document.removeEventListener('mouseup', onDocumentMouseUp);\n                window.removeEventListener('keydown', onKeyDown);\n            };\n        }, [onDocumentMouseMove, onDocumentMouseUp, onKeyDown]);\n\n        return (\n            <Timeline ref={$blockRef}>\n                <div ref={$subsRef}>\n                    {currentSubs.map((sub, key) => {\n                        return (\n                            <div\n                                className={[\n                                    'sub-item',\n                                    key === currentIndex ? 'sub-highlight' : '',\n                                    checkSub(sub) ? 'sub-illegal' : '',\n                                ]\n                                    .join(' ')\n                                    .trim()}\n                                key={key}\n                                style={{\n                                    left: render.padding * gridGap + (sub.startTime - render.beginTime) * gridGap * 10,\n                                    width: (sub.endTime - sub.startTime) * gridGap * 10,\n                                }}\n                                onClick={() => {\n                                    if (player.duration >= sub.startTime) {\n                                        player.currentTime = sub.startTime + 0.001;\n                                    }\n                                }}\n                                onDoubleClick={(event) => onDoubleClick(sub, event)}\n                            >\n                                <ContextMenuTrigger id=\"contextmenu\" holdToDisplay={-1}>\n                                    <div\n                                        className=\"sub-handle\"\n                                        style={{\n                                            left: 0,\n                                            width: 10,\n                                        }}\n                                        onMouseDown={(event) => onMouseDown(sub, event, 'left')}\n                                    ></div>\n\n                                    <div\n                                        className=\"sub-text\"\n                                        title={sub.text}\n                                        onMouseDown={(event) => onMouseDown(sub, event)}\n                                    >\n                                        {`${sub.text}`.split(/\\r?\\n/).map((line, index) => (\n                                            <p key={index}>{line}</p>\n                                        ))}\n                                    </div>\n\n                                    <div\n                                        className=\"sub-handle\"\n                                        style={{\n                                            right: 0,\n                                            width: 10,\n                                        }}\n                                        onMouseDown={(event) => onMouseDown(sub, event, 'right')}\n                                    ></div>\n                                    <div className=\"sub-duration\">{sub.duration}</div>\n                                </ContextMenuTrigger>\n                            </div>\n                        );\n                    })}\n                </div>\n                <ContextMenu id=\"contextmenu\">\n                    <MenuItem onClick={() => removeSub(lastSub)}>\n                        <Translate value=\"DELETE\" />\n                    </MenuItem>\n                    <MenuItem onClick={() => mergeSub(lastSub)}>\n                        <Translate value=\"MERGE\" />\n                    </MenuItem>\n                </ContextMenu>\n            </Timeline>\n        );\n    },\n    (prevProps, nextProps) => {\n        return (\n            isEqual(prevProps.subtitle, nextProps.subtitle) &&\n            isEqual(prevProps.render, nextProps.render) &&\n            prevProps.currentTime === nextProps.currentTime\n        );\n    },\n);\n","import React, { useEffect, useCallback, useState } from 'react';\nimport styled from 'styled-components';\nimport DT from 'duration-time-conversion';\nimport { t } from 'react-i18nify';\n\nconst Metronome = styled.div`\n    position: absolute;\n    z-index: 8;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    cursor: ew-resize;\n    user-select: none;\n\n    .template {\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        height: 100%;\n        background-color: rgba(76, 175, 80, 0.5);\n        border-left: 1px solid rgba(76, 175, 80, 0.8);\n        border-right: 1px solid rgba(76, 175, 80, 0.8);\n        user-select: none;\n        pointer-events: none;\n    }\n`;\n\nfunction findIndex(subs, startTime) {\n    return subs.findIndex((item, index) => {\n        return (\n            (startTime >= item.endTime && !subs[index + 1]) ||\n            (item.startTime <= startTime && item.endTime > startTime) ||\n            (startTime >= item.endTime && subs[index + 1] && startTime < subs[index + 1].startTime)\n        );\n    });\n}\n\nexport default function Component({ render, subtitle, newSub, addSub, player, playing }) {\n    const [isDroging, setIsDroging] = useState(false);\n    const [drogStartTime, setDrogStartTime] = useState(0);\n    const [drogEndTime, setDrogEndTime] = useState(0);\n    const gridGap = document.body.clientWidth / render.gridNum;\n\n    const getEventTime = useCallback(\n        (event) => {\n            return (event.pageX - render.padding * gridGap) / gridGap / 10 + render.beginTime;\n        },\n        [gridGap, render],\n    );\n\n    const onMouseDown = useCallback(\n        (event) => {\n            if (event.button !== 0) return;\n            const clickTime = getEventTime(event);\n            setIsDroging(true);\n            setDrogStartTime(clickTime);\n        },\n        [getEventTime],\n    );\n\n    const onMouseMove = useCallback(\n        (event) => {\n            if (isDroging) {\n                if (playing) player.pause();\n                setDrogEndTime(getEventTime(event));\n            }\n        },\n        [isDroging, playing, player, getEventTime],\n    );\n\n    const onDocumentMouseUp = useCallback(() => {\n        if (isDroging) {\n            if (drogStartTime > 0 && drogEndTime > 0 && drogEndTime - drogStartTime >= 0.2) {\n                const index = findIndex(subtitle, drogStartTime) + 1;\n                const start = DT.d2t(drogStartTime);\n                const end = DT.d2t(drogEndTime);\n                addSub(\n                    index,\n                    newSub({\n                        start,\n                        end,\n                        text: t('SUB_TEXT'),\n                    }),\n                );\n            }\n        }\n        setIsDroging(false);\n        setDrogStartTime(0);\n        setDrogEndTime(0);\n    }, [isDroging, drogStartTime, drogEndTime, subtitle, addSub, newSub]);\n\n    useEffect(() => {\n        document.addEventListener('mouseup', onDocumentMouseUp);\n        return () => document.removeEventListener('mouseup', onDocumentMouseUp);\n    }, [onDocumentMouseUp]);\n\n    return (\n        <Metronome onMouseDown={onMouseDown} onMouseMove={onMouseMove}>\n            {player && !playing && drogStartTime && drogEndTime && drogEndTime > drogStartTime ? (\n                <div\n                    className=\"template\"\n                    style={{\n                        left: render.padding * gridGap + (drogStartTime - render.beginTime) * gridGap * 10,\n                        width: (drogEndTime - drogStartTime) * gridGap * 10,\n                    }}\n                ></div>\n            ) : null}\n        </Metronome>\n    );\n}\n","import styled from 'styled-components';\nimport DT from 'duration-time-conversion';\nimport React, { useState, useEffect, useCallback, createRef, memo } from 'react';\nimport WFPlayer from 'wfplayer';\nimport clamp from 'lodash/clamp';\nimport throttle from 'lodash/throttle';\nimport Timeline from './Timeline';\nimport Metronome from './Metronome';\n\nconst Style = styled.div`\n    position: relative;\n    display: flex;\n    flex-direction: column;\n\n    .progress {\n        position: absolute;\n        left: 0;\n        right: 0;\n        top: -12px;\n        z-index: 11;\n        width: 100%;\n        height: 12px;\n        user-select: none;\n        border-top: 1px solid rgb(255 255 255 / 20%);\n        background-color: rgb(0 0 0 / 50%);\n\n        .bar {\n            position: absolute;\n            left: 0;\n            top: 0;\n            bottom: 0;\n            width: 0%;\n            height: 100%;\n            display: inline-block;\n            background-color: #730000;\n            overflow: hidden;\n\n            .handle {\n                position: absolute;\n                right: 0;\n                top: 0;\n                bottom: 0;\n                width: 10px;\n                cursor: ew-resize;\n                background-color: #ff9800;\n            }\n        }\n\n        .subtitle {\n            position: absolute;\n            left: 0;\n            top: 0;\n            bottom: 0;\n            right: 0;\n            width: 100%;\n            height: 100%;\n            pointer-events: none;\n\n            span {\n                position: absolute;\n                top: 0;\n                bottom: 0;\n                height: 100%;\n                background-color: rgb(255 255 255 / 20%);\n            }\n        }\n    }\n\n    .duration {\n        position: absolute;\n        left: 0;\n        right: 0;\n        top: -40px;\n        z-index: 12;\n        width: 100%;\n        font-size: 18px;\n        color: rgb(255 255 255 / 75%);\n        text-shadow: 0 1px 2px rgb(0 0 0 / 75%);\n        text-align: center;\n        user-select: none;\n        pointer-events: none;\n    }\n\n    .waveform {\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        z-index: 1;\n        width: 100%;\n        height: 100%;\n        z-index: 1;\n        user-select: none;\n        pointer-events: none;\n    }\n\n    .grab {\n        position: relative;\n        z-index: 11;\n        cursor: grab;\n        height: 20%;\n        user-select: none;\n        background-color: rgb(33 150 243 / 20%);\n        border-top: 1px solid rgb(33 150 243 / 30%);\n        border-bottom: 1px solid rgb(33 150 243 / 30%);\n\n        &.grabbing {\n            cursor: grabbing;\n        }\n    }\n`;\n\nconst Waveform = memo(\n    ({ player, setWaveform, setRender }) => {\n        const $waveform = createRef();\n\n        useEffect(() => {\n            [...WFPlayer.instances].forEach((item) => item.destroy());\n\n            const waveform = new WFPlayer({\n                scrollable: true,\n                useWorker: false,\n                duration: 10,\n                padding: 1,\n                wave: true,\n                pixelRatio: 2,\n                container: $waveform.current,\n                mediaElement: player,\n                backgroundColor: 'rgba(0, 0, 0, 0)',\n                waveColor: 'rgba(255, 255, 255, 0.2)',\n                progressColor: 'rgba(255, 255, 255, 0.5)',\n                gridColor: 'rgba(255, 255, 255, 0.05)',\n                rulerColor: 'rgba(255, 255, 255, 0.5)',\n                paddingColor: 'rgba(0, 0, 0, 0)',\n            });\n\n            setWaveform(waveform);\n            waveform.on('update', setRender);\n            waveform.load('/sample.mp3');\n        }, [player, $waveform, setWaveform, setRender]);\n\n        return <div className=\"waveform\" ref={$waveform} />;\n    },\n    () => true,\n);\n\nconst Grab = (props) => {\n    const [grabStartX, setGrabStartX] = useState(0);\n    const [grabStartTime, setGrabStartTime] = useState(0);\n    const [grabbing, setGrabbing] = useState(false);\n\n    const onGrabDown = useCallback(\n        (event) => {\n            if (event.button !== 0) return;\n            setGrabStartX(event.pageX);\n            setGrabStartTime(props.player.currentTime);\n            setGrabbing(true);\n        },\n        [props.player],\n    );\n\n    const onGrabUp = () => {\n        setGrabStartX(0);\n        setGrabStartTime(0);\n        setGrabbing(false);\n    };\n\n    const onGrabMove = useCallback(\n        (event) => {\n            if (grabbing && props.player && props.waveform) {\n                const currentTime = clamp(\n                    grabStartTime - ((event.pageX - grabStartX) / document.body.clientWidth) * 10,\n                    0,\n                    props.player.duration,\n                );\n                props.player.currentTime = currentTime;\n                props.waveform.seek(currentTime);\n            }\n        },\n        [grabbing, props.player, props.waveform, grabStartX, grabStartTime],\n    );\n\n    useEffect(() => {\n        document.addEventListener('mouseup', onGrabUp);\n        return () => document.removeEventListener('mouseup', onGrabUp);\n    }, []);\n\n    return (\n        <div className={`grab ${grabbing ? 'grabbing' : ''}`} onMouseDown={onGrabDown} onMouseMove={onGrabMove}></div>\n    );\n};\n\nconst Progress = (props) => {\n    const [grabbing, setGrabbing] = useState(false);\n\n    const onProgressClick = useCallback(\n        (event) => {\n            if (event.button !== 0) return;\n            const currentTime = (event.pageX / document.body.clientWidth) * props.player.duration;\n            props.player.currentTime = currentTime;\n            props.waveform.seek(currentTime);\n        },\n        [props],\n    );\n\n    const onGrabDown = useCallback(\n        (event) => {\n            if (event.button !== 0) return;\n            setGrabbing(true);\n        },\n        [setGrabbing],\n    );\n\n    const onGrabMove = useCallback(\n        (event) => {\n            if (grabbing) {\n                const currentTime = (event.pageX / document.body.clientWidth) * props.player.duration;\n                props.player.currentTime = currentTime;\n            }\n        },\n        [grabbing, props.player],\n    );\n\n    const onDocumentMouseUp = useCallback(() => {\n        if (grabbing) {\n            setGrabbing(false);\n            props.waveform.seek(props.player.currentTime);\n        }\n    }, [grabbing, props.waveform, props.player.currentTime]);\n\n    useEffect(() => {\n        document.addEventListener('mouseup', onDocumentMouseUp);\n        document.addEventListener('mousemove', onGrabMove);\n        return () => {\n            document.removeEventListener('mouseup', onDocumentMouseUp);\n            document.removeEventListener('mousemove', onGrabMove);\n        };\n    }, [onDocumentMouseUp, onGrabMove]);\n\n    return (\n        <div className=\"progress\" onClick={onProgressClick}>\n            <div className=\"bar\" style={{ width: `${(props.currentTime / props.player.duration) * 100}%` }}>\n                <div className=\"handle\" onMouseDown={onGrabDown}></div>\n            </div>\n            <div className=\"subtitle\">\n                {props.subtitle.length <= 200\n                    ? props.subtitle.map((item, index) => {\n                          const { duration } = props.player;\n                          return (\n                              <span\n                                  key={index}\n                                  className=\"item\"\n                                  style={{\n                                      left: `${(item.startTime / duration) * 100}%`,\n                                      width: `${(item.duration / duration) * 100}%`,\n                                  }}\n                              ></span>\n                          );\n                      })\n                    : null}\n            </div>\n        </div>\n    );\n};\n\nconst Duration = (props) => {\n    const getDuration = useCallback((time) => {\n        time = time === Infinity ? 0 : time;\n        return DT.d2t(time).split('.')[0];\n    }, []);\n\n    return (\n        <div className=\"duration\">\n            <span>\n                {getDuration(props.currentTime)} / {getDuration(props.player.duration || 0)}\n            </span>\n        </div>\n    );\n};\n\nexport default function Footer(props) {\n    const $footer = createRef();\n    const [render, setRender] = useState({\n        padding: 2,\n        duration: 10,\n        gridGap: 10,\n        gridNum: 110,\n        beginTime: -5,\n    });\n\n    const onWheel = useCallback(\n        (event) => {\n            if (\n                !props.player ||\n                !props.waveform ||\n                props.player.playing ||\n                !$footer.current ||\n                !$footer.current.contains(event.target)\n            ) {\n                return;\n            }\n\n            const deltaY = Math.sign(event.deltaY) / 5;\n            const currentTime = clamp(props.player.currentTime + deltaY, 0, props.player.duration);\n            props.player.currentTime = currentTime;\n            props.waveform.seek(currentTime);\n        },\n        [props.waveform, props.player, $footer],\n    );\n\n    useEffect(() => {\n        const onWheelThrottle = throttle(onWheel, 100);\n        window.addEventListener('wheel', onWheelThrottle);\n        return () => window.removeEventListener('wheel', onWheelThrottle);\n    }, [onWheel]);\n\n    return (\n        <Style className=\"footer\" ref={$footer}>\n            {props.player ? (\n                <React.Fragment>\n                    <Progress {...props} />\n                    <Duration {...props} />\n                    <Waveform {...props} setRender={setRender} />\n                    <Grab {...props} render={render} />\n                    <Metronome {...props} render={render} />\n                    <Timeline {...props} render={render} />\n                </React.Fragment>\n            ) : null}\n        </Style>\n    );\n}\n","import React from 'react';\nimport styled from 'styled-components';\nimport { t } from 'react-i18nify';\n\nconst Loading = styled.div`\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    z-index: 99;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    -webkit-backdrop-filter: saturate(180%) blur(2px);\n    backdrop-filter: saturate(180%) blur(2px);\n    background-color: rgba(0, 0, 0, 0.5);\n\n    .loading-inner {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        flex-direction: column;\n        width: 200px;\n        height: 200px;\n        padding: 0 10px;\n        border-radius: 10px;\n        color: #fff;\n        background-color: rgb(34 36 60 / 95%);\n        box-shadow: 0 0 3px 0 rgba(0, 0, 0, 0.5);\n\n        img {\n            zoom: 0.5;\n            margin-bottom: 10px;\n        }\n    }\n`;\n\nexport default function Component({ loading }) {\n    return (\n        <Loading>\n            <div className=\"loading-inner\">\n                <img src=\"/loading.svg\" alt=\"loading\" />\n                <div>{loading || t('LOADING')}</div>\n            </div>\n        </Loading>\n    );\n}\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Style = styled.div`\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    z-index: 999;\n    width: 100%;\n    height: 3px;\n    user-select: none;\n    pointer-events: none;\n\n    .inner {\n        position: relative;\n        height: 100%;\n        background-color: #f00;\n        transition: all 0.3s ease 0s;\n        span {\n            position: absolute;\n            top: 3px;\n            right: 0;\n            padding: 2px 5px;\n            color: #fff;\n            font-size: 12px;\n            background-color: rgb(0 0 0 / 80%);\n        }\n    }\n`;\n\nexport default function Component({ processing }) {\n    return (\n        <Style>\n            <div className=\"inner\" style={{ width: `${processing}%` }}>\n                <span>{`${processing.toFixed(2)}%`}</span>\n            </div>\n        </Style>\n    );\n}\n","import React from 'react';\n\nexport default function Links() {\n    return (\n        <div className=\"links\" style={{ paddingLeft: '0.3%', paddingTop: '0.5%' }}>\n            <a target=\"_blank\" rel=\"noreferrer\" href=\"https://ai4bharat.org/\">\n                <img style={{ width: '100px' }} src=\"https://i.imgur.com/pVT5Mjp.png\" alt=\"AI4B Logo\" />\n            </a>\n        </div>\n    );\n}\n","// ff450a7f531a4e9ab43bd2dd87cdbfcc\n\nimport styled from 'styled-components';\nimport languages from '../libs/languages';\nimport React, { useState, useCallback, useEffect } from 'react';\nimport { Table } from 'react-virtualized';\nimport unescape from 'lodash/unescape';\nimport debounce from 'lodash/debounce';\nimport { ReactTransliterate } from 'react-transliterate';\nimport { t, Translate } from 'react-i18nify';\n// import englishKeywordsTranslate from '../libs/englishKeywordsTranslate';\nimport googleTranslate from '../libs/googleTranslate';\nimport { url2sub, vtt2url } from '../libs/readSub';\n// import { url2sub, vtt2url } from '../libs/readSub';\n\nconst Style = styled.div`\n    position: relative;\n    box-shadow: 0px 5px 25px 5px rgb(0 0 0 / 80%);\n    background-color: rgb(0 0 0 / 100%);\n\n    .transcribe {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-evenly;\n        align-items: center;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n        height: 80px;\n\n        .heading {\n            h4 {\n                margin: 0;\n            }\n        }\n\n        .options {\n            display: flex;\n            width: 100%;\n            align-items: center;\n            justify-content: center;\n\n            span {\n                font-size: 18px;\n            }\n        }\n\n        .btn {\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 60%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #673ab7;\n            transition: all 0.2s ease 0s;\n            margin-right: 10px;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n    }\n\n    .reference {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-evenly;\n        align-items: center;\n        height: 80px;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n        h4 {\n            margin-bottom: 0;\n            margin-top: 0;\n        }\n    }\n\n    .ReactVirtualized__Table {\n        .ReactVirtualized__Table__Grid {\n            outline: none;\n        }\n\n        .ReactVirtualized__Grid__innerScrollContainer {\n            overflow: visible !important;\n        }\n\n        .ReactVirtualized__Table__row {\n            overflow: visible !important;\n            .item {\n                height: 100%;\n                padding: 10px;\n\n                ul {\n                    position: absolute !important;\n                    bottom: 200px !important;\n                    left: 0 !important;\n                    z-index: 9999 !important;\n                    height: 170px !important;\n                    width: 100% !important;\n                    transform: translate(0px, 0px) !important;\n                    display: block !important;\n\n                    li {\n                        color: #000 !important;\n                        border-bottom: 1px solid #999;\n                    }\n                }\n\n                .textarea {\n                    border: none;\n                    width: 100%;\n                    height: 100%;\n                    color: #fff;\n                    font-size: 12px;\n                    padding: 10px;\n                    text-align: center;\n                    background-color: rgba(255, 255, 255, 0.05);\n                    border: 1px solid rgba(255, 255, 255, 0.1);\n                    transition: all 0.2s ease;\n                    resize: none;\n                    outline: none;\n\n                    word-wrap: break-word;\n\n                    &.highlight {\n                        background-color: rgb(0 87 158);\n                        border: 1px solid rgba(255, 255, 255, 0.3);\n                    }\n\n                    &.illegal {\n                        background-color: rgb(123 29 0);\n                        border: 1px solid rgba(255, 255, 255, 0.3);\n                    }\n                }\n            }\n        }\n    }\n`;\n\nexport default function SameLanguageSubtitles({\n    currentIndex,\n    subtitle,\n    setSubtitleOriginal,\n    checkSub,\n    player,\n    updateSub,\n    language,\n    setLoading,\n    subtitleEnglish,\n    formatSub,\n    setSubtitle,\n    notify,\n    isPrimary,\n    clearedSubs,\n    setClearedSubs,\n    updateSubOriginal = null,\n    clearSubs,\n    setSubtitleEnglish,\n}) {\n    const [height, setHeight] = useState(100);\n    // const [translate, setTranslate] = useState(null);\n\n    const handleBlur = (data, index) => {\n        //console.log(e.target.value);\n        if (isPrimary) {\n            return;\n        }\n        googleTranslate([{ text: data.text }], localStorage.getItem('lang')).then((resp) => {\n            updateSubOriginal(data, resp[0], index);\n        });\n    };\n\n    const resize = useCallback(() => {\n        setHeight(document.body.clientHeight - 240);\n    }, [setHeight]);\n\n    useEffect(() => {\n        resize();\n        if (!resize.init) {\n            resize.init = true;\n            const debounceResize = debounce(resize, 500);\n            window.addEventListener('resize', debounceResize);\n        }\n    }, [resize]);\n\n    const onTranscribe = useCallback(() => {\n        console.log(localStorage.getItem('audioSrc'));\n\n        setLoading(t('TRANSCRIBING'));\n        const audio = localStorage.getItem('audioSrc');\n\n        const data = {\n            audio_url: audio,\n            vad_level: 2,\n            chunk_size: 10,\n            language: 'en',\n        };\n\n        return fetch(`${process.env.REACT_APP_ASR_URL}/transcribe_audio`, {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify(data),\n        })\n            .then((resp) => resp.json())\n            .then((resp) => {\n                console.log(resp.output);\n                player.currentTime = 0;\n                clearSubs();\n                const suburl = vtt2url(resp.output);\n                url2sub(suburl).then((urlsub) => {\n                    setSubtitle(formatSub(urlsub));\n                    setSubtitleEnglish(formatSub(urlsub));\n                    localStorage.setItem('subtitle', JSON.stringify(urlsub));\n                    localStorage.setItem('subtitleEnglish', JSON.stringify(urlsub));\n                });\n            })\n            .then(() => setLoading(''))\n            .catch((err) => {\n                console.log(err);\n                setLoading('');\n                notify({\n                    message: err.message,\n                    level: 'error',\n                });\n            });\n    }, [setLoading, formatSub, setSubtitle, notify, clearSubs, player, setSubtitleEnglish]);\n\n    // useEffect(() => {\n    //     if (localStorage.getItem('lang')) {\n    //         setTranslate(localStorage.getItem('lang'));\n    //     } else {\n    //         setTranslate('en');\n    //     }\n    // }, []);\n\n    return (\n        subtitle && (\n            <Style className=\"subtitles\">\n                {isPrimary && (\n                    <div className=\"transcribe\">\n                        <div className=\"heading\">\n                            <h4>Transcription</h4>\n                        </div>\n                        <div className=\"options\">\n                            <div className=\"btn\" onClick={onTranscribe}>\n                                <Translate value=\"TRANSCRIBE\" />\n                            </div>\n                            <span className=\"language\"> : en</span>\n                        </div>\n                    </div>\n                )}\n\n                {!isPrimary && (\n                    <div className=\"reference\">\n                        <h4>Reference Subtitles</h4>\n                        <span>Language : {languages['en'].filter((item) => item.key === language)[0].name}</span>\n                    </div>\n                )}\n\n                <Table\n                    headerHeight={40}\n                    width={250}\n                    height={height}\n                    rowHeight={80}\n                    scrollToIndex={currentIndex}\n                    rowCount={subtitle.length}\n                    rowGetter={({ index }) => subtitle[index]}\n                    headerRowRenderer={() => null}\n                    rowRenderer={(props) => {\n                        return (\n                            <div\n                                key={props.key}\n                                className={props.className}\n                                style={props.style}\n                                onClick={() => {\n                                    if (player) {\n                                        player.pause();\n                                        if (player.duration >= props.rowData.startTime) {\n                                            player.currentTime = props.rowData.startTime + 0.001;\n                                        }\n                                    }\n                                }}\n                            >\n                                <div className=\"item\">\n                                    <ReactTransliterate\n                                        className={[\n                                            'textarea',\n                                            currentIndex === props.index ? 'highlight' : '',\n                                            checkSub(props.rowData) ? 'illegal' : '',\n                                        ]\n                                            .join(' ')\n                                            .trim()}\n                                        value={unescape(props.rowData.text)}\n                                        spellCheck={false}\n                                        onChangeText={(event) => {\n                                            updateSub(props.rowData, {\n                                                text: event,\n                                            });\n                                        }}\n                                        onBlur={() => handleBlur(props.rowData, props.index)}\n                                        enabled={false}\n                                        lang={\n                                            isPrimary\n                                                ? localStorage.getItem('lang') === 'en-k'\n                                                    ? 'en'\n                                                    : localStorage.getItem('lang')\n                                                : 'en'\n                                        }\n                                        maxOptions={5}\n                                        renderComponent={(props) => <textarea {...props} />}\n                                    />\n                                    {/* <textarea\n                                    maxLength={200}\n                                    spellCheck={false}\n                                    className={[\n                                        'textarea',\n                                        currentIndex === props.index ? 'highlight' : '',\n                                        checkSub(props.rowData) ? 'illegal' : '',\n                                    ]\n                                        .join(' ')\n                                        .trim()}\n                                    value={unescape(props.rowData.text)}\n                                    onChange={(event) => {\n                                        updateSub(props.rowData, {\n                                            text: event.target.value,\n                                        });\n                                    }}\n                                /> */}\n                                </div>\n                            </div>\n                        );\n                    }}\n                ></Table>\n            </Style>\n        )\n    );\n}\n","import { sleep } from '../utils';\n\nfunction translate(query = '', lang) {\n    if (!query.trim()) return Promise.resolve('');\n    const url = new URL(`${process.env.REACT_APP_NMR_URL}/lemmatize_sentence`);\n    url.searchParams.append('sentence', query);\n    url.searchParams.append('lang', 'en');\n\n    return new Promise((resolve, reject) => {\n        fetch(url.href)\n            .then((data) => data.json())\n            .then((data) => {\n                if (data) {\n                    resolve(data);\n                } else {\n                    resolve('');\n                }\n            })\n            .catch((err) => {\n                reject(err);\n            });\n    });\n}\n\nexport default async function englishKeywordsTranslate(subtitle = [], lang) {\n    return new Promise((resolve, reject) => {\n        const result = [];\n        (function loop() {\n            const item = subtitle.shift();\n            if (item) {\n                translate(item.text, lang)\n                    .then((text) => {\n                        item.text = text;\n                        result.push(item);\n                        sleep(100).then(loop);\n                    })\n                    .catch((err) => {\n                        reject(err);\n                    });\n            } else {\n                resolve(result);\n            }\n        })();\n    });\n}\n","import styled from 'styled-components';\nimport languages from '../libs/languages';\nimport React, { useState, useCallback, useEffect } from 'react';\nimport { Table } from 'react-virtualized';\nimport unescape from 'lodash/unescape';\nimport debounce from 'lodash/debounce';\nimport { ReactTransliterate } from 'react-transliterate';\nimport { t, Translate } from 'react-i18nify';\nimport englishKeywordsTranslate from '../libs/englishKeywordsTranslate';\nimport googleTranslate from '../libs/googleTranslate';\n\nconst Style = styled.div`\n    position: relative;\n    box-shadow: 0px 5px 25px 5px rgb(0 0 0 / 80%);\n    background-color: rgb(0 0 0 / 100%);\n\n    .translate {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-evenly;\n        align-items: center;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n        height: 80px;\n\n        .heading {\n            h4 {\n                margin: 0;\n            }\n        }\n\n        .options {\n            display: flex;\n            width: 90%;\n        }\n\n        select {\n            width: 65%;\n            outline: none;\n            height: 35px;\n            border-radius: 3px;\n        }\n\n        .btn {\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 100%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #673ab7;\n            transition: all 0.2s ease 0s;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n    }\n\n    .reference {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-evenly;\n        align-items: center;\n        height: 80px;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n        h4 {\n            margin-bottom: 0;\n            margin-top: 0;\n        }\n    }\n\n    .ReactVirtualized__Table {\n        .ReactVirtualized__Table__Grid {\n            outline: none;\n        }\n\n        .ReactVirtualized__Grid__innerScrollContainer {\n            overflow: visible !important;\n        }\n\n        .ReactVirtualized__Table__row {\n            overflow: visible !important;\n            .item {\n                height: 100%;\n                padding: 10px;\n\n                ul {\n                    position: absolute !important;\n                    bottom: 200px !important;\n                    left: 0 !important;\n                    z-index: 9999 !important;\n                    height: 170px !important;\n                    width: 100% !important;\n                    transform: translate(0px, 0px) !important;\n                    display: block !important;\n\n                    li {\n                        color: #000 !important;\n                        border-bottom: 1px solid #999;\n                    }\n                }\n\n                .textarea {\n                    border: none;\n                    width: 100%;\n                    height: 100%;\n                    color: #fff;\n                    font-size: 12px;\n                    padding: 10px;\n                    text-align: center;\n                    background-color: rgba(255, 255, 255, 0.05);\n                    border: 1px solid rgba(255, 255, 255, 0.1);\n                    transition: all 0.2s ease;\n                    resize: none;\n                    outline: none;\n\n                    word-wrap: break-word;\n\n                    &.highlight {\n                        background-color: rgb(0 87 158);\n                        border: 1px solid rgba(255, 255, 255, 0.3);\n                    }\n\n                    &.illegal {\n                        background-color: rgb(123 29 0);\n                        border: 1px solid rgba(255, 255, 255, 0.3);\n                    }\n                }\n            }\n        }\n    }\n`;\n\nexport default function SignLanguageSubtitles({\n    currentIndex,\n    subtitle,\n    setSubtitleOriginal,\n    checkSub,\n    player,\n    updateSub,\n    language,\n    setLoading,\n    subtitleEnglish,\n    formatSub,\n    setSubtitle,\n    notify,\n    isPrimary,\n    clearedSubs,\n    setClearedSubs,\n    updateSubOriginal = null,\n}) {\n    const [height, setHeight] = useState(100);\n    const [translate, setTranslate] = useState(null);\n\n    const handleBlur = (data, index) => {\n        //console.log(e.target.value);\n        if (isPrimary) {\n            return;\n        }\n        googleTranslate([{ text: data.text }], localStorage.getItem('lang')).then((resp) => {\n            updateSubOriginal(data, resp[0], index);\n        });\n    };\n\n    const resize = useCallback(() => {\n        setHeight(document.body.clientHeight - 240);\n    }, [setHeight]);\n\n    useEffect(() => {\n        resize();\n        if (!resize.init) {\n            resize.init = true;\n            const debounceResize = debounce(resize, 500);\n            window.addEventListener('resize', debounceResize);\n        }\n    }, [resize]);\n\n    const onTranslate = useCallback(() => {\n        setLoading(t('TRANSLATING'));\n\n        if (clearedSubs) {\n            return googleTranslate(formatSub(JSON.parse(window.localStorage.getItem('subsBeforeClear'))), 'en')\n                .then((res) => {\n                    englishKeywordsTranslate(formatSub(res), translate)\n                        .then((res) => {\n                            setLoading('');\n                            setSubtitle(formatSub(res));\n                            notify({\n                                message: t('TRANSLAT_SUCCESS'),\n                                level: 'success',\n                            });\n                        })\n                        .catch((err) => {\n                            setLoading('');\n                            notify({\n                                message: err.message,\n                                level: 'error',\n                            });\n                        });\n                })\n                .catch((err) => {\n                    setLoading('');\n                    notify({\n                        message: err.message,\n                        level: 'error',\n                    });\n                });\n        }\n\n        return googleTranslate(formatSub(subtitle), 'en')\n            .then((res) => {\n                englishKeywordsTranslate(formatSub(res), translate)\n                    .then((res) => {\n                        setLoading('');\n                        setSubtitle(formatSub(res));\n                        notify({\n                            message: t('TRANSLAT_SUCCESS'),\n                            level: 'success',\n                        });\n                    })\n                    .catch((err) => {\n                        setLoading('');\n                        notify({\n                            message: err.message,\n                            level: 'error',\n                        });\n                    });\n            })\n            .catch((err) => {\n                setLoading('');\n                notify({\n                    message: err.message,\n                    level: 'error',\n                });\n            });\n    }, [subtitle, setLoading, formatSub, setSubtitle, translate, notify, clearedSubs]);\n\n    useEffect(() => {\n        if (localStorage.getItem('lang')) {\n            setTranslate(localStorage.getItem('lang'));\n        } else {\n            setTranslate('en');\n        }\n    }, []);\n\n    return (\n        subtitle && (\n            <Style className=\"subtitles\">\n                {isPrimary && (\n                    <div className=\"translate\">\n                        <div className=\"heading\">\n                            <h4> Sign Language Subtitling</h4>\n                        </div>\n                        <div className=\"options\">\n                            <div className=\"btn\" onClick={onTranslate}>\n                                <Translate value=\"TRANSLATE\" />\n                            </div>\n                        </div>\n                    </div>\n                )}\n\n                {!isPrimary && (\n                    <div className=\"reference\">\n                        <h4>Reference Subtitles</h4>\n                        <span>Language : {languages['en'].filter((item) => item.key === language)[0].name}</span>\n                    </div>\n                )}\n\n                <Table\n                    headerHeight={40}\n                    width={250}\n                    height={height}\n                    rowHeight={80}\n                    scrollToIndex={currentIndex}\n                    rowCount={subtitle.length}\n                    rowGetter={({ index }) => subtitle[index]}\n                    headerRowRenderer={() => null}\n                    rowRenderer={(props) => {\n                        return (\n                            <div\n                                key={props.key}\n                                className={props.className}\n                                style={props.style}\n                                onClick={() => {\n                                    if (player) {\n                                        player.pause();\n                                        if (player.duration >= props.rowData.startTime) {\n                                            player.currentTime = props.rowData.startTime + 0.001;\n                                        }\n                                    }\n                                }}\n                            >\n                                <div className=\"item\">\n                                    <ReactTransliterate\n                                        className={[\n                                            'textarea',\n                                            currentIndex === props.index ? 'highlight' : '',\n                                            checkSub(props.rowData) ? 'illegal' : '',\n                                        ]\n                                            .join(' ')\n                                            .trim()}\n                                        value={unescape(props.rowData.text)}\n                                        spellCheck={false}\n                                        onChangeText={(event) => {\n                                            updateSub(props.rowData, {\n                                                text: event,\n                                            });\n                                        }}\n                                        onBlur={() => handleBlur(props.rowData, props.index)}\n                                        enabled={false}\n                                        lang={\n                                            isPrimary\n                                                ? localStorage.getItem('lang') === 'en-k'\n                                                    ? 'en'\n                                                    : localStorage.getItem('lang')\n                                                : 'en'\n                                        }\n                                        maxOptions={5}\n                                        renderComponent={(props) => <textarea {...props} />}\n                                    />\n                                    {/* <textarea\n                                    maxLength={200}\n                                    spellCheck={false}\n                                    className={[\n                                        'textarea',\n                                        currentIndex === props.index ? 'highlight' : '',\n                                        checkSub(props.rowData) ? 'illegal' : '',\n                                    ]\n                                        .join(' ')\n                                        .trim()}\n                                    value={unescape(props.rowData.text)}\n                                    onChange={(event) => {\n                                        updateSub(props.rowData, {\n                                            text: event.target.value,\n                                        });\n                                    }}\n                                /> */}\n                                </div>\n                            </div>\n                        );\n                    }}\n                ></Table>\n            </Style>\n        )\n    );\n}\n","import React, { useState, useEffect, useCallback, useMemo, useRef } from 'react';\nimport NotificationSystem from 'react-notification-system';\nimport DT from 'duration-time-conversion';\nimport isEqual from 'lodash/isEqual';\nimport styled from 'styled-components';\nimport Tool from './components/Tool';\nimport Subtitles from './components/Subtitles';\nimport Player from './components/Player';\nimport Footer from './components/Footer';\nimport Loading from './components/Loading';\nimport ProgressBar from './components/ProgressBar';\nimport Links from './components/Links';\n// import BottomLinks from './components/BottomLinks';\nimport { getKeyCode } from './utils';\nimport Sub from './libs/Sub';\nimport SameLanguageSubtitles from './components/SameLanguageSubtitle';\nimport SignLanguageSubtitles from './components/SignLanguageSubtitle';\n\nconst Style = styled.div`\n    height: 100%;\n    width: 100%;\n\n    .main {\n        display: flex;\n        height: calc(100% - 200px);\n\n        .player {\n            flex: 1;\n        }\n\n        .subtitles {\n            width: 250px;\n        }\n\n        .tool {\n            width: 300px;\n        }\n    }\n\n    .footer {\n        height: 200px;\n    }\n`;\n\nexport default function App({ defaultLang }) {\n    const subtitleHistory = useRef([]);\n    const notificationSystem = useRef(null);\n    const [player, setPlayer] = useState(null);\n    const [loading, setLoading] = useState('');\n    const [processing, setProcessing] = useState(0);\n    const [language, setLanguage] = useState(defaultLang);\n    const [subtitle, setSubtitleOriginal] = useState([]);\n    const [subtitleEnglish, setSubtitleEnglish] = useState(null);\n    const [waveform, setWaveform] = useState(null);\n    const [playing, setPlaying] = useState(false);\n    const [currentTime, setCurrentTime] = useState(0);\n    const [currentIndex, setCurrentIndex] = useState(-1);\n    const [clearedSubs, setClearedSubs] = useState(false);\n    const [subsBeforeClear, setSubsBeforeClear] = useState([]);\n    const [configuration, setConfiguration] = useState('');\n    const [enableConfiguration, setEnableConfiguration] = useState(false);\n    const [isSetVideo, setIsSetVideo] = useState(false);\n    const [isSetConfiguration, setIsSetConfiguration] = useState(false);\n    const [translationApi, setTranslationApi] = useState('AI4Bharat');\n\n    const newSub = useCallback((item) => new Sub(item), []);\n    const hasSub = useCallback((sub) => subtitle.indexOf(sub), [subtitle]);\n    const hasSubEnglish = useCallback((sub) => subtitleEnglish.indexOf(sub), [subtitleEnglish]);\n\n    const formatSub = useCallback(\n        (sub) => {\n            if (Array.isArray(sub)) {\n                return sub.map((item) => newSub(item));\n            }\n            return newSub(sub);\n        },\n        [newSub],\n    );\n\n    const copySubs = useCallback(() => formatSub(subtitle), [subtitle, formatSub]);\n    const copySubsEnglish = useCallback(() => formatSub(subtitleEnglish), [subtitleEnglish, formatSub]);\n\n    // useEffect(() => {\n    //     //localStorage.setItem('lang', 'en');\n\n    //     if (localStorage.getItem('videoSrc') === null) {\n    //         localStorage.setItem('videoSrc', '/sample.mp4');\n    //     }\n    // }, []);\n\n    const setSubtitle = useCallback(\n        (newSubtitle, saveToHistory = true) => {\n            // console.log('Here');\n            if (!isEqual(newSubtitle, subtitle)) {\n                if (saveToHistory) {\n                    if (subtitleHistory.current.length >= 1000) {\n                        subtitleHistory.current.shift();\n                    }\n                    subtitleHistory.current.push(formatSub(subtitle));\n                }\n                window.localStorage.setItem('subtitle', JSON.stringify(newSubtitle));\n                setSubtitleOriginal(newSubtitle);\n            }\n        },\n        [subtitle, setSubtitleOriginal, formatSub],\n    );\n\n    const undoSubs = useCallback(() => {\n        const subs = subtitleHistory.current.pop();\n        if (subs) {\n            setSubtitle(subs, false);\n        }\n    }, [setSubtitle, subtitleHistory]);\n\n    const clearSubs = useCallback(() => {\n        setSubtitle([]);\n        subtitleHistory.current.length = 0;\n    }, [setSubtitle, subtitleHistory]);\n\n    const clearSubsEnglish = useCallback(() => {\n        localStorage.removeItem('subtitleEnglish');\n        setSubtitleEnglish([]);\n    }, [setSubtitleEnglish]);\n\n    const checkSub = useCallback(\n        (sub) => {\n            const index = hasSub(sub);\n            if (index < 0) return;\n            const previous = subtitle[index - 1];\n            return (previous && sub.startTime < previous.endTime) || !sub.check || sub.duration < 0.2;\n        },\n        [subtitle, hasSub],\n    );\n\n    const notify = useCallback(\n        (obj) => {\n            // https://github.com/igorprado/react-notification-system\n            const notification = notificationSystem.current;\n            notification.clearNotifications();\n            notification.addNotification({\n                position: 'tc',\n                dismissible: 'none',\n                autoDismiss: 2,\n                message: obj.message,\n                level: obj.level,\n            });\n        },\n        [notificationSystem],\n    );\n\n    const removeSub = useCallback(\n        (sub) => {\n            const index = hasSub(sub);\n            if (index < 0) return;\n            const subs = copySubs();\n            subs.splice(index, 1);\n            setSubtitle(subs);\n            if (subtitleEnglish) {\n                console.log('here');\n                const subsEnglish = copySubsEnglish();\n                subsEnglish.splice(index, 1);\n                setSubtitleEnglish(subsEnglish);\n                localStorage.setItem('subtitleEnglish', JSON.stringify(subsEnglish));\n            }\n        },\n        [hasSub, copySubs, setSubtitle, copySubsEnglish, subtitleEnglish],\n    );\n\n    const addSub = useCallback(\n        (index, sub) => {\n            const subs = copySubs();\n            subs.splice(index, 0, formatSub(sub));\n            setSubtitle(subs);\n            if (subtitleEnglish) {\n                const subsEnglish = copySubsEnglish();\n                subsEnglish.splice(index, 0, formatSub(sub));\n                setSubtitleEnglish(subs);\n                localStorage.setItem('subtitleEnglish', JSON.stringify(subsEnglish));\n            }\n        },\n        [copySubs, setSubtitle, formatSub, copySubsEnglish, subtitleEnglish],\n    );\n\n    const updateSub = useCallback(\n        (sub, obj) => {\n            const index = hasSub(sub);\n            if (index < 0) return;\n            const subs = copySubs();\n            const subClone = formatSub(sub);\n            Object.assign(subClone, obj);\n            if (subClone.check) {\n                subs[index] = subClone;\n                setSubtitle(subs);\n            }\n        },\n        [hasSub, copySubs, setSubtitle, formatSub],\n    );\n    const updateSubEnglish = useCallback(\n        (sub, obj) => {\n            const index = hasSubEnglish(sub);\n            if (index < 0) return;\n            const subs = copySubsEnglish();\n            const subClone = formatSub(sub);\n            Object.assign(subClone, obj);\n            if (subClone.check) {\n                subs[index] = subClone;\n                setSubtitleEnglish(subs);\n            }\n        },\n        [hasSubEnglish, copySubsEnglish, setSubtitleEnglish, formatSub],\n    );\n\n    const updateSubTranslate = useCallback(\n        (sub, obj, index) => {\n            const subs = copySubs();\n            const subClone = formatSub(sub);\n            Object.assign(subClone, obj);\n            if (subClone.check) {\n                subs[index] = subClone;\n                setSubtitle(subs);\n            }\n        },\n        [copySubs, setSubtitle, formatSub],\n    );\n\n    const mergeSub = useCallback(\n        (sub) => {\n            const index = hasSub(sub);\n            if (index < 0) return;\n            const subs = copySubs();\n            const next = subs[index + 1];\n            if (!next) return;\n            const merge = newSub({\n                start: sub.start,\n                end: next.end,\n                text: sub.text.trim() + '\\n' + next.text.trim(),\n            });\n            subs[index] = merge;\n            subs.splice(index + 1, 1);\n            setSubtitle(subs);\n            if (subtitleEnglish) {\n                const subsEnglish = copySubsEnglish();\n                const nextEnglish = subsEnglish[index + 1];\n                if (!nextEnglish) return;\n                const mergeEnglish = newSub({\n                    start: sub.start,\n                    end: nextEnglish.end,\n                    text: subsEnglish[index].text.trim() + '\\n' + nextEnglish.text.trim(),\n                });\n                subsEnglish[index] = mergeEnglish;\n                subsEnglish.splice(index + 1, 1);\n                setSubtitleEnglish(subsEnglish);\n                localStorage.setItem('subtitleEnglish', JSON.stringify(subsEnglish));\n            }\n        },\n        [hasSub, copySubs, setSubtitle, newSub, copySubsEnglish, subtitleEnglish],\n    );\n\n    const splitSub = useCallback(\n        (sub, start) => {\n            const index = hasSub(sub);\n            if (index < 0 || !sub.text || !start) return;\n            const subs = copySubs();\n            const text1 = sub.text.slice(0, start).trim();\n            const text2 = sub.text.slice(start).trim();\n            if (!text1 || !text2) return;\n            const splitDuration = (sub.duration * (start / sub.text.length)).toFixed(3);\n            if (splitDuration < 0.2 || sub.duration - splitDuration < 0.2) return;\n            subs.splice(index, 1);\n            const middleTime = DT.d2t(sub.startTime + parseFloat(splitDuration));\n            subs.splice(\n                index,\n                0,\n                newSub({\n                    start: sub.start,\n                    end: middleTime,\n                    text: text1,\n                }),\n            );\n            subs.splice(\n                index + 1,\n                0,\n                newSub({\n                    start: middleTime,\n                    end: sub.end,\n                    text: text2,\n                }),\n            );\n            setSubtitle(subs);\n        },\n        [hasSub, copySubs, setSubtitle, newSub],\n    );\n\n    const onKeyDown = useCallback(\n        (event) => {\n            const keyCode = getKeyCode(event);\n            switch (keyCode) {\n                case 32:\n                    event.preventDefault();\n                    if (player) {\n                        if (playing) {\n                            player.pause();\n                        } else {\n                            player.play();\n                        }\n                    }\n                    break;\n                case 90:\n                    event.preventDefault();\n                    if (event.metaKey) {\n                        undoSubs();\n                    }\n                    break;\n                default:\n                    break;\n            }\n        },\n        [player, playing, undoSubs],\n    );\n\n    useEffect(() => {\n        window.addEventListener('keydown', onKeyDown);\n        return () => window.removeEventListener('keydown', onKeyDown);\n    }, [onKeyDown]);\n\n    useMemo(() => {\n        const currentIndex = subtitle.findIndex((item) => item.startTime <= currentTime && item.endTime > currentTime);\n        setCurrentIndex(currentIndex);\n    }, [currentTime, subtitle]);\n\n    useEffect(() => {\n        // console.log(subtitle);\n        // console.log(translationApi);\n        const localSubtitleString = window.localStorage.getItem('subtitle');\n        const localSubtitleEnglish = window.localStorage.getItem('subtitleEnglish');\n        // const fetchSubtitle = () =>\n        //     fetch('/sample.json')\n        //         .then((res) => res.json())\n        //         .then((res) => {\n        //             setSubtitleOriginal(res.map((item) => new Sub(item)));\n        //         });\n\n        if (localSubtitleString) {\n            try {\n                const localSubtitle = JSON.parse(localSubtitleString);\n                console.log(localSubtitle);\n                if (localSubtitle.length) {\n                    setSubtitleOriginal(localSubtitle.map((item) => new Sub(item)));\n                } else {\n                    // fetchSubtitle();\n                }\n            } catch (error) {\n                // fetchSubtitle();\n            }\n        } else {\n            // fetchSubtitle();\n        }\n        if (localSubtitleEnglish) {\n            try {\n                const localSubtitle = JSON.parse(localSubtitleEnglish);\n                if (localSubtitle.length) {\n                    setSubtitleEnglish(localSubtitle.map((item) => new Sub(item)));\n                } else {\n                    setSubtitleEnglish([]);\n                }\n            } catch (error) {\n                setSubtitleEnglish([]);\n            }\n        } else {\n            // fetchSubtitle();\n        }\n    }, [setSubtitleOriginal, setSubtitleEnglish]);\n\n    const props = {\n        player,\n        setPlayer,\n        subtitle,\n        setSubtitle,\n        waveform,\n        setWaveform,\n        currentTime,\n        setCurrentTime,\n        currentIndex,\n        setCurrentIndex,\n        playing,\n        setPlaying,\n        language,\n        setLanguage,\n        loading,\n        setLoading,\n        setProcessing,\n        subtitleHistory,\n        subtitleEnglish,\n        setSubtitleEnglish,\n        notify,\n        newSub,\n        hasSub,\n        checkSub,\n        removeSub,\n        addSub,\n        undoSubs,\n        clearSubs,\n        updateSub,\n        formatSub,\n        mergeSub,\n        splitSub,\n        clearSubsEnglish,\n        updateSubEnglish,\n        setSubtitleOriginal,\n        clearedSubs,\n        setClearedSubs,\n        subsBeforeClear,\n        setSubsBeforeClear,\n        configuration,\n        setConfiguration,\n        updateSubTranslate,\n        enableConfiguration,\n        setEnableConfiguration,\n        isSetVideo,\n        setIsSetVideo,\n        isSetConfiguration,\n        setIsSetConfiguration,\n        translationApi,\n        setTranslationApi,\n    };\n\n    return (\n        <Style>\n            <div className=\"main\">\n                <Links />\n                <Player {...props} />\n                {configuration === '' && <></>}\n                {configuration === 'Subtitling' && (\n                    <>\n                        <Subtitles\n                            currentIndex={props.currentIndex}\n                            subtitle={props.subtitleEnglish}\n                            checkSub={props.checkSub}\n                            player={props.player}\n                            updateSub={props.updateSubEnglish}\n                            language={props.language}\n                            setLanguage={props.setLanguage}\n                            setLoading={props.setLoading}\n                            subtitleEnglish={props.subtitleEnglish}\n                            formatSub={props.formatSub}\n                            setSubtitle={props.setSubtitle}\n                            notify={props.notify}\n                            isPrimary={false}\n                            configuration={props.configuration}\n                            setConfiguration={props.setConfiguration}\n                            updateSubOriginal={props.updateSubTranslate}\n                            translationApi={props.translationApi}\n                        />\n                        <Subtitles\n                            currentIndex={props.currentIndex}\n                            subtitle={props.subtitle}\n                            checkSub={props.checkSub}\n                            player={props.player}\n                            updateSub={props.updateSub}\n                            language={props.language}\n                            setLanguage={props.setLanguage}\n                            setLoading={props.setLoading}\n                            subtitleEnglish={props.subtitleEnglish}\n                            formatSub={props.formatSub}\n                            setSubtitle={props.setSubtitle}\n                            notify={props.notify}\n                            isPrimary={true}\n                            clearedSubs={props.clearedSubs}\n                            setClearedSubs={props.setClearedSubs}\n                            setSubtitleOriginal={props.setSubtitleOriginal}\n                            configuration={props.configuration}\n                            setConfiguration={props.setConfiguration}\n                            translationApi={props.translationApi}\n                        />\n                    </>\n                )}\n\n                {configuration === 'Sign Language Subtitling' && (\n                    <>\n                        <SignLanguageSubtitles\n                            currentIndex={props.currentIndex}\n                            subtitle={props.subtitleEnglish}\n                            checkSub={props.checkSub}\n                            player={props.player}\n                            updateSub={props.updateSubEnglish}\n                            language={props.language}\n                            setLanguage={props.setLanguage}\n                            setLoading={props.setLoading}\n                            subtitleEnglish={props.subtitleEnglish}\n                            formatSub={props.formatSub}\n                            setSubtitle={props.setSubtitle}\n                            notify={props.notify}\n                            isPrimary={false}\n                            configuration={props.configuration}\n                            setConfiguration={props.setConfiguration}\n                            updateSubOriginal={props.updateSubTranslate}\n                        />\n                        <SignLanguageSubtitles\n                            currentIndex={props.currentIndex}\n                            subtitle={props.subtitle}\n                            checkSub={props.checkSub}\n                            player={props.player}\n                            updateSub={props.updateSub}\n                            language={props.language}\n                            setLanguage={props.setLanguage}\n                            setLoading={props.setLoading}\n                            subtitleEnglish={props.subtitleEnglish}\n                            formatSub={props.formatSub}\n                            setSubtitle={props.setSubtitle}\n                            notify={props.notify}\n                            isPrimary={true}\n                            clearedSubs={props.clearedSubs}\n                            setClearedSubs={props.setClearedSubs}\n                            setSubtitleOriginal={props.setSubtitleOriginal}\n                            configuration={props.configuration}\n                            setConfiguration={props.setConfiguration}\n                        />\n                    </>\n                )}\n\n                {configuration === 'Same Language Subtitling' && (\n                    <>\n                        <SameLanguageSubtitles\n                            currentIndex={props.currentIndex}\n                            subtitle={props.subtitle}\n                            checkSub={props.checkSub}\n                            player={props.player}\n                            updateSub={props.updateSub}\n                            language={props.language}\n                            setLanguage={props.setLanguage}\n                            setLoading={props.setLoading}\n                            subtitleEnglish={props.subtitleEnglish}\n                            formatSub={props.formatSub}\n                            setSubtitle={props.setSubtitle}\n                            notify={props.notify}\n                            isPrimary={true}\n                            clearedSubs={props.clearedSubs}\n                            setClearedSubs={props.setClearedSubs}\n                            setSubtitleOriginal={props.setSubtitleOriginal}\n                            configuration={props.configuration}\n                            setConfiguration={props.setConfiguration}\n                            clearSubs={props.clearSubs}\n                            setSubtitleEnglish={props.setSubtitleEnglish}\n                        />\n                    </>\n                )}\n                <Tool {...props} />\n            </div>\n            {isSetVideo && <Footer {...props} />}\n            {loading ? <Loading loading={loading} /> : null}\n            {processing > 0 && processing < 100 ? <ProgressBar processing={processing} /> : null}\n            <NotificationSystem ref={notificationSystem} allowHTML={true} />\n            {/* <BottomLinks /> */}\n        </Style>\n    );\n}\n","import styled from 'styled-components';\nimport { Translate } from 'react-i18nify';\n\nconst Style = styled.div`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n    width: 100%;\n`;\n\nexport default function Mobile() {\n    return (\n        <Style>\n            <Translate value=\"MOBILE_TIP\" />\n        </Style>\n    );\n}\n","import { createGlobalStyle } from 'styled-components';\n\nexport default createGlobalStyle`\n    html,\n    body,\n    #root {\n        height: 100%;\n    }\n\n    body {\n        font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;\n        line-height: 1.5;\n        overflow: hidden;\n    }\n\n    *, *::before, *::after {\n        box-sizing: border-box;\n    }\n\n    #root {\n        display: flex;\n        font-size: 14px;\n        color: #ccc;\n        background-color: rgb(0 0 0 / 90%);\n    }\n\n    ::-webkit-scrollbar {\n        width: 5px;\n    }\n\n    ::-webkit-scrollbar-thumb {\n        background-color: #999;\n    }\n\n    ::-webkit-scrollbar-thumb:hover {\n        background-color: #ccc;\n    }\n`;\n","import 'core-js';\nimport 'normalize.css';\nimport './libs/contextmenu.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { isMobile } from './utils';\nimport { setLocale, setTranslations } from 'react-i18nify';\nimport i18n from './i18n';\nimport App from './App';\nimport Mobile from './Mobile';\nimport GlobalStyle from './GlobalStyle';\n\nsetTranslations(i18n);\nconst language = navigator.language.toLowerCase();\nconst defaultLang = i18n[language] ? language : 'en';\nsetLocale(defaultLang);\n\nReactDOM.render(\n    <React.Fragment>\n        <GlobalStyle />\n        {isMobile ? <Mobile /> : <App defaultLang={defaultLang} />}\n    </React.Fragment>,\n    document.getElementById('root'),\n);\n"],"sourceRoot":""}