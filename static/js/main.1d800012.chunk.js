(this.webpackJsonpsubplayer=this.webpackJsonpsubplayer||[]).push([[0],{426:function(e,t,n){},763:function(e,t,n){},890:function(e,t){e.exports={error:{message:{email:"Invalid email address",emailempty:"Email field must not be empty",requiredField:"Required field",passwordnomatch:"Passwords do not match",passwordlegth:"Password field must not be empty",tnc:"You must accept our terms of service",loginFailure:"Entered Email or password is wrong. Please try again",signupError:"Something went wrong while we tried to sign you in",forgotPassword:"Something went wrong while we tried to send password to the given email id",createPassword:"Something went wrong while we tried to create password",profileError:"Something went wrong while we tried to edit the profile ",logoutError:"Something went wrong while trying to logout ",deleteError:"Something went wrong while trying to delete the account",compareselection:"You must select at-least two results to compare",http:{422:"A User with same email already exist.",400:"Something wrong with the input you supplied, please verify and try again!",401:"You are not authorized to do this action at the moment!",default:"Something went wrong while we process your request. Please try after sometime"}}},success:{message:{login:"You have logged in successfully",otpsent:"We have sent you a one time password to your registered email address.",signup:"You have successfully registered to Beckers",forgotPassword:"Please login with the one time password, received in given email",createPassword:"You have successfully changed your password",resultsaved:"The result have been saved successfully",profileSuccess:"Profile updated successfully",logoutSuccess:"Logout successfully",deleteSuccess:"Deleted successfully"}}}},911:function(e,t,n){"use strict";n.r(t);n(445),n(452),n(453),n(454),n(455),n(456),n(457),n(458),n(459),n(460),n(461),n(462),n(463),n(464),n(465),n(466),n(467),n(468),n(469),n(470),n(471),n(472),n(473),n(475),n(476),n(229),n(477),n(478),n(479),n(480),n(481),n(482),n(483),n(484),n(485),n(487),n(488),n(489),n(491),n(492),n(304),n(494),n(495),n(496),n(497),n(498),n(499),n(500),n(501),n(502),n(503),n(505),n(506),n(507),n(508),n(509),n(510),n(511),n(512),n(514),n(515),n(516),n(517),n(518),n(519),n(520),n(521),n(522),n(523),n(524),n(525),n(526),n(527),n(528),n(529),n(530),n(531),n(532),n(533),n(534),n(535),n(536),n(537),n(538),n(539),n(540),n(541),n(542),n(544),n(545),n(546),n(547),n(558),n(559),n(560),n(562),n(563),n(564),n(565),n(566),n(567),n(568),n(569),n(570),n(571),n(572),n(573),n(376),n(575),n(576),n(577),n(579),n(580),n(581),n(582),n(377),n(583),n(584),n(585),n(586),n(587),n(588),n(589),n(591),n(592),n(593),n(594),n(596),n(598),n(603),n(604),n(605),n(606),n(607),n(608),n(609),n(610),n(611),n(612),n(613),n(614),n(617),n(618),n(619),n(620),n(621),n(622),n(623),n(624),n(625),n(626),n(627),n(628),n(629),n(630),n(631),n(632),n(633),n(634),n(635),n(636),n(317),n(638),n(640),n(647),n(648),n(649),n(650),n(651),n(653),n(654),n(655),n(656),n(657),n(658),n(659),n(660),n(662),n(663),n(664),n(665),n(666),n(667),n(668),n(669),n(670),n(671),n(672),n(673),n(674),n(675),n(676),n(677),n(678),n(679),n(680),n(681),n(683),n(684),n(685),n(686),n(690),n(692),n(694),n(695),n(696),n(697),n(698),n(700),n(701),n(702),n(703),n(704),n(705),n(706),n(707),n(710),n(711),n(712),n(713),n(714),n(716),n(718),n(720),n(722),n(723),n(724),n(725),n(726),n(727),n(729),n(731),n(732),n(733),n(735),n(737),n(738),n(739),n(740),n(742),n(743),n(744),n(745),n(746),n(747),n(748),n(750),n(751),n(756),n(757),n(760),n(761),n(762),n(763);var a=n(1),r=n.n(a),i=n(54),o=n.n(i),c=window.navigator.userAgent,s=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(c);function l(e){return e.trim().toLowerCase().split(".").pop()}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(t){return setTimeout(t,e)}))}function d(e,t){var n=document.createElement("a");n.style.display="none",n.href=e,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)}function b(e){var t=document.activeElement.tagName.toUpperCase(),n=document.activeElement.getAttribute("contenteditable");if("INPUT"!==t&&"TEXTAREA"!==t&&""!==n&&"true"!==n)return Number(e.keyCode)}function g(e){return!!(e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2)}var p=n(18),h={LOADING:"\u52a0\u8f7d\u4e2d...",SUB_TEXT:"\u5b57\u5e55\u6587\u672c",OPEN_VIDEO:"\u6253\u5f00\u89c6\u9891",OPEN_SUB:"\u6253\u5f00\u5b57\u5e55",EXPORT_ASS:"\u5bfc\u51fa ASS",EXPORT_SRT:"\u5bfc\u51fa SRT",EXPORT_VTT:"\u5bfc\u51fa VTT",EXPORT_VIDEO:"\u5bfc\u51fa\u89c6\u9891",TRANSLATE:"\u6279\u91cf\u7ffb\u8bd1",TRANSLATING:"\u7ffb\u8bd1\u4e2d...",TRANSLAT_SUCCESS:"\u7ffb\u8bd1\u6210\u529f",DECODE_START:"\u5f00\u59cb\u89e3\u7801\u97f3\u9891",DECODE_SUCCESS:"\u89e3\u7801\u97f3\u9891\u6210\u529f",DECODE_ERROR:"\u89e3\u7801\u97f3\u9891\u5931\u8d25",VIDEO_EXT_ERR:"\u65e0\u6cd5\u6253\u5f00\u8be5\u89c6\u9891\u683c\u5f0f",SUB_EXT_ERR:"\u65e0\u6cd5\u6253\u5f00\u8be5\u5b57\u5e55\u683c\u5f0f",MOBILE_TIP:"\u8bf7\u4f7f\u7528\u7535\u8111\u8bbf\u95ee",HOTKEY_01:"\u7a7a\u683c\u952e: \u64ad\u653e / \u6682\u505c",HOTKEY_02:"Ctrl + Z: \u64a4\u9500",CLEAR:"\u6e05\u7a7a",UNDO:"\u64a4\u9500",DELETE:"\u5220\u9664\u5b57\u5e55",MERGE:"\u5408\u5e76\u4e0b\u4e00\u4e2a",SPLIT:"\u62c6\u5206\u5b57\u5e55",LOADING_FFMPEG:"\u52a0\u8f7d\u4f9d\u8d56\u4e2d...",LOADING_FONT:"\u52a0\u8f7d\u5b57\u4f53\u4e2d...",LOADING_VIDEO:"\u52a0\u8f7d\u89c6\u9891\u4e2d...",LOADING_SUB:"\u52a0\u8f7d\u5b57\u5e55\u4e2d...",CLEAR_TIP:"\u786e\u8ba4\u6e05\u7a7a\u6240\u6709\u6570\u636e\u5417",BURN_ERROR:"\u5408\u6210\u5b57\u5e55\u5931\u8d25",BURN_START:"\u5f00\u59cb\u5408\u6210\u5b57\u5e55",BURN_SUCCESS:"\u5408\u6210\u5b57\u5e55\u6210\u529f",OPEN_VIDEO_ERROR:"\u8bf7\u5148\u6253\u5f00\u89c6\u9891"},m={en:{LOADING:"Loading...",SUB_TEXT:"Subtitle Text",OPEN_VIDEO:"Open Video",OPEN_SUB:"Open Subtitle",EXPORT_ASS:"Export ASS",EXPORT_SRT:"Export SRT",EXPORT_VTT:"Export VTT",EXPORT_VIDEO:"Export Video",TRANSLATE:"Translate",TRANSCRIBE:"Transcribe",TRANSLATING:"Translating...",TRANSCRIBING:"Transcribing ...",TRANSLAT_SUCCESS:"Translation success",DECODE_START:"Start decoding audio",DECODE_SUCCESS:"Decoding audio success",DECODE_ERROR:"Decoding audio failed",VIDEO_EXT_ERR:"Unable to open this video format",SUB_EXT_ERR:"Unable to open this subtitle format",MOBILE_TIP:"Please use computer access",HOTKEY_01:"Space: Play / Pause",HOTKEY_02:"Ctrl + Z: Undo",CLEAR:"Clear",UNDO:"Undo",DELETE:"Delete Subtitle",MERGE:"Merge Next",SPLIT:"Split Subtitle",LOADING_FFMPEG:"Loading dependency...",LOADING_FONT:"Loading font...",LOADING_VIDEO:"Loading video...",LOADING_SUB:"Loading subtitle...",CLEAR_TIP:"Confirm that all data is cleared",BURN_ERROR:"Burn subtitles failed",BURN_START:"Start burn subtitles",BURN_SUCCESS:"Burn subtitles success",OPEN_VIDEO_ERROR:"Please open the video first",SAME_LANGUAGE:"Transcription",SIGN_LANGUAGE:"Sign Language",MAIN_LANGUAGE:"Translation"},it:{LOADING:"Caricamento in corso...",SUB_TEXT:"Sottotitoli",OPEN_VIDEO:"Apri video",OPEN_SUB:"Apri sottotitoli",EXPORT_ASS:"Esporta ASS",EXPORT_SRT:"Esporta SRT",EXPORT_VTT:"Esporta VTT",EXPORT_VIDEO:"Esporta video",TRANSLATE:"Traduci",TRANSLATING:"Traduzione...",TRANSLAT_SUCCESS:"Traduzione riuscita",DECODE_START:"Avvia decodifica audio",DECODE_SUCCESS:"Decodifica audio riuscita",DECODE_ERROR:"Decodifica audio non riuscita",VIDEO_EXT_ERR:"Impossibile aprire questo formato video",SUB_EXT_ERR:"Impossibile aprire questo formato di sottotitoli",MOBILE_TIP:"Utilizza l'accesso al computer",HOTKEY_01:"Spazio: Riproduci / Pausa",HOTKEY_02:"Ctrl + Z: Annulla",CLEAR:"Pulisci",UNDO:"Annulla",DELETE:"Elimina sottotitoli",MERGE:"Unisci dopo",SPLIT:"Dividi sottotitoli",LOADING_FFMPEG:"Caricamento dipendenza in corso...",LOADING_FONT:"Caricamento font in corso...",LOADING_VIDEO:"Caricamento video in corso...",LOADING_SUB:"Caricamento sottotitoli in corso...",CLEAR_TIP:"Conferma che tutti i dati siano stati cancellati",BURN_ERROR:"Masterizzazione sottotitoli non riuscita",BURN_START:"Avvia masterizzazione sottotitoli",BURN_SUCCESS:"Masterizzazione sottotitoli riuscita",OPEN_VIDEO_ERROR:"Apri prima il video"},zh:h,"zh-cn":h,"zh-tw":h,tr:{LOADING:"Loading...",SUB_TEXT:"Subtitle Text",OPEN_VIDEO:"Video A\xe7",OPEN_SUB:"Altyaz\u0131 A\xe7",EXPORT_ASS:"ASS \xc7\u0131kar",EXPORT_SRT:"SRT \xc7\u0131kar",EXPORT_VTT:"VTT \xc7\u0131kar",EXPORT_VIDEO:"Videoyu \xc7\u0131kar",TRANSLATE:"\xc7evir",TRANSLATING:"\xc7evriliyor...",TRANSLAT_SUCCESS:"\xc7evirme ba\u015far\u0131l\u0131",DECODE_START:"Ses \xe7\xf6z\xfcmlemesi ba\u015flad\u0131",DECODE_SUCCESS:"Ses \xe7\xf6z\xfcmlemesi ba\u015far\u0131l\u0131",DECODE_ERROR:"Ses \xe7\xf6z\xfcmlemesi ba\u015far\u0131s\u0131z",VIDEO_EXT_ERR:"Bu video bi\xe7imi a\xe7\u0131lam\u0131yor",SUB_EXT_ERR:"Bu altyaz\u0131 bi\xe7imi a\xe7\u0131lam\u0131yor",MOBILE_TIP:"L\xfctfen bilgisayardan eri\u015fin",HOTKEY_01:"Bo\u015fluk: Oynat / Duraklat",HOTKEY_02:"Ctrl + Z: Geri Al",CLEAR:"Temizle",UNDO:"Geri Al",DELETE:"Altyaz\u0131y\u0131 Sil",MERGE:"Sonrakiyle Birle\u015ftir",SPLIT:"Altyaz\u0131y\u0131 B\xf6l",LOADING_FFMPEG:"Ba\u011f\u0131ml\u0131l\u0131k y\xfckleniyor...",CLEAR_TIP:"T\xfcm verilerin silinece\u011fini onayl\u0131yor musunuz?",BURN_ERROR:"Altyaz\u0131 g\xf6mme ba\u015far\u0131s\u0131z",BURN_START:"Altyaz\u0131 g\xf6mmeyi ba\u015flat",BURN_SUCCESS:"Altyaz\u0131 g\xf6mme ba\u015far\u0131l\u0131",OPEN_VIDEO_ERROR:"L\xfctfen \xf6nce videoyu a\xe7\u0131n"}},f=n(3),A=n(9),j=n(15),O=n(6),x=n(45),v=n(428),y=n.n(v),S=n(47),k=n.n(S),T=n(113),E=n.n(T),w=n(46),C=n(22),I=n(23),R=n(38),N=n(33),_=n(34),P=n(185),L=n.n(P),D=function(){function e(t){Object(C.a)(this,e),this.start=t.start,this.end=t.end,this.text=t.text,this.text2=t.text2}return Object(I.a)(e,[{key:"check",get:function(){return this.startTime>=0&&this.endTime>=0&&this.startTime<this.endTime}},{key:"clone",get:function(){return new e(this)}},{key:"startTime",get:function(){return k.a.t2d(this.start)},set:function(e){this.start=k.a.d2t(L()(e,0,1/0))}},{key:"endTime",get:function(){return k.a.t2d(this.end)},set:function(e){this.end=k.a.d2t(L()(e,0,1/0))}},{key:"duration",get:function(){return parseFloat((this.endTime-this.startTime).toFixed(3))}}]),e}();function z(e){var t=new RegExp("Dialogue:\\s\\d,(\\d+:\\d\\d:\\d\\d.\\d\\d),(\\d+:\\d\\d:\\d\\d.\\d\\d),([^,]*),([^,]*),(?:[^,]*,){4}([\\s\\S]*)$","i");function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.split(/[:.]/).map((function(e,t,n){if(t===n.length-1){if(1===e.length)return"."+e+"00";if(2===e.length)return"."+e+"0"}else if(1===e.length)return(0===t?"0":":0")+e;return 0===t?e:t===n.length-1?"."+e:":"+e})).join("")}return"WEBVTT\n\n"+e.split(/\r?\n/).map((function(e){var a=e.match(t);return a?{start:n(a[1].trim()),end:n(a[2].trim()),text:a[5].replace(/{[\s\S]*?}/g,"").replace(/(\\N)/g,"\n").trim().split(/\r?\n/).map((function(e){return e.trim()})).join("\n")}:null})).filter((function(e){return e})).map((function(e,t){return e?t+1+"\n"+e.start+" --\x3e "+e.end+"\n"+e.text:""})).filter((function(e){return e.trim()})).join("\n\n")}function B(e){return new Promise((function(t){var n=document.createElement("video"),a=document.createElement("track");a.default=!0,a.kind="metadata",n.appendChild(a),a.onload=function(){t(Array.from(a.track.cues).map((function(e){var t=k.a.d2t(e.startTime),n=k.a.d2t(e.endTime),a=e.text;return new D({start:t,end:n,text:a})})))},a.src=e}))}function F(e){return URL.createObjectURL(new Blob([e],{type:"text/vtt"}))}function U(e){return"WEBVTT\n\n"+e.map((function(e,t){return t+1+"\n"+e.start+" --\x3e "+e.end+"\n"+e.text})).join("\n\n")}function M(e){return e.map((function(e,t){return"".concat(t+1,"\n").concat(e.start.replace(".",",")," --\x3e ").concat(e.end.replace(".",","),"\n").concat(e.text)})).join("\n\n")}function G(e){return e.map((function(t,n){return 0===n?t.text.trim()+" ":(Date.parse("01/01/2000 "+t.start)-Date.parse("01/01/2000 "+e[n-1].end))/1e3>5?t.text.trim()+"\n\n":t.text.trim()+" "})).join("")}var H=function(e){var t=[],n="",a=e.split(/[:.]/).map((function(e){return Number(e)}));return(a=e.split(/[:.]/).map((function(e){return Number(e)})))[3]="0."+("00"+a[3]).slice(-3),n=(n=(60*a[0]*60+60*a[1]+a[2]+Number(a[3])).toFixed(2)).toString().split("."),t.unshift(n[1]),n=Number(n[0]),t.unshift(("0"+(n%60).toString()).slice(-2)),t.unshift(("0"+(Math.floor(n/60)%60).toString()).slice(-2)),t.unshift((Math.floor(n/3600)%60).toString()),t.slice(0,3).join(":")+"."+t[3]};function V(e){return"\n[Script Info]\n; // \u6b64\u5b57\u5e55\u7531\u7231\u5e55\u751f\u6210\nSynch Point:1\nScriptType:v4.00+\nCollisions:Normal\n\n[V4+ Styles]\nFormat: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding\nStyle: Default, Microsoft YaHei, 20, &H00FFFFFF, &H000000FF, &H00000000, &H00000000, 0, 0, 0, 0, 100, 100, 0, 0, 1, 1, 0, 2, 10, 10, 10, 134\n\n[Events]\nFormat: Layer, Start, End, Style, Actor, MarginL, MarginR, MarginV, Effect, Text\n".concat(e.map((function(e){var t=H(e.start),n=H(e.end),a=e.text.replace(/\r?\n/g,"\\N");return"Dialogue: 0,".concat(t,",").concat(n,",Default,NTP,0000,0000,0000,,").concat(a)})).join("\n"),"\n    ").trim()}var K=n(189),Y=n.n(K),J=n(429),X=n(2);function W(){return Object(X.jsx)("div",{className:"links",style:{margin:"0 auto 0 10px"},children:Object(X.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://ai4bharat.org/chitralekha",children:Object(X.jsx)("img",{style:{width:"50px"},src:"https://i.imgur.com/pVT5Mjp.png",alt:"AI4B Logo"})})})}var Q=n(26),q=n(24),Z={BASE_URL:"https://backend.chitralekha.ai4bharat.org/",BASE_URL_AUTO:"https://backend.lite.chitralekha.ai4bharat.org"},$=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"POST",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";Object(C.a)(this,e),this.code=null,this.message=null,this.reqType=r,this.domain=null,this.method=t,this.timeout=n,this.auth=a,this.baseUrl=Z.BASE_URL,this.baseUrlAuto=Z.BASE_URL_AUTO}return Object(I.a)(e,[{key:"toString",value:function(){return"( code: ".concat(this.code," message: ").concat(this.message," domain: ").concat(this.domain," method: ").concat(this.method," timeout: ").concat(this.timeout," auth: ").concat(this.auth)}},{key:"apiEndPoint",value:function(){return this.baseUrl}},{key:"dontShowApiLoader",value:function(){return!1}},{key:"apiEndPointAuto",value:function(){return this.baseUrlAuto}},{key:"processResponse",value:function(e){this.code=e.code,this.message=e.message,this.domain=e.domain}}]),e}(),ee="/users/api/",te="/video/",ne="/transcript/",ae="/translation/",re="APISTATUS",ie="GET_VIDEO_DETAILS",oe="FETCH_TRANSCRIPT",ce="GET_TRANSCRIPT_LANGUAGES",se="GENERATE_TRANSCRIPT",le="GENERATE_TRANSCRIPT",ue="SAVE_TRANSCRIPT",de="GENERATE_TRANSLATION",be="GET_TRANSLATION_LANGAUGES",ge="SAVE_TRANSLATION",pe="FETCH_TRANSLATION",he="GET_RECENT_LINKS",me=function(e){Object(N.a)(n,e);var t=Object(_.a)(n);function n(e,a){var r,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;return Object(C.a)(this,n),(i=t.call(this,"GET",o,!1)).type=ie,i.videoUrl=e,i.endpoint="".concat(Object(Q.a)((r=Object(R.a)(i),Object(q.a)(n.prototype)),"apiEndPointAuto",r).call(r)).concat(te,"?multimedia_url=").concat(e,"&save_original_transcript=True&is_audio_only=").concat(a),i}return Object(I.a)(n,[{key:"processResponse",value:function(e){Object(Q.a)(Object(q.a)(n.prototype),"processResponse",this).call(this,e),e&&(this.video=e)}},{key:"apiEndPoint",value:function(){return this.endpoint}},{key:"getBody",value:function(){}},{key:"getHeaders",value:function(){return this.headers={headers:Object(f.a)({"Content-Type":"application/json"},localStorage.getItem("chitralekha_access_token")&&{Authorization:"Token ".concat(localStorage.getItem("chitralekha_access_token"))})},this.headers}},{key:"getPayload",value:function(){return this.video}}]),n}($),fe=n(112),Ae=n(140),je=n.n(Ae);n(890);function Oe(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return null!==a&&a.status&&a.status.statusCode&&200!==a.status.statusCode&&201!==a.status.statusCode?{type:re,payload:{progress:e,error:200===a.status.statusCode||201===a.status.statusCode,message:200===a.status.statusCode||201===a.status.statusCode?n:a.status.errorMessage,unauthrized:r,loading:i}}:{type:re,payload:{progress:e,error:t,message:a&&a.status&&a.status.statusMessage?a.status.statusMessage:n,unauthrized:r,loading:i}}}function xe(e,t,n){t.processResponse(e.data),t.type&&(n(function(e){return{type:e.type,endpoint:e.apiEndPoint(),payload:e.getPayload()}}(t)),n(Oe(!1,!1,t.successMsg,e.data,null,!1))),"function"!==typeof t.processNextSuccessStep||!e.status||200!==e.status&&201!==e.status||t.processNextSuccessStep(e.data),n(Oe(!1,!1,t.successMsg,e.data,null,!1))}function ve(e,t,n){var a,r,i,o=null!==(a=null===e||void 0===e||null===(r=e.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.error)&&void 0!==a?a:"Something went wrong";(t.errorMsg||null===t.errorMsg)&&(o=null===t.errorMsg?"":t.errorMsg),n(Oe(!1,!0,o,null,!(!e.response||401!==e.response.status))),"function"===typeof t.processNextErrorStep&&t.processNextErrorStep()}function ye(e){return"MULTIPART"===e.reqType?function(t){t(Oe(!e.dontShowApiLoader(),!1,"")),je.a.post(e.apiEndPoint(),e.getFormData(),e.getHeaders()).then((function(n){xe(n,e,t)})).catch((function(n){ve(n,e,t)}))}:"PATCH"===e.method?function(t){t(Oe(!e.dontShowApiLoader(),!1,"")),je.a.patch(e.apiEndPoint(),e.getBody(),e.getHeaders()).then((function(n){xe(n,e,t)})).catch((function(n){ve(n,e,t)}))}:"POST"===e.method?function(t){t(Oe(!e.dontShowApiLoader(),!1,"",null,null,!0)),je.a.post(e.apiEndPoint(),e.getBody(),e.getHeaders()).then((function(n){xe(n,e,t)})).catch((function(n){ve(n,e,t)}))}:"PUT"===e.method?function(t){t(Oe(!e.dontShowApiLoader(),!1,"")),je.a.put(e.apiEndPoint(),e.getBody(),e.getHeaders()).then((function(n){xe(n,e,t)})).catch((function(n){ve(n,e,t)}))}:"DELETE"===e.method?function(t){t(Oe(!e.dontShowApiLoader(),!1,"")),je.a.delete(e.apiEndPoint(),e.getHeaders()).then((function(n){xe(n,e,t)})).catch((function(n){ve(n,e,t)}))}:function(t){t(Oe(!e.dontShowApiLoader(),!1,"",null,null,!0)),je.a.get(e.apiEndPoint(),e.getHeaders()).then((function(n){xe(n,e,t)})).catch((function(n){ve(n,e,t)}))}}var Se,ke=n(94),Te=n(432),Ee=n(124),we=n(114),Ce=function(e){Object(N.a)(n,e);var t=Object(_.a)(n);function n(e,a){var r,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;return Object(C.a)(this,n),(i=t.call(this,"POST",o,!1)).username=e,i.password=a,i.endpoint="".concat(Object(Q.a)((r=Object(R.a)(i),Object(q.a)(n.prototype)),"apiEndPointAuto",r).call(r)).concat(ee,"login/"),i}return Object(I.a)(n,[{key:"processResponse",value:function(e){Object(Q.a)(Object(q.a)(n.prototype),"processResponse",this).call(this,e),e&&(this.report=e)}},{key:"apiEndPoint",value:function(){return this.endpoint}},{key:"getBody",value:function(){return{username:this.username,password:this.password}}},{key:"getHeaders",value:function(){return this.headers={headers:{"Content-Type":"application/json"}},this.headers}},{key:"getPayload",value:function(){return this.report}}]),n}($),Ie=function(e){Object(N.a)(n,e);var t=Object(_.a)(n);function n(e,a,r,i,o,c){var s,l,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2e3;return Object(C.a)(this,n),(l=t.call(this,"POST",u,!1)).username=e,l.email=a,l.first_name=r,l.last_name=i,l.password=o,l.password2=c,l.endpoint="".concat(Object(Q.a)((s=Object(R.a)(l),Object(q.a)(n.prototype)),"apiEndPointAuto",s).call(s)).concat(ee,"register/"),l}return Object(I.a)(n,[{key:"processResponse",value:function(e){Object(Q.a)(Object(q.a)(n.prototype),"processResponse",this).call(this,e),e&&(this.report=e)}},{key:"apiEndPoint",value:function(){return this.endpoint}},{key:"getBody",value:function(){return{username:this.username,email:this.email,first_name:this.first_name,last_name:this.last_name,password:this.password,password2:this.password2}}},{key:"getHeaders",value:function(){return this.headers={headers:{"Content-Type":"application/json"}},this.headers}},{key:"getPayload",value:function(){return this.report}}]),n}($),Re=(n(426),function(e){var t=e.showLogin,n=e.setShowLogin,r={username:"",password:""},i={username:"",password:"",password2:"",email:"",first_name:"",last_name:""},o=Object(a.useState)(r),c=Object(O.a)(o,2),s=c[0],l=c[1],u=Object(a.useState)(i),d=Object(O.a)(u,2),b=d[0],g=d[1],p=Object(a.useState)(""),h=Object(O.a)(p,2),m=h[0],x=h[1],v=Object(a.useState)(!0),y=Object(O.a)(v,2),S=y[0],k=y[1],T=function(e){13===e.keyCode&&E(e)};Object(a.useEffect)((function(){return window.addEventListener("keydown",T),function(){window.removeEventListener("keydown",T)}}),[]);var E=function(e){e.preventDefault();var t=new Ce(s.username,s.password);fetch(t.apiEndPoint(),{method:"POST",body:JSON.stringify(t.getBody()),headers:t.getHeaders().headers}).then(function(){var e=Object(j.a)(Object(A.a)().mark((function e(t){var n,a,r,i,o,c;return Object(A.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log(n),t.ok?(localStorage.setItem("chitralekha_access_token",n.token),localStorage.setItem("user_id",null===(a=n.user)||void 0===a?void 0:a.id),localStorage.setItem("username",null===(r=n.user)||void 0===r?void 0:r.username),localStorage.setItem("email",null===(i=n.user)||void 0===i?void 0:i.email),localStorage.setItem("first_name",null===(o=n.user)||void 0===o?void 0:o.first_name),localStorage.setItem("last_name",null===(c=n.user)||void 0===c?void 0:c.last_name),localStorage.setItem("isLoggedIn",!0),w()):x("Username or Password incorrect");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){x("string"===typeof e?e:"Something went wrong")}))},w=function(){n(!1),l(r),g(i),x("")};return Object(X.jsx)(X.Fragment,{children:S?Object(X.jsxs)(ke.a,{show:t,onHide:w,centered:!0,children:[Object(X.jsx)(ke.a.Header,{closeButton:!0,children:Object(X.jsx)(ke.a.Title,{children:"Sign In"})}),Object(X.jsxs)(ke.a.Body,{children:[m&&Object(X.jsx)("p",{className:"err-msg",children:m}),Object(X.jsx)(Te.a,{controlId:"floatingInput",label:"Username / Email",className:"mb-3",children:Object(X.jsx)(Ee.a.Control,{type:"text",placeholder:"name@example.com",value:s.username,onChange:function(e){return l(Object(f.a)(Object(f.a)({},s),{},{username:e.currentTarget.value}))}})}),Object(X.jsx)(Te.a,{controlId:"floatingPassword",label:"Password",children:Object(X.jsx)(Ee.a.Control,{type:"password",placeholder:"Password",value:s.password,onChange:function(e){return l(Object(f.a)(Object(f.a)({},s),{},{password:e.currentTarget.value}))}})})]}),Object(X.jsxs)(ke.a.Footer,{children:[Object(X.jsx)(we.a,{variant:"secondary",onClick:w,children:"Cancel"}),Object(X.jsx)(we.a,{variant:"primary",onClick:E,children:"Login"})]})]}):Object(X.jsxs)(ke.a,{show:t,onHide:w,centered:!0,children:[Object(X.jsx)(ke.a.Header,{closeButton:!0,children:Object(X.jsx)(ke.a.Title,{children:"Sign Up"})}),Object(X.jsxs)(ke.a.Body,{children:[m&&Object(X.jsx)("p",{className:"err-msg",children:m}),Object(X.jsx)(Te.a,{controlId:"floatingUsername",label:"Username",className:"mb-3",children:Object(X.jsx)(Ee.a.Control,{type:"text",placeholder:"name@example.com",value:b.username,onChange:function(e){return g(Object(f.a)(Object(f.a)({},b),{},{username:e.currentTarget.value}))}})}),Object(X.jsx)(Te.a,{controlId:"floatingEmail",label:"Email",className:"mb-3",children:Object(X.jsx)(Ee.a.Control,{type:"email",placeholder:"name@example.com",value:b.email,onChange:function(e){return g(Object(f.a)(Object(f.a)({},b),{},{email:e.currentTarget.value}))}})}),Object(X.jsx)(Te.a,{controlId:"floatingFirstName",label:"First Name",className:"mb-3",children:Object(X.jsx)(Ee.a.Control,{type:"text",placeholder:"name@example.com",value:b.first_name,onChange:function(e){return g(Object(f.a)(Object(f.a)({},b),{},{first_name:e.currentTarget.value}))}})}),Object(X.jsx)(Te.a,{controlId:"floatingLastName",label:"Last Name",className:"mb-3",children:Object(X.jsx)(Ee.a.Control,{type:"text",placeholder:"name@example.com",value:b.last_name,onChange:function(e){return g(Object(f.a)(Object(f.a)({},b),{},{last_name:e.currentTarget.value}))}})}),Object(X.jsx)(Te.a,{controlId:"floatingPassword",label:"Password",className:"mb-3",children:Object(X.jsx)(Ee.a.Control,{type:"password",placeholder:"Password",value:b.password,onChange:function(e){return g(Object(f.a)(Object(f.a)({},b),{},{password:e.currentTarget.value}))}})}),Object(X.jsx)(Te.a,{controlId:"floatingConfirmPassword",label:"Confirm Password",className:"mb-3",children:Object(X.jsx)(Ee.a.Control,{type:"password",placeholder:"Password",value:b.password2,onChange:function(e){return g(Object(f.a)(Object(f.a)({},b),{},{password2:e.currentTarget.value}))}})}),Object(X.jsxs)("div",{style:{color:"#000",textAlign:"center"},children:[Object(X.jsxs)("span",{style:{padding:"8px 12px"},children:["Already have an account?"," "]}),Object(X.jsx)(we.a,{variant:"link",onClick:function(){x(""),k(!S)},children:"Sign In"})]})]}),Object(X.jsxs)(ke.a.Footer,{children:[Object(X.jsx)(we.a,{variant:"secondary",onClick:w,children:"Cancel"}),Object(X.jsx)(we.a,{variant:"primary",onClick:function(e){e.preventDefault();var t=new Ie(b.username,b.email,b.first_name,b.last_name,b.password,b.password2);fetch(t.apiEndPoint(),{method:"POST",body:JSON.stringify(t.getBody()),headers:t.getHeaders().headers}).then(function(){var e=Object(j.a)(Object(A.a)().mark((function e(t){var n,a,r,i,o,c;return Object(A.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log(n),t.ok?(localStorage.setItem("chitralekha_access_token",n.token),localStorage.setItem("user_id",null===(a=n.user)||void 0===a?void 0:a.id),localStorage.setItem("username",null===(r=n.user)||void 0===r?void 0:r.username),localStorage.setItem("email",null===(i=n.user)||void 0===i?void 0:i.email),localStorage.setItem("first_name",null===(o=n.user)||void 0===o?void 0:o.first_name),localStorage.setItem("last_name",null===(c=n.user)||void 0===c?void 0:c.last_name),w()):x("Invalid details");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){x("string"===typeof e?e:"Something went wrong")}))},children:"Sign Up"})]})]})})}),Ne=(n(427),n(139)),_e=n(433),Pe=function(e){Object(N.a)(n,e);var t=Object(_.a)(n);function n(){var e,a,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;return Object(C.a)(this,n),(a=t.call(this,"GET",i,!1)).type=he,a.endpoint="".concat(Object(Q.a)((e=Object(R.a)(a),Object(q.a)(n.prototype)),"apiEndPointAuto",e).call(e)).concat(te,"list_recent").concat(r?"count="+r:""),a}return Object(I.a)(n,[{key:"processResponse",value:function(e){Object(Q.a)(Object(q.a)(n.prototype),"processResponse",this).call(this,e),e&&(this.list=e)}},{key:"apiEndPoint",value:function(){return this.endpoint}},{key:"getBody",value:function(){}},{key:"getHeaders",value:function(){return this.headers={headers:Object(f.a)({"Content-Type":"application/json"},localStorage.getItem("chitralekha_access_token")&&{Authorization:"Token ".concat(localStorage.getItem("chitralekha_access_token"))})},this.headers}},{key:"getPayload",value:function(){return this.list}}]),n}($),Le=function(e){var t=Object(fe.b)(),n=Object(fe.c)((function(e){return e.getRecentLinks.data})),r=Object(a.useState)([]),i=Object(O.a)(r,2),o=i[0],c=i[1],s=Object(a.useState)(""),l=Object(O.a)(s,2),u=l[0],d=l[1],b=Object(a.useState)("en"),g=Object(O.a)(b,2),p=g[0],h=g[1],m=function(){var e=Object(j.a)(Object(A.a)().mark((function e(){var t,n,a;return Object(A.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ne.b)();case 2:if((null===(t=e.sent)||void 0===t?void 0:t.length)>0){for(a in n=[{name:"English",key:"en"}],t)n.push({name:"".concat(t[a].DisplayName),key:"".concat(t[a].LangCode)});n.push({name:"Other Language",key:"xx"}),c(n)}case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){!function(){var e=new Pe;t(ye(e))}(),m(),"video"===localStorage.getItem("selectValue")?d("Upload Video"):"subtitles"===localStorage.getItem("selectValue")?d("Subtitling"===e.configuration?"Upload Translation Subtitles":"Upload Transcription Subtitle"):d("Upload Audio"),"Subtitling"===e.configuration?(localStorage.getItem("langTranslate")||localStorage.setItem("langTranslate","en"===localStorage.getItem("langTranscribe")?"hi":"en"),h(localStorage.getItem("langTranslate"))):localStorage.getItem("langTranscribe")?h(localStorage.getItem("langTranscribe")):(localStorage.setItem("langTranscribe","en"),h("en"))}),[]);return Object(X.jsxs)(ke.a,Object(f.a)(Object(f.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(X.jsx)(ke.a.Header,{closeButton:!0,children:Object(X.jsx)(ke.a.Title,{style:{textAlign:"center",width:"100%"},children:u})}),Object(X.jsx)(ke.a.Body,{children:"video"===localStorage.getItem("selectValue")?Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(Te.a,{controlId:"floatingTextarea2",label:"Enter Video Link From Youtube or Google Drive Here",style:{color:"#000"},children:Object(X.jsx)(Ee.a.Control,{as:"textarea",style:{height:"100px"},value:e.textAreaValue,onChange:function(t){return e.textAreaValueChange(t.target.value)}})}),localStorage.getItem("isLoggedIn")?Object(X.jsxs)("div",{className:"video-links",children:[Object(X.jsxs)("p",{className:"video-links-heading",children:["Recently Edited Video Links ",Object(X.jsx)(_e.a,{})]}),Object(X.jsx)("ul",{children:Array.isArray(n)&&(null===n||void 0===n?void 0:n.map((function(t){return Object(X.jsx)("li",{href:"javascript:void(0)",className:"video-name",onClick:function(){e.textAreaValueChange(t.url),e.onRecentVideoLinkClick(t.url),e.onHide()},children:t.name})})))})]}):null]}):"subtitles"===localStorage.getItem("selectValue")?Object(X.jsxs)("div",{children:[Object(X.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",columnGap:"20px",marginBottom:"20px"},children:[Object(X.jsx)("label",{style:{margin:0},children:"Select Language:"}),Object(X.jsx)("select",{onChange:function(t){h(t.target.value),"Subtitling"===e.configuration?localStorage.setItem("langTranslate",t.target.value):localStorage.setItem("langTranscribe",t.target.value)},value:p,style:{padding:"6px 4px",borderRadius:"5px",flex:1},children:null===o||void 0===o?void 0:o.map((function(e){return Object(X.jsx)("option",{value:e.key,children:e.name},e.key)}))})]}),Object(X.jsx)(Ee.a.Control,{type:"file",onChange:e.onSubtitleChange,onClick:e.onInputClick})]}):Object(X.jsx)(Te.a,{controlId:"floatingTextarea2",label:"Enter Audio Link from Youtube or Google Drive Here",style:{color:"#000"},children:Object(X.jsx)(Ee.a.Control,{as:"textarea",style:{height:"100px"},value:e.driveUrl,onChange:function(t){return e.setDriveUrl(t.target.value)}})})}),Object(X.jsxs)(ke.a.Footer,{children:["video"===localStorage.getItem("selectValue")?Object(X.jsx)(we.a,{onClick:function(){e.onYouTubeChange(),e.onHide()},style:{marginLeft:"10px"},children:"Fetch"}):"audio"===localStorage.getItem("selectValue")?Object(X.jsx)(we.a,{onClick:function(){e.handleAudioUpload(),e.onHide()},style:{marginLeft:"10px"},children:"Fetch"}):null,Object(X.jsx)(we.a,{onClick:e.onHide,variant:"dark",children:"Close"})]})]}))},De=n(921),ze=n(922),Be=function(e){var t=Object(a.useState)("ass"),n=Object(O.a)(t,2),r=n[0],i=n[1],o=Object(a.useState)("ass"),c=Object(O.a)(o,2),s=c[0],l=c[1];return Object(X.jsxs)(ke.a,Object(f.a)(Object(f.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(X.jsx)(ke.a.Header,{closeButton:!0,children:Object(X.jsx)(ke.a.Title,{style:{textAlign:"center",width:"100%"},children:"Export Subtitle"})}),Object(X.jsx)(ke.a.Body,{children:Object(X.jsxs)(De.a,{defaultActiveKey:"Subtitling"===e.configuration?"Translation":"Transcription",id:"fill-tab-example",className:"mb-3",fill:!0,variant:"pills",children:[Object(X.jsxs)(ze.a,{eventKey:"Transcription",title:"Transcription",children:[Object(X.jsx)(Ee.a,{fill:!0,children:["ass","srt","vtt","txt"].map((function(e,t){return Object(X.jsx)("div",{className:"mb-3",style:{display:"inline-block",padding:"10px 20px"},children:Object(X.jsx)(Ee.a.Check,{inline:!0,label:e,type:"radio",name:"subTranscribeRadioGroup",id:"inline-".concat(e,"-").concat(t+1),checked:r===e,onChange:function(){return i(e)}})},"inline-".concat(e))}))}),Object(X.jsx)(we.a,{onClick:function(){return e.downloadSubReference(r)},children:"Export"})]}),Object(X.jsxs)(ze.a,{eventKey:"Translation",title:"Translation",children:[Object(X.jsx)(Ee.a,{children:["ass","srt","vtt","txt"].map((function(e){return Object(X.jsx)("div",{className:"mb-3",style:{display:"inline-block",padding:"10px 20px"},children:Object(X.jsx)(Ee.a.Check,{inline:!0,label:e,type:"radio",name:"subTranslateRadioGroup",id:"inline-".concat(e),checked:s===e,onChange:function(t){return l(e)}})},"inline-".concat(e))}))}),Object(X.jsx)(we.a,{onClick:function(){return e.downloadSub(s)},children:"Export"})]})]})}),Object(X.jsx)(ke.a.Footer,{children:Object(X.jsx)(we.a,{onClick:e.onHide,variant:"dark",children:"Close"})})]}))},Fe=n(219),Ue=function(e){var t=e.showFindAndReplace,n=e.setShowFindAndReplace,a=e.find,r=e.setFind,i=e.replace,o=e.setReplace,c=e.found,s=e.setFound,l=e.handleReplace,u=e.handleReplaceAll,d=e.handleFind,b=e.currentFound,g=e.setCurrentFound,p=e.configuration;return Object(X.jsx)(X.Fragment,{children:Object(X.jsxs)(ke.a,{show:t,onHide:function(){n(!1),r(""),o(""),s([]),g()},centered:!0,children:[Object(X.jsx)(ke.a.Header,{closeButton:!0,children:Object(X.jsx)(ke.a.Title,{children:"Find and Replace"})}),Object(X.jsxs)(ke.a.Body,{children:[Object(X.jsx)("label",{for:"exampleInputEmail1",children:"Find"}),Object(X.jsx)(Fe.a,{className:"form-control",value:a,spellCheck:!1,onChangeText:function(e){r(e)},lang:"Subtitling"===p?localStorage.getItem("langTranslate"):localStorage.getItem("langTranscribe"),enabled:"Subtitling"===p?!(!localStorage.getItem("langTranslate")||"en"===localStorage.getItem("langTranslate")||"en-k"===localStorage.getItem("langTranslate")):!(!localStorage.getItem("langTranscribe")||"en"===localStorage.getItem("langTranscribe")||"en-k"===localStorage.getItem("langTranscribe")),maxOptions:5,rows:1,renderComponent:function(e){return Object(X.jsx)("textarea",Object(f.a)({},e))}}),null!==b&&c.length>0&&Object(X.jsxs)("div",{style:{color:"#000",textAlign:"right"},className:"mt-3",children:[b+1," / ",c.length]}),Object(X.jsxs)("div",{className:"d-flex",children:[null!==b&&c.length>0&&Object(X.jsx)(we.a,{variant:"secondary",onClick:function(){return g(b-1)},disabled:0===b,className:"mt-3 replace-btn",children:"Prev"}),Object(X.jsx)(we.a,{variant:"primary",onClick:d,className:null!==b&&c.length>0?"mt-3 mr-10":"mt-3 find-btn",children:"Find"}),null!==b&&c.length>0&&Object(X.jsx)(we.a,{variant:"secondary",onClick:function(){return g(b+1)},disabled:b===c.length-1,className:"mt-3",children:"Next"})]}),Object(X.jsx)("label",{for:"exampleInputEmail1",className:"mt-3",children:"Replace"}),Object(X.jsx)(Fe.a,{className:"form-control",value:i,spellCheck:!1,onChangeText:function(e){o(e)},lang:"Subtitling"===p?localStorage.getItem("langTranslate"):localStorage.getItem("langTranscribe"),enabled:"Subtitling"===p?!(!localStorage.getItem("langTranslate")||"en"===localStorage.getItem("langTranslate")||"en-k"===localStorage.getItem("langTranslate")):!(!localStorage.getItem("langTranscribe")||"en"===localStorage.getItem("langTranscribe")||"en-k"===localStorage.getItem("langTranscribe")),maxOptions:5,rows:1,renderComponent:function(e){return Object(X.jsx)("textarea",Object(f.a)({},e))}}),Object(X.jsxs)("div",{className:"d-flex",children:[Object(X.jsx)(we.a,{variant:"secondary",onClick:l,disabled:0===c.length,className:"mt-3 replace-btn",children:"Replace"}),Object(X.jsx)(we.a,{variant:"primary",onClick:u,disabled:0===c.length,className:"mt-3",children:"Replace All"})]})]})]})})},Me=n(125),Ge=n(335),He=n(179),Ve=n.n(He),Ke=(n(331),w.b.div(Se||(Se=Object(x.a)(["\n    border-bottom: 1px solid #63d471;\n\n    height: 70px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    //  padding: 0.2rem calc((100vw - 1000px) / 2);\n    z-index: 100;\n\n    .top-panel-select {\n        width: 150px;\n        text-decoration: none;\n        align-items: center;\n        color: #fff;\n        height: 40px;\n        background: #3f51b5;\n        border-radius: 10px;\n        cursor: pointer;\n        border: none;\n        padding: 0 15px;\n        line-height: 2.7;\n\n        option {\n            padding: 15px;\n            background: #fff;\n            border-radius: 10px;\n            color: #000;\n        }\n    }\n\n    .modal-textarea {\n        padding: 20px;\n    }\n\n    .youtube-link .youtube-textarea {\n        padding: 20px;\n    }\n\n    .top {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        select {\n            outline: none;\n            padding: 0 10px;\n            height: 40px;\n            border-radius: 3px;\n            border: none;\n        }\n    }\n\n    .modal-fetch-btn {\n        position: relative;\n        opacity: 0.85;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        height: 35px;\n        width: 48%;\n        border-radius: 3px;\n        color: #fff;\n        cursor: pointer;\n        font-size: 13px;\n        background-color: black;\n        transition: all 0.2s ease 0s;\n\n        &:hover {\n            opacity: 1;\n        }\n    }\n\n    .save-transcript {\n        .btn {\n            background: #19ab27;\n            border-color: #19ab27;\n\n            &:hover {\n                background: #19ab27;\n                border-color: #19ab27;\n            }\n        }\n    }\n\n    .tool-button {\n        display: flex;\n        justify-content: flex-end;\n        align-items: center;\n        padding: 10px 10px 2px 0;\n        margin-bottom: 5px;\n\n        .icon {\n            cursor: pointer;\n        }\n    }\n\n    .import {\n        display: flex;\n        justify-content: space-between;\n        padding: 10px;\n\n        .btn {\n            position: relative;\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 48%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #3f51b5;\n            transition: all 0.2s ease 0s;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n\n        .file {\n            position: absolute;\n            left: 0;\n            top: 0;\n            right: 0;\n            bottom: 0;\n            width: 100%;\n            height: 100%;\n            opacity: 0;\n        }\n    }\n\n    .export {\n        text-align: center;\n    }\n\n    .secondary-options {\n        transform: scaleY(1) !important;\n        transition: all 0.25s 0.4s;\n        transform-origin: top;\n    }\n\n    .hide-secondary-options {\n        transform: scaleY(0) !important;\n        transition: all 0.25s;\n        transform-origin: top;\n        height: 0;\n    }\n\n    .hide-secondary-options * > {\n        opacity: 0;\n        transition: all 0.1s;\n    }\n\n    .select-translation-api-container {\n        display: flex;\n        flex-direction: column;\n        // justify-content: center;\n        padding-left: 10px;\n\n        .select-heading {\n            margin-top: -0.5px;\n        }\n\n        select {\n            width: 95%;\n            outline: none;\n            height: 35px;\n            border-radius: 3px;\n            margin-bottom: 10px;\n            margin-top: -10px;\n        }\n    }\n\n    .burn {\n        display: flex;\n        justify-content: space-between;\n        padding: 10px;\n\n        .btn {\n            position: relative;\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 100%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #673ab7;\n            transition: all 0.2s ease 0s;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n    }\n\n    .export {\n        .export-btn {\n            position: relative;\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 31%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #009688;\n            transition: all 0.2s ease 0s;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n    }\n\n    .operate {\n        .btn {\n            width: fit-content;\n            text-decoration: none;\n            align-items: center;\n            color: #fff;\n            height: 40px;\n            background: #3f51b5;\n            border-radius: 10px;\n            cursor: pointer;\n            border: none;\n            padding: 0 15px;\n            line-height: 2.4;\n            margin-right: 20px;\n        }\n\n        .btn:hover {\n            background-color: #5264cc;\n        }\n    }\n\n    .configuration {\n        transform: scaleY(1) !important;\n        transition: all 0.25s 0.4s;\n        transform-origin: top;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n\n        &-heading {\n            opacity: 1;\n            padding-left: 10px;\n            margin-top: -0.5px;\n        }\n\n        &-options {\n            opacity: 1;\n            display: flex;\n            // align-items: center;\n\n            .btn {\n                width: 150px;\n                text-decoration: none;\n                align-items: center;\n                justify-content: center;\n                color: #fff;\n                height: 40px;\n                background: #3f51b5;\n                border-radius: 10px;\n                cursor: pointer;\n                border: none;\n                text-align: center;\n            }\n\n            .btn:hover {\n                background-color: #5264cc;\n            }\n        }\n    }\n\n    .hide-config {\n        transform: scaleY(0) !important;\n        transition: all 0.25s;\n        transform-origin: top;\n        height: 0;\n        display: none;\n    }\n    .hide-config .configuration-heading {\n        opacity: 0;\n        transition: all 0.1s;\n        display: none;\n    }\n\n    .hide-config .configuration-options {\n        opacity: 0;\n        transition: all 0.1s;\n        display: none;\n    }\n\n    .translate {\n        display: flex;\n        justify-content: space-between;\n        padding: 10px;\n\n        select {\n            width: 65%;\n            outline: none;\n            padding: 0 5px;\n            border-radius: 3px;\n        }\n\n        .btn {\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 33%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #673ab7;\n            transition: all 0.2s ease 0s;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n    }\n    .youtube-link {\n        display: flex;\n        justify-content: space-between;\n        padding: 10px;\n\n        .youtube-textarea {\n            width: 65%;\n            outline: none;\n            padding: 0 5px;\n            border-radius: 3px;\n        }\n\n        .btn {\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 33%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #673ab7;\n            transition: all 0.2s ease 0s;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n    }\n\n    .hotkey {\n        display: flex;\n        justify-content: space-between;\n        padding: 10px;\n\n        span {\n            width: fit-content;\n            text-decoration: none;\n            align-items: center;\n            color: #fff;\n            height: 40px;\n            background: #3f51b5;\n            border-radius: 10px;\n            cursor: not-allowed;\n            border: none;\n            padding: 0 15px;\n            line-height: 2.7;\n            margin: 0 10px;\n        }\n    }\n\n    .bottom {\n        padding: 10px;\n        a {\n            display: flex;\n            flex-direction: column;\n            border: 1px solid rgb(255 255 255 / 30%);\n            text-decoration: none;\n\n            .title {\n                color: #ffeb3b;\n                padding: 5px 10px;\n                animation: animation 3s infinite;\n            }\n\n            @keyframes animation {\n                50% {\n                    color: #00bcd4;\n                }\n            }\n\n            img {\n                max-width: 100%;\n            }\n        }\n    }\n\n    .progress {\n        position: fixed;\n        left: 0;\n        top: 0;\n        right: 0;\n        z-index: 9;\n        height: 2px;\n        background-color: rgb(0 0 0 / 50%);\n\n        span {\n            display: inline-block;\n            position: absolute;\n            left: 0;\n            top: 0;\n            bottom: 0;\n            width: 0;\n            height: 100%;\n            background-color: #ff9800;\n            transition: all 0.2s ease 0s;\n        }\n    }\n\n    .signin-btn {\n        margin-left: auto;\n    }\n\n    .select-box {\n        margin-left: auto;\n    }\n\n    .export-btn-main {\n        width: 150px;\n        text-decoration: none;\n        align-items: center;\n        justify-content: center;\n        color: #fff;\n        height: 40px;\n        background: #3f51b5;\n        border-radius: 10px;\n        cursor: pointer;\n        border: none;\n        margin: 0 20px;\n        line-height: 2.7;\n        padding: 0 15px;\n    }\n\n    .export-btn-main:hover {\n        background-color: #5264cc;\n    }\n\n    .react-toggle {\n        margin: 0 20px 0 0;\n    }\n"]))));Y.a.createFFmpeg({log:!0}).load();var Ye=new J.a.FileSystem;function Je(e){var t=e.player,n=e.waveform,i=e.newSub,o=(e.undoSubs,e.clearSubs),c=(e.language,e.subtitle),s=e.setLoading,u=(e.formatSub,e.setSubtitle),b=e.setProcessing,g=e.notify,h=e.subtitleEnglish,m=e.setSubtitleEnglish,f=e.clearSubsEnglish,x=(e.setSubtitleOriginal,e.clearedSubs,e.setClearedSubs),v=e.configuration,y=e.setConfiguration,S=(e.enableConfiguration,e.setEnableConfiguration,e.isSetConfiguration),k=e.setIsSetConfiguration,T=(e.translationApi,e.setTranslationApi,e.onTranscribe,e.isSetVideo),E=e.setIsSetVideo,w=(e.transcriptSource,e.setTranscriptSource),P=e.find,L=e.replace,H=e.found,K=e.setFind,J=e.setReplace,Q=e.setFound,q=e.handleReplace,Z=e.handleReplaceAll,$=e.handleFind,ee=e.currentFound,te=e.setCurrentFound,ne=(e.handleTranscriptionClose,e.handleTranscriptionShow),ae=(e.handleTranslationClose,e.handleTranslationShow),re=e.fullscreen,ie=e.isTranslateClicked,oe=e.setIsTranslateClicked,ce=e.saveTranscript,se=e.showLogin,le=e.setShowLogin,ue=e.setTranscribe,de=(e.translationSource,e.setTranslationSource),be=Object(a.useState)(null),ge=Object(O.a)(be,2),pe=ge[0],he=ge[1],Ae=Object(a.useState)(""),je=Object(O.a)(Ae,2),Oe=je[0],xe=je[1],ve=Object(a.useState)(!0),Se=Object(O.a)(ve,2),ke=Se[0],Te=(Se[1],Object(fe.b)()),Ee=Object(fe.c)((function(e){return e.getVideoDetails.data})),Ce=Object(a.useState)(!1),Ie=Object(O.a)(Ce,2),Ne=Ie[0],_e=Ie[1],Pe=Object(a.useState)("Same Language Subtitling"),De=Object(O.a)(Pe,2),ze=De[0],Fe=De[1],He=Object(a.useState)(!1),Je=Object(O.a)(He,2),Xe=Je[0],We=Je[1],Qe=function(){return We(!0)},qe=Object(a.useState)(""),Ze=Object(O.a)(qe,2),$e=Ze[0],et=Ze[1],tt=function(){window.localStorage.setItem("subsBeforeClear",JSON.stringify(c)),u([]),m([]),localStorage.removeItem("subtitleEnglish"),x(!0),null===t||void 0===t||t.pause()},nt=Object(a.useCallback)(function(){var e=Object(j.a)(Object(A.a)().mark((function e(t){var a,r,i,o,c;return Object(A.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Y.a.createFFmpeg,r=Y.a.fetchFile,(i=a({log:!0})).setProgress((function(e){var t=e.ratio;return b(100*t)})),s(Object(p.t)("LOADING_FFMPEG")),e.next=7,i.load();case 7:return e.t0=i,e.t1=t.name,e.next=11,r(t);case 11:return e.t2=e.sent,e.t0.FS.call(e.t0,"writeFile",e.t1,e.t2),s(""),g({message:Object(p.t)("DECODE_START"),level:"info"}),o="".concat(Date.now(),".mp3"),e.next=18,i.run("-i",t.name,"-ac","1","-ar","8000",o);case 18:return c=i.FS("readFile",o),e.next=21,n.decoder.decodeAudioData(c);case 21:n.drawer.update(),b(0),i.setProgress((function(){return null})),g({message:Object(p.t)("DECODE_SUCCESS"),level:"success"}),e.next=32;break;case 27:e.prev=27,e.t3=e.catch(0),s(""),b(0),g({message:Object(p.t)("DECODE_ERROR"),level:"error"});case 32:case"end":return e.stop()}}),e,null,[[0,27]])})));return function(t){return e.apply(this,arguments)}}(),[n,g,b,s]),at=Object(a.useCallback)(Object(j.a)(Object(A.a)().mark((function e(){var n,a,r,i,o,l,u,h;return Object(A.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===t||void 0===t||t.pause(),e.prev=1,n=Y.a.createFFmpeg,a=Y.a.fetchFile,(r=n({log:!0})).setProgress((function(e){var t=e.ratio;return b(100*t)})),s(Object(p.t)("LOADING_FFMPEG")),e.next=8,r.load();case 8:return s(Object(p.t)("LOADING_FONT")),e.next=11,Ye.mkdir("/fonts");case 11:return e.next=13,Ye.exists("/fonts/Microsoft-YaHei.ttf");case 13:if(!e.sent){e.next=25;break}return e.next=17,Ye.readFile("/fonts/Microsoft-YaHei.ttf");case 17:return i=e.sent,e.t0=r,e.next=21,a(i);case 21:e.t1=e.sent,e.t0.FS.call(e.t0,"writeFile","tmp/Microsoft-YaHei.ttf",e.t1),e.next=36;break;case 25:return"https://cdn.jsdelivr.net/gh/zhw2590582/SubPlayer/docs/Microsoft-YaHei.ttf",e.next=28,fetch("https://cdn.jsdelivr.net/gh/zhw2590582/SubPlayer/docs/Microsoft-YaHei.ttf").then((function(e){return e.blob()}));case 28:return o=e.sent,e.next=31,Ye.writeFile("/fonts/Microsoft-YaHei.ttf",o);case 31:return e.t2=r,e.next=34,a(o);case 34:e.t3=e.sent,e.t2.FS.call(e.t2,"writeFile","tmp/Microsoft-YaHei.ttf",e.t3);case 36:return s(Object(p.t)("LOADING_VIDEO")),e.t4=r,e.t5=pe?pe.name:"sample.mp4",e.next=41,a(pe||"sample.mp4");case 41:return e.t6=e.sent,e.t4.FS.call(e.t4,"writeFile",e.t5,e.t6),s(Object(p.t)("LOADING_SUB")),l=new File([new Blob([V(c)])],"subtitle.ass"),e.t7=r,e.t8=l.name,e.next=49,a(l);case 49:return e.t9=e.sent,e.t7.FS.call(e.t7,"writeFile",e.t8,e.t9),s(""),g({message:Object(p.t)("BURN_START"),level:"info"}),u="".concat(Date.now(),".mp4"),e.next=56,r.run("-i",pe?pe.name:"sample.mp4","-vf","ass=".concat(l.name,":fontsdir=/tmp"),"-preset",pe?"fast":"ultrafast",u);case 56:h=r.FS("readFile",u),d(URL.createObjectURL(new Blob([h])),"".concat(u)),b(0),r.setProgress((function(){return null})),g({message:Object(p.t)("BURN_SUCCESS"),level:"success"}),e.next=68;break;case 63:e.prev=63,e.t10=e.catch(1),s(""),b(0),g({message:Object(p.t)("BURN_ERROR"),level:"error"});case 68:case"end":return e.stop()}}),e,null,[[1,63]])}))),[g,b,s,pe,c]),rt=Object(a.useCallback)((function(e){o(),f(),tt(),y(""),oe(!1);var a=e.target.files[0];if(a){var r=l(a.name),c=t.canPlayType(a.type);if("maybe"===c||"probably"===c){he(a),nt(a);var s=URL.createObjectURL(new Blob([a]));n.decoder.destroy(),n.drawer.update(),t.currentTime=0,o(),u([i({start:"00:00:00.000",end:"00:00:01.000",text:Object(p.t)("SUB_TEXT")})]),t.src=s}else g({message:"".concat(Object(p.t)("VIDEO_EXT_ERR"),": ").concat(a.type||r),level:"error"})}localStorage.setItem("videoName",a.name.replace(/\.[^.$]+$/,"")),localStorage.setItem("isVideoPresent",!0),E(!0)}),[i,g,t,u,n,o,nt,E]);Object(a.useEffect)((function(){(Ee.direct_video_url||Ee.direct_audio_url)&&(Ee.video.audio_only?(localStorage.setItem("videoSrc",Ee.direct_audio_url),t.src=Ee.direct_audio_url,t.poster="data:image/png;base64,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",t.className="audio-style",localStorage.setItem("isAudioOnly",!0)):(localStorage.setItem("videoSrc",Ee.direct_video_url),t.src=Ee.direct_video_url,t.poster="",t.className="",localStorage.setItem("isAudioOnly",!1)),localStorage.setItem("videoId",Ee.video.id),localStorage.setItem("youtubeURL",Ee.video.url),localStorage.setItem("isVideoPresent",!0),E(!0),s(""),t.currentTime=0,o())}),[Ee]);var it=Object(a.useCallback)((function(e){if(o(),f(),tt(),y(""),oe(!1),Oe.length>0){var t=new me(Oe,!1);s(Object(p.t)("LOADING")),Te(ye(t))}}),[o,Oe,"en",t,u,s,E]),ot=Object(a.useCallback)((function(e){o(),f(),tt(),y(""),oe(!1);var t=new me(e,!1);s(Object(p.t)("LOADING")),Te(ye(t))}),[o,Oe,"en",t,u,s,E]),ct=function(){xe(""),localStorage.setItem("videoSrc",""),localStorage.setItem("isVideoPresent",!1),localStorage.setItem("lang","en"),localStorage.removeItem("subtitleEnglish"),localStorage.removeItem("subtitle"),localStorage.setItem("videoName",""),localStorage.removeItem("videoId"),localStorage.setItem("youtubeURL",""),localStorage.setItem("isAudioOnly",!1),localStorage.removeItem("transcript_id"),localStorage.removeItem("translation_id"),localStorage.removeItem("langTranslate"),localStorage.setItem("langTranscribe","en"),o(),f(),tt(),y(""),E(!1),oe(!1),window.location.reload()},st=Object(a.useCallback)((function(e){var t=e.target.files[0];if(t){var n=l(t.name);["ass","vtt","srt","json"].includes(n)?function(e){return new Promise((function(t,n){var a=new FileReader;a.onload=Object(j.a)(Object(A.a)().mark((function r(){var i,o,c,s,u,d,b,g,p,h,m,f;return Object(A.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("json"!==(i=l(e.name))){r.next=5;break}try{o=JSON.parse(a.result).map((function(e){return new D(e)})),t(o)}catch(A){n(A)}r.next=34;break;case 5:c=a.result.replace(/{[\s\S]*?}/g,""),r.t0=i,r.next="vtt"===r.t0?9:"ass"===r.t0?15:"srt"===r.t0?22:"json"===r.t0?29:32;break;case 9:return s=F(c),r.next=12,B(s);case 12:return u=r.sent,t(u),r.abrupt("break",34);case 15:return d=z(c),b=F(d),r.next=19,B(b);case 19:return g=r.sent,t(g),r.abrupt("break",34);case 22:return p="WEBVTT \r\n\r\n".concat(c.replace(/\{\\([ibu])\}/g,"</$1>").replace(/\{\\([ibu])1\}/g,"<$1>").replace(/\{([ibu])\}/g,"<$1>").replace(/\{\/([ibu])\}/g,"</$1>").replace(/(\d\d:\d\d:\d\d),(\d\d\d)/g,"$1.$2").replace(/{[\s\S]*?}/g,"").concat("\r\n\r\n")),h=F(p),r.next=26,B(h);case 26:return m=r.sent,t(m),r.abrupt("break",34);case 29:return f=JSON.parse(c).map((function(e){return new D(e)})),t(f),r.abrupt("break",34);case 32:return t([]),r.abrupt("break",34);case 34:case"end":return r.stop()}}),r)}))),a.readAsText(e)}))}(t).then((function(e){"Subtitling"===v?(localStorage.removeItem("translation_id"),u(e),localStorage.setItem("subtitle",JSON.stringify(e)),de("Custom")):(s(Object(p.t)("LOADING")),o(),localStorage.removeItem("transcript_id"),m(e),localStorage.setItem("subtitleEnglish",JSON.stringify(e)),ce(e),w("Custom"),y("Same Language Subtitling"))})).catch((function(e){g({message:e.message,level:"error"})})):g({message:"".concat(Object(p.t)("SUB_EXT_ERR"),": ").concat(n),level:"error"})}}),[g,u,m,o,v]),lt=Object(a.useCallback)((function(e){w("Custom"),e.target.value=""}),[]),ut=Object(a.useCallback)((function(e){null===t||void 0===t||t.pause();var n="",a="".concat(Date.now(),".").concat(e);switch(e){case"vtt":n=U(c);break;case"srt":n=M(c);break;case"ass":n=V(c);break;case"txt":n=G(c);break;case"json":n=JSON.stringify(c)}d(URL.createObjectURL(new Blob([n])),a)}),[c]),dt=Object(a.useCallback)((function(e){null===t||void 0===t||t.pause();var n="",a="".concat(Date.now(),".").concat(e);switch(e){case"vtt":n=U(h);break;case"srt":n=M(h);break;case"ass":n=V(h);break;case"txt":n=G(h);break;case"json":n=JSON.stringify(h)}d(URL.createObjectURL(new Blob([n])),a)}),[h]);Object(a.useEffect)((function(){!1===T&&"true"===window.localStorage.getItem("isVideoPresent")&&E(!T)}),[E,T]);var bt=function(e){Object(N.a)(n,e);var t=Object(_.a)(n);function n(){var e;return Object(C.a)(this,n),(e=t.call(this)).state={showExportModal:!1,value:""},e.handleOpenExportModal=e.handleOpenExportModal.bind(Object(R.a)(e)),e.handleCloseExportModal=e.handleCloseExportModal.bind(Object(R.a)(e)),e}return Object(I.a)(n,[{key:"handleOpenExportModal",value:function(){this.setState({showExportModal:!0})}},{key:"handleCloseExportModal",value:function(){this.setState({showExportModal:!1})}},{key:"render",value:function(){return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(Ke,{children:Object(X.jsx)(we.a,{onClick:this.handleOpenExportModal,style:{marginRight:"20px"},children:Object(X.jsx)(p.Translate,{value:"Export"})})}),Object(X.jsx)(Be,{show:this.state.showExportModal,onHide:this.handleCloseExportModal,downloadSub:ut,downloadSubReference:dt,configuration:v})]})}}]),n}(r.a.Component);return Object(X.jsxs)(Ke,{className:"tool ".concat(ke?"tool-open":""," ").concat(re?"d-none":""),children:[Object(X.jsx)(W,{}),Object(X.jsxs)(Ge.a,{id:"dropdown-basic-button",title:"Import",onChange:function(e){localStorage.setItem("selectValue",e.target.value),Qe()},style:{marginRight:"20px"},children:[Object(X.jsxs)(Me.a.Item,{name:"video",onClick:function(e){localStorage.setItem("selectValue",e.target.name),Qe()},children:[Object(X.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-camera-video ",style:{marginRight:"10px"},viewBox:"0 0 16 16",children:Object(X.jsx)("path",{"fill-rule":"evenodd",d:"M0 5a2 2 0 0 1 2-2h7.5a2 2 0 0 1 1.983 1.738l3.11-1.382A1 1 0 0 1 16 4.269v7.462a1 1 0 0 1-1.406.913l-3.111-1.382A2 2 0 0 1 9.5 13H2a2 2 0 0 1-2-2V5zm11.5 5.175 3.5 1.556V4.269l-3.5 1.556v4.35zM2 4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h7.5a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1H2z"})}),"Import Video"]}),Object(X.jsx)(Me.a.Divider,{}),Object(X.jsxs)(Me.a.Item,{name:"audio",onClick:function(e){localStorage.setItem("selectValue",e.target.name),Qe()},children:[Object(X.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",style:{marginRight:"10px"},class:"bi bi-music-note-list",viewBox:"0 0 16 16",children:[Object(X.jsx)("path",{d:"M12 13c0 1.105-1.12 2-2.5 2S7 14.105 7 13s1.12-2 2.5-2 2.5.895 2.5 2z"}),Object(X.jsx)("path",{"fill-rule":"evenodd",d:"M12 3v10h-1V3h1z"}),Object(X.jsx)("path",{d:"M11 2.82a1 1 0 0 1 .804-.98l3-.6A1 1 0 0 1 16 2.22V4l-5 1V2.82z"}),Object(X.jsx)("path",{"fill-rule":"evenodd",d:"M0 11.5a.5.5 0 0 1 .5-.5H4a.5.5 0 0 1 0 1H.5a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 .5 7H8a.5.5 0 0 1 0 1H.5a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 .5 3H8a.5.5 0 0 1 0 1H.5a.5.5 0 0 1-.5-.5z"})]}),"Import Audio"]}),Object(X.jsx)(Me.a.Divider,{}),Object(X.jsxs)(Me.a.Item,{name:"subtitles",onClick:function(e){localStorage.setItem("selectValue",e.target.name),Qe()},children:[Object(X.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-card-text",style:{marginRight:"10px"},viewBox:"0 0 16 16",children:[Object(X.jsx)("path",{d:"M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"}),Object(X.jsx)("path",{d:"M3 5.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 8a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 8zm0 2.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5z"})]}),"Import Subtitle"]})]}),Xe&&Object(X.jsx)(Le,{show:Xe,onHide:function(){return We(!1)},textAreaValue:Oe,textAreaValueChange:function(e){xe(e)},onYouTubeChange:it,onVideoChange:rt,onSubtitleChange:st,onInputClick:lt,clearData:ct,onRecentVideoLinkClick:ot,setTranscribe:ue,driveUrl:$e,setDriveUrl:et,handleAudioUpload:function(){if(o(),f(),tt(),y(""),oe(!1),$e.length>0){var e=new me($e,!0);s(Object(p.t)("LOADING")),Te(ye(e))}},configuration:v}),Object(X.jsxs)(Ke,{children:[Object(X.jsxs)("div",{className:"\n                            ".concat(T?"configuration":"hide-config","\n                        "),children:[Object(X.jsx)(we.a,{onClick:function(){ne(),null===t||void 0===t||t.pause()},style:{marginRight:"20px",backgroundColor:"Same Language Subtitling"===v?"#00CCFF":""},children:Object(X.jsx)(p.Translate,{value:"SAME_LANGUAGE"})}),ie&&Object(X.jsx)(X.Fragment,{children:Object(X.jsx)(Ve.a,{id:"toggle-panel",icons:!1,defaultChecked:"Subtitling",onChange:function(){"Subtitling"==ze?(y(ze),k(!0),Fe("Same Language Subtitling")):(y(ze),k(!0),Fe("Subtitling"))},"aria-labelledby":"toggle-panel"})}),(null===h||void 0===h?void 0:h.length)>0&&Object(X.jsx)(we.a,{onClick:function(){ae(),null===t||void 0===t||t.pause()},style:{marginRight:"20px",backgroundColor:"Subtitling"===v?"#00CCFF":""},children:Object(X.jsx)(p.Translate,{value:"MAIN_LANGUAGE"})}),Object(X.jsx)(bt,{})]}),Object(X.jsx)("div",{className:"secondary-options ".concat(S?"":"hide-secondary-options"),children:window.crossOriginIsolated?Object(X.jsx)("div",{className:"burn",onClick:at,children:Object(X.jsx)("div",{className:"btn",children:Object(X.jsx)(p.Translate,{value:"EXPORT_VIDEO"})})}):null}),Object(X.jsx)("div",{className:""})]}),Object(X.jsx)(we.a,{onClick:function(){return ct()},style:{marginRight:"20px"},children:"Clear"}),Object(X.jsx)("div",{className:"save-transcript",children:Object(X.jsx)(we.a,{onClick:function(){return _e(!Ne)},children:"Find / Replace"})}),Ne?Object(X.jsx)(Ue,{find:P,replace:L,found:H,setFind:K,setReplace:J,setFound:Q,showFindAndReplace:Ne,setShowFindAndReplace:_e,handleReplace:q,handleReplaceAll:Z,handleFind:$,currentFound:ee,setCurrentFound:te,configuration:v}):null,Object(X.jsx)(Re,{showLogin:se,setShowLogin:le}),Object(X.jsx)("div",{className:"signin-btn",style:{zIndex:250},children:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ASR_URL:"http://216.48.182.174:5000",REACT_APP_NMT_URL:"http://216.48.181.177:5050",REACT_APP_APIGW_BASE_URL:"https://backend.lite.chitralekha.ai4bharat.org"}).REACT_APP_LITE?null:localStorage.getItem("user_id")?Object(X.jsx)(Ge.a,{id:"dropdown-basic-button",title:localStorage.getItem("username"),style:{marginRight:"20px"},children:Object(X.jsx)(Me.a.Item,{onClick:function(){localStorage.clear(),window.location.reload()},children:"Logout"})}):Object(X.jsx)(we.a,{onClick:function(){return le(!se)},style:{marginRight:"20px"},children:"Sign In"})})]})}var Xe=n(181),We=n(180),Qe=n.n(We),qe=n(121),Ze=n.n(qe);function $e(){return $e=Object(j.a)(Object(A.a)().mark((function e(){var t,n,a,r=arguments;return Object(A.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:[],n=r.length>1?r[1]:void 0,a=r.length>2?r[2]:void 0,console.log("ai4bharat translate clicked"),e.abrupt("return",new Promise((function(e,r){var i=[],o=[];!function c(){var s=t.shift();if(s)i.push(s.text),o.push(s),c();else{var l={text_lines:i,source_language:n,target_language:a};fetch("".concat("http://216.48.181.177:5050","/batch_translate"),{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){for(var n=0;n<t.text_lines.length;n++)o[n].text=t.text_lines[n];e(o)})).catch((function(e){console.log(e),r(e)}))}}()})));case 5:case"end":return e.stop()}}),e)}))),$e.apply(this,arguments)}var et,tt=function(e){Object(N.a)(n,e);var t=Object(_.a)(n);function n(){var e,a,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3;return Object(C.a)(this,n),(a=t.call(this,"GET",r,!1)).type=be,a.endpoint="".concat(Object(Q.a)((e=Object(R.a)(a),Object(q.a)(n.prototype)),"apiEndPointAuto",e).call(e)).concat(ae,"generate/supported_languages"),a}return Object(I.a)(n,[{key:"processResponse",value:function(e){Object(Q.a)(Object(q.a)(n.prototype),"processResponse",this).call(this,e),e&&(this.languages=e)}},{key:"apiEndPoint",value:function(){return this.endpoint}},{key:"getBody",value:function(){}},{key:"getHeaders",value:function(){return this.headers={headers:Object(f.a)({"Content-Type":"application/json"},localStorage.getItem("chitralekha_access_token")&&{Authorization:"Token ".concat(localStorage.getItem("chitralekha_access_token"))})},this.headers}},{key:"getPayload",value:function(){return this.languages}}]),n}($),nt=function(e){Object(N.a)(n,e);var t=Object(_.a)(n);function n(e,a,r){var i,o,c=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2e3;return Object(C.a)(this,n),(o=t.call(this,"GET",s,!1)).type=pe,o.endpoint="".concat(Object(Q.a)((i=Object(R.a)(o),Object(q.a)(n.prototype)),"apiEndPointAuto",i).call(i)).concat(ae,"?transcript_id=").concat(e,"&target_language=").concat(a,"&translation_type=").concat(r,"&get_latest=").concat(c),o}return Object(I.a)(n,[{key:"processResponse",value:function(e){Object(Q.a)(Object(q.a)(n.prototype),"processResponse",this).call(this,e),e&&(this.translation=e)}},{key:"apiEndPoint",value:function(){return this.endpoint}},{key:"getBody",value:function(){}},{key:"getHeaders",value:function(){return this.headers={headers:Object(f.a)({"Content-Type":"application/json"},localStorage.getItem("chitralekha_access_token")&&{Authorization:"Token ".concat(localStorage.getItem("chitralekha_access_token"))})},this.headers}},{key:"getPayload",value:function(){return this.translation}}]),n}($),at=function(e){Object(N.a)(n,e);var t=Object(_.a)(n);function n(e,a){var r,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;return Object(C.a)(this,n),(i=t.call(this,"GET",o,!1)).type=de,i.endpoint="".concat(Object(Q.a)((r=Object(R.a)(i),Object(q.a)(n.prototype)),"apiEndPointAuto",r).call(r)).concat(ae,"generate?transcript_id=").concat(e,"&target_language=").concat(a),i}return Object(I.a)(n,[{key:"processResponse",value:function(e){Object(Q.a)(Object(q.a)(n.prototype),"processResponse",this).call(this,e),e&&(this.translation=e)}},{key:"apiEndPoint",value:function(){return this.endpoint}},{key:"getBody",value:function(){}},{key:"getHeaders",value:function(){return this.headers={headers:Object(f.a)({"Content-Type":"application/json"},localStorage.getItem("chitralekha_access_token")&&{Authorization:"Token ".concat(localStorage.getItem("chitralekha_access_token"))})},this.headers}},{key:"getPayload",value:function(){return this.translation}}]),n}($),rt=function(e){Object(N.a)(n,e);var t=Object(_.a)(n);function n(e,a,r,i){var o,c,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2e3;return Object(C.a)(this,n),(c=t.call(this,"POST",s,!1)).type=ge,c.translationId=e,c.transcriptId=r,c.language=a,c.captions=i,c.endpoint="".concat(Object(Q.a)((o=Object(R.a)(c),Object(q.a)(n.prototype)),"apiEndPointAuto",o).call(o)).concat(ae,"save"),c}return Object(I.a)(n,[{key:"processResponse",value:function(e){Object(Q.a)(Object(q.a)(n.prototype),"processResponse",this).call(this,e),e&&(this.translation=e)}},{key:"apiEndPoint",value:function(){return this.endpoint}},{key:"getBody",value:function(){return console.log("this.lang "+this.language),{translation_id:this.translationId,transcript_id:this.transcriptId,target_language:this.language,payload:this.captions}}},{key:"getHeaders",value:function(){return this.headers={headers:Object(f.a)({"Content-Type":"application/json"},localStorage.getItem("chitralekha_access_token")&&{Authorization:"Token ".concat(localStorage.getItem("chitralekha_access_token"))})},this.headers}},{key:"getPayload",value:function(){return this.translation}}]),n}($),it=n(437),ot=function(e){var t,n,r=Object(a.useState)(!1),i=Object(O.a)(r,2),o=i[0],c=i[1];return Object(a.useEffect)((function(){localStorage.getItem("langTranslate")||localStorage.setItem("langTranslate","en"===localStorage.getItem("langTranscribe")?"hi":"en"),e.setModeTranslate(localStorage.getItem("langTranslate"))}),[e.translationModalOpen]),Object(X.jsx)(X.Fragment,{children:Object(X.jsxs)(ke.a,{show:e.translationModalOpen,onHide:e.handleTranslationClose,style:{top:"20%"},children:[Object(X.jsx)(ke.a.Header,{closeButton:!0,children:Object(X.jsx)(ke.a.Title,{children:"Translate"})}),Object(X.jsxs)(ke.a.Body,{children:[Object(X.jsxs)("div",{className:"select-translation-api-container",children:[Object(X.jsx)("p",{className:"select-heading",style:{display:"inline-block",marginRight:"10px",fontWeight:"500",width:"200px"},children:"Translation Source"}),Object(X.jsxs)("select",{value:e.translationSource,onChange:function(t){var n;e.setTranslationSource(t.target.value),null===(n=e.player)||void 0===n||n.pause()},style:{display:"inline-block",padding:"6px 4px",borderRadius:"5px",minWidth:"200px"},children:[Object(X.jsx)("option",{value:"AI4Bharat",children:"AI4Bharat"}),Object(X.jsx)("option",{value:"Custom",children:"Custom"})]})]}),Object(X.jsx)("br",{}),Object(X.jsxs)("div",{style:{marginBottom:"2px"},children:[Object(X.jsx)("p",{style:{display:"inline-block",marginRight:"10px",fontWeight:"500",width:"200px"},children:"Select Language"}),Object(X.jsx)("select",{value:e.modeTranslate,onChange:function(t){e.setTranslate(t.target.value),e.setModeTranslate(t.target.value),localStorage.setItem("langTranslate",t.target.value)},style:{padding:"6px 4px",borderRadius:"5px",minWidth:"200px"},children:null===(t=e.languageAvailable)||void 0===t||null===(n=t.filter((function(e){return e.key!==localStorage.getItem("langTranscribe")})))||void 0===n?void 0:n.map((function(e){return Object(X.jsx)("option",{value:e.key,children:e.name},e.key)}))}),o&&Object(X.jsxs)(it.a,{variant:"warning",children:[Object(X.jsx)(it.a.Heading,{style:{fontSize:"1.3rem"},children:"Are you sure you want to force retreive transcripts?"}),Object(X.jsx)("p",{children:"Please note that all your progress will be lost"}),Object(X.jsxs)("div",{className:"d-flex justify-content-end gap-3",children:[Object(X.jsx)(we.a,{variant:"secondary",onClick:function(){return c(!1)},children:"Cancel"}),Object(X.jsx)(we.a,{variant:"danger",onClick:function(){c(!1),e.setContinueEditing(!1)},children:"Confirm"})]})]}),Object(X.jsx)(Ee.a.Check,{type:"checkbox",label:"Continue editing where I left off",disabled:!localStorage.getItem("isLoggedIn"),style:{marginTop:"10px"},checked:e.continueEditing,onChange:function(){return e.continueEditing?c(!0):e.setContinueEditing(!0)}})]})]}),Object(X.jsxs)(ke.a.Footer,{children:[Object(X.jsx)("div",{className:"btn",onClick:function(){e.setConfiguration("Subtitling"),e.onTranslate(),e.handleTranslationClose()},style:{display:"inline-block",marginRight:"5px",backgroundColor:"#0d6efd",color:"white",padding:"7px"},children:Object(X.jsx)(p.Translate,{value:"TRANSLATE"})}),Object(X.jsx)(we.a,{variant:"dark",onClick:e.handleTranslationClose,style:{marginLeft:"20px"},children:"Close"})]})]})})},ct=w.b.div(et||(et=Object(x.a)(["\n    position: relative;\n    box-shadow: 0px 5px 25px 5px rgb(0 0 0 / 80%);\n    background-color: rgb(0 0 0 / 100%);\n    z-index: 200;\n\n    .translate {\n        display: flex;\n        flex-direction: row;\n        justify-content: space-evenly;\n        align-items: center;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n        height: 80px;\n\n        .heading {\n            h4 {\n                margin: 0;\n            }\n        }\n\n        .options {\n            display: flex;\n            width: 80%;\n        }\n\n        select {\n            width: 65%;\n            outline: none;\n            height: 35px;\n            border-radius: 3px;\n        }\n\n        .save {\n            display: block;\n            margin: 0;\n        }\n\n        .transliterate-toggle {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            font-size: 18px;\n            p {\n                margin: 0;\n            }\n        }\n    }\n\n    .reference {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-evenly;\n        align-items: center;\n        height: 80px;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n        h4 {\n            margin-bottom: 0;\n            margin-top: 0;\n        }\n    }\n\n    .ReactVirtualized__Table {\n        width: 100%;\n        \n        .ReactVirtualized__Table__Grid {\n            outline: none;\n            width: 100% !important;\n        }\n\n        .ReactVirtualized__Grid__innerScrollContainer {\n            overflow: visible !important;\n            width: 100% !important;\n            max-width: 100% !important;\n        }\n\n        .ReactVirtualized__Table__row {\n            overflow: visible !important;\n            width: 100% !important;\n\n            .item {\n                height: 100%;\n                width: 100%;\n                padding: 10px;\n\n                ul {\n                    position: absolute !important;\n                    bottom: 200px !important;\n                    left: 0 !important;\n                    z-index: 9999 !important;\n                    height: 170px !important;\n                    width: 100% !important;\n                    transform: translate(0px, 0px) !important;\n                    display: block !important;\n\n                    li {\n                        color: #000 !important;\n                        border-bottom: 1px solid #999;\n                    }\n                }\n\n                div {\n                    width: 100%;\n                }\n\n                .textarea {\n                    border: none;\n                    width: 100%;\n                    height: 70px;\n                    color: #fff;\n                    font-size: 18px;\n                    padding: 10px;\n                    text-align: center;\n                    background-color: rgba(255, 255, 255, 0.05);\n                    border: 1px solid rgba(255, 255, 255, 0.1);\n                    transition: all 0.2s ease;\n                    resize: none;\n                    outline: none;\n\n                    word-wrap: break-word;\n\n                    &.highlight {\n                        background-color: rgb(0 87 158);\n                        border: 1px solid rgba(255, 255, 255, 0.3);\n                    }\n\n                    &.illegal {\n                        background-color: rgb(123 29 0);\n                        border: 1px solid rgba(255, 255, 255, 0.3);\n                    }\n\n                    &.found {\n                        background-color: #ffffcc;\n                        color: #000;\n                        border: 1px solid rgba(255, 255, 255, 0.3);\n                    }\n\n                    &.current-found {\n                        background-color: #ffff33;\n                        color: #000;\n                        border: 1px solid rgba(255, 255, 255, 0.3);\n                    }\n                }\n            }\n        }\n    }\n"])));function st(e){var t=e.currentIndex,n=e.subtitle,i=(e.setSubtitleOriginal,e.checkSub),o=e.player,c=e.updateSub,s=e.language,l=e.setLoading,u=(e.setTranslationApi,e.subtitleEnglish),d=e.formatSub,b=e.setSubtitle,g=e.notify,h=e.isPrimary,m=e.clearedSubs,x=(e.setClearedSubs,e.configuration),v=e.setConfiguration,y=(e.translationApi,e.updateSubOriginal),S=void 0===y?null:y,k=(e.isTranslateClicked,e.setIsTranslateClicked,e.found),T=e.currentFound,E=e.translationModalOpen,w=(e.setTranslationModalOpen,e.handleTranslationClose),C=(e.handleTranslationShow,e.displayBtn,e.translationSource),I=e.setTranslationSource,R=(e.error,e.setError),N=Object(a.useState)(100),_=Object(O.a)(N,2),P=_[0],L=_[1],D=Object(a.useState)(null),z=Object(O.a)(D,2),B=z[0],F=z[1],U=Object(a.useState)([]),M=Object(O.a)(U,2),G=M[0],H=M[1],V=Object(a.useState)(!1),K=Object(O.a)(V,2),Y=K[0],J=K[1],W=Object(a.useState)(!0),Q=Object(O.a)(W,2),q=Q[0],Z=Q[1],$=Object(a.useState)(localStorage.getItem("isLoggedIn")),ee=Object(O.a)($,2),te=ee[0],ne=ee[1],ae=function(){var e=Object(j.a)(Object(A.a)().mark((function e(){var t,n,a,r,i,o,c,s;return Object(A.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H([]),"AI4Bharat"!==C){e.next=12;break}return t=new tt,e.next=5,fetch(t.apiEndPoint(),{method:"GET",headers:t.getHeaders().headers});case 5:return n=e.sent,e.next=8,n.json();case 8:if(a=e.sent,n.ok){for(i in r=[],a)r.push({name:"".concat(i),key:"".concat(a[i])});H(r)}e.next=16;break;case 12:return e.next=14,Object(Ne.b)();case 14:if((null===(o=e.sent)||void 0===o?void 0:o.length)>0){for(s in c=[{name:"English",key:"en"}],o)c.push({name:"".concat(o[s].DisplayName),key:"".concat(o[s].LangCode)});c.push({name:"Other Language",key:"xx"}),H(c)}case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(j.a)(Object(A.a)().mark((function e(){var t,n,a,r;return Object(A.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("subtitle")){e.next=10;break}if(t=JSON.parse(localStorage.getItem("subtitleEnglish")),0!==(null===(n=JSON.parse(localStorage.getItem("subtitle")))||void 0===n?void 0:n.length)){e.next=5;break}return e.abrupt("return");case 5:return a={translations:n.map((function(e,n){return{source:t[n].text,target:e.text}}))},r=new rt(localStorage.getItem("translation_id"),localStorage.getItem("langTranslate"),localStorage.getItem("transcript_id"),a),e.next=9,fetch(r.apiEndPoint(),{method:"POST",body:JSON.stringify(r.getBody()),headers:r.getHeaders().headers});case 9:e.sent;case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){localStorage.getItem("langTranslate")||localStorage.setItem("langTranslate","en"===localStorage.getItem("langTranscribe")?"hi":"en"),F(localStorage.getItem("langTranslate"))}),[]),Object(a.useEffect)((function(){ae()}),[C]),Object(a.useEffect)((function(){var e=[],t=function(t){e[t.currentTarget.scrollNum===e.length-1?0:t.currentTarget.scrollNum+1].scrollTop=t.currentTarget.scrollTop};if("Subtitling"===x&&(e=document.getElementsByClassName("ReactVirtualized__Table__Grid")).length>=2)for(var n=0;n<e.length;n++)e[n].scrollNum=n,e[n].addEventListener("scroll",t);return function(){if(localStorage.getItem("user_id")&&re(),e.length>=2)for(var n=0;n<e.length;n++)e[n].removeEventListener("scroll",t)}}),[x]),Object(a.useEffect)((function(){localStorage.getItem("user_id")&&(null===n||void 0===n?void 0:n.length)>0&&!Y&&(J(!0),setTimeout((function(){J(!1)}),1e4))}),[n]),Object(a.useEffect)((function(){!Y&&localStorage.getItem("user_id")&&re()}),[Y]);var ie=function(e,t){h||function(){return $e.apply(this,arguments)}([{text:e.text}],localStorage.getItem("langTranscribe"),localStorage.getItem("langTranslate")).then((function(n){S(e,n[0],t)}))},oe=Object(a.useCallback)((function(){L(document.body.clientHeight-320)}),[L]);Object(a.useEffect)((function(){if(oe(),!oe.init){oe.init=!0;var e=Ze()(oe,500);window.addEventListener("resize",e)}}),[oe]);var ce=function(e,t){var n=r.a.useState((function(){var n=window.localStorage.getItem(t);return null!==n?JSON.parse(n):e})),a=Object(O.a)(n,2),i=a[0],o=a[1];return r.a.useEffect((function(){window.localStorage.setItem(t,JSON.stringify(i))}),[t,i]),[i,o]}("en","translated-view"),se=Object(O.a)(ce,2),le=se[0],ue=se[1],de=Object(a.useCallback)((function(e){var t=JSON.parse(localStorage.getItem("subtitleEnglish"));0!==(null===e||void 0===e?void 0:e.length)&&0!==(null===t||void 0===t?void 0:t.length)||(l(""),R("No translation found"));for(var n=0;n<t.length;n++)t[n].text===e[n].source&&(t[n].text=e[n].target);localStorage.setItem("subtitle",JSON.stringify(t)),b(d(t)),l(""),g({message:Object(p.t)("TRANSLAT_SUCCESS"),level:"success"})}),[b,g,d,l]),be=function(){localStorage.removeItem("translation_id");var e=u.map((function(e){return{start:e.start,end:e.end,text:""}}));b(d(e)),localStorage.setItem("subtitle",JSON.stringify(e)),l("")},ge=Object(a.useCallback)(Object(j.a)(Object(A.a)().mark((function e(){var t,n,a,r,i,o,c;return Object(A.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={AI4Bharat:localStorage.getItem("isLoggedIn")&&te?"umg":"mg",Custom:"mc"},"Custom"!==C||te&&localStorage.getItem("isLoggedIn")){e.next=4;break}return be(),e.abrupt("return");case 4:return l(Object(p.t)("TRANSLATING")),n=new nt(localStorage.getItem("transcript_id"),localStorage.getItem("langTranslate"),t[C]),e.next=8,fetch(n.apiEndPoint(),{method:"GET",body:JSON.stringify(n.getBody()),headers:n.getHeaders().headers});case 8:if(!(a=e.sent).ok){e.next=17;break}return e.next=12,a.json();case 12:r=e.sent,localStorage.setItem("translation_id",r.id),de(r.payload.translations),e.next=35;break;case 17:if("Custom"!==C){e.next=21;break}be(),e.next=35;break;case 21:return i=new at(localStorage.getItem("transcript_id"),localStorage.getItem("langTranslate")),e.next=24,fetch(i.apiEndPoint(),{method:"GET",body:JSON.stringify(i.getBody()),headers:i.getHeaders().headers});case 24:if(!(o=e.sent).ok){e.next=33;break}return e.next=28,o.json();case 28:c=e.sent,localStorage.setItem("translation_id",c.id),de(c.payload.translations),e.next=35;break;case 33:l(""),R("No translation found");case 35:case"end":return e.stop()}}),e)}))),[l,u,d,b,B,g,m,C,te]);return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ot,{translationModalOpen:E,handleTranslationClose:w,modeTranslate:le,setTranslate:F,setModeTranslate:ue,languageAvailable:G,language:s,onTranslate:ge,setConfiguration:v,translationSource:C,setTranslationSource:I,continueEditing:te,setContinueEditing:ne}),"Subtitling"===x&&n&&Object(X.jsxs)(ct,{className:"subtitles",style:JSON.parse(localStorage.getItem("isAudioOnly"))?{width:"60%"}:{},children:[h&&B&&G&&Object(X.jsxs)("div",{className:"translate",children:[!!localStorage.getItem("user_id")&&Object(X.jsx)(we.a,{className:"save",onClick:re,children:"Save \ud83d\udcbe"}),!(!localStorage.getItem("langTranslate")||"en"===localStorage.getItem("langTranslate")||"en-k"===localStorage.getItem("langTranslate")||"xx"===localStorage.getItem("langTranslate"))&&Object(X.jsxs)("div",{className:"transliterate-toggle",children:[Object(X.jsx)(Ve.a,{id:"toggle-panel",icons:!1,checked:q,onChange:function(){return Z(!q)},"aria-labelledby":"toggle-panel"}),Object(X.jsx)("p",{children:"Transliteration"})]})]}),!h&&Object(X.jsx)("div",{className:"reference",children:Object(X.jsx)("h4",{children:"Reference Subtitles "})}),Object(X.jsx)("div",{style:{display:"flex",position:"relative",height:"90%"},children:Object(X.jsx)(Xe.a,{headerHeight:40,width:300,height:P,rowHeight:80,scrollToIndex:-1===t?void 0:t+2,rowCount:n.length,rowGetter:function(e){var t=e.index;return n[t]},headerRowRenderer:function(){return null},rowRenderer:function(e){return Object(X.jsx)("div",{className:e.className,style:e.style,onClick:function(){o&&(o.pause(),o.duration>=e.rowData.startTime&&(o.currentTime=e.rowData.startTime+.001))},children:Object(X.jsx)("div",{className:"item",children:Object(X.jsx)(Ne.a,{value:Qe()(e.rowData.text),spellCheck:!1,onChangeText:function(t){c(e.rowData,{text:t})},onBlur:function(){return ie(e.rowData,e.index)},enabled:q&&h?!(!localStorage.getItem("langTranslate")||"en"===localStorage.getItem("langTranslate")||"en-k"===localStorage.getItem("langTranslate")||"xx"===localStorage.getItem("langTranslate")):!(!localStorage.getItem("langTranscribe")||"en"===localStorage.getItem("langTranscribe")||"en-k"===localStorage.getItem("langTranscribe")||"xx"===localStorage.getItem("langTranscribe")),lang:h?localStorage.getItem("langTranslate"):localStorage.getItem("langTranscribe"),maxOptions:5,readOnly:!h,renderComponent:function(n){return Object(X.jsx)("textarea",Object(f.a)(Object(f.a)({},n),{},{className:["textarea",t===e.index?"highlight":"",i(e.rowData)?"illegal":"",h&&k.includes(e.index)?"found":"",h&&k[T]===e.index?"current-found":""].join(" ").trim()}))}})})},e.key)}})})]})]})}var lt=n(442);function ut(e,t){try{return Object.keys(t).forEach((function(n){!function(e,t,n){try{e.style[t]=n}catch(a){console.log(a)}}(e,n,t[n])})),e}catch(n){console.log(n)}}function dt(e,t){try{var n=function(){},a=document.createElement("div");a.classList.add("backlight"),ut(a,{position:"absolute",zIndex:9,left:0,top:0,right:0,bottom:0,width:"100%",height:"100%"}),e.insertBefore(a,t),t.addEventListener("seeked",n),t.addEventListener("loadedmetadata",(function(){return setTimeout(n,1e3)})),function e(){window.requestAnimationFrame((function(){g(t),e()}))}()}catch(r){console.log(r)}}var bt,gt=n(919),pt=n(920),ht=n(336),mt=w.b.div(bt||(bt=Object(x.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: 100%;\n    width: 100%;\n    padding-bottom: 2%;\n\n    margin-top: -13px;\n\n    .video {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        height: 100%;\n        width: 100%;\n        position: relative;\n        flex-direction: column;\n\n        .videoName {\n            font-size: 18px;\n            font-weight: 500;\n            margin: 15px 0;\n            color: #fff;\n        }\n\n        video {\n            position: relative;\n            z-index: 10;\n            outline: none;\n            max-height: 90%;\n            max-width: 100%;\n            box-shadow: 0px 5px 25px 5px rgb(0 0 0 / 80%);\n            background-color: #000;\n            cursor: pointer;\n        }\n\n        .audio-style {\n            margin: 10px;\n            background-size: 150px;\n            background-color: rgba(0, 0, 0, -0.2);\n            box-shadow: none;\n            height: 150px;\n            width: 150px;\n        }\n\n        .playbackRate {\n            display: flex;\n            flex-direction: row;\n            column-gap: 10px;\n            align-items: center;\n            justify-content: center;\n            padding: 5px;\n            background-color: #212529;\n            border-radius: 5px;\n            font-size: 18px;\n            position: absolute;\n            bottom: 25px;\n            right: 75px;\n            z-index: 999;\n            user-select: none;\n            p {\n                margin: 0;\n            }\n            svg:hover {\n                cursor: pointer;\n                transform: scale(1.2);\n            }\n        }\n\n        .subtitle {\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            align-items: center;\n            position: absolute;\n            z-index: 20;\n            left: 0;\n            right: 0;\n            bottom: 5%;\n            width: 100%;\n            padding: 0 20px;\n            user-select: none;\n            pointer-events: none;\n\n            .operate {\n                padding: 5px 15px;\n                color: #fff;\n                font-size: 13px;\n                border-radius: 3px;\n                margin-bottom: 5px;\n                background-color: rgb(0 0 0 / 75%);\n                border: 1px solid rgb(255 255 255 / 20%);\n                cursor: pointer;\n                pointer-events: all;\n            }\n\n            .textarea {\n                width: 100%;\n                outline: none;\n                resize: none;\n                text-align: center;\n                line-height: 1.2;\n                border: none;\n                color: #fff;\n                font-size: 20px;\n                padding: 5px 10px;\n                ","\n                pointer-events: all;\n                background-color: rgb(0 0 0 / 0);\n                \n                text-shadow: rgb(0 0 0) 1px 0px 1px, rgb(0 0 0) 0px 1px 1px, rgb(0 0 0) -1px 0px 1px,\n                    rgb(0 0 0) 0px -1px 1px;\n\n                &.pause {\n                    background-color: rgb(0 0 0 / 50%);\n                }\n            }\n        }\n    }\n"])),""),ft=Object(a.memo)((function(e){var t=e.setPlayer,n=e.setCurrentTime,r=e.setPlaying,i=Object(a.createRef)();Object(a.useEffect)((function(){t(i.current),function e(){window.requestAnimationFrame((function(){i.current&&(r(g(i.current)),n(i.current.currentTime||0)),e()}))}()}),[t,n,r,i]);var o=Object(a.useCallback)((function(){i.current&&(g(i.current)?i.current.pause():i.current.play())}),[i]);return Object(X.jsx)("video",{onClick:o,src:localStorage.getItem("videoSrc"),ref:i,id:"full-screenVideo"})}),(function(){return!0}));function At(e){var t=Object(a.useState)(null),n=Object(O.a)(t,2),r=n[0],i=n[1],o=Object(a.useState)(!1),c=Object(O.a)(o,2),s=c[0],l=c[1],u=Object(a.useState)(0),d=Object(O.a)(u,2),b=d[0],g=d[1],h=Object(a.useState)(!1),m=Object(O.a)(h,2),A=m[0],j=m[1],x=Object(a.useState)(1),v=Object(O.a)(x,2),y=v[0],S=v[1],k=Object(a.createRef)();Object(a.useEffect)((function(){k.current&&e.player&&!dt.state&&(dt.state=!0,dt(k.current,e.player),S(parseFloat(localStorage.getItem("playbackRate"))||1))}),[k,e.player]),Object(a.useEffect)((function(){e.player&&(e.player.playbackRate=y,localStorage.setItem("playbackRate",y))}),[y,e.player]),Object(a.useMemo)((function(){i("Subtitling"===e.configuration?e.subtitle[e.currentIndex]:e.subtitleEnglish[e.currentIndex])}),[e.configuration,e.subtitle,e.subtitleEnglish,e.currentIndex]);var T=Object(a.useCallback)((function(t){e.player.pause(),"Subtitling"===e.configuration?e.updateSub(r,{text:t.target.value}):e.updateSubEnglish(r,{text:t.target.value}),t.target.selectionStart&&g(t.target.selectionStart)}),[e,r]),E=Object(a.useCallback)((function(t){e.player.pause(),t.target.selectionStart&&g(t.target.selectionStart)}),[e]),w=Object(a.useCallback)((function(e){l(!0),e.target.selectionStart&&g(e.target.selectionStart)}),[]),C=Object(a.useCallback)((function(){setTimeout((function(){return l(!1)}),500)}),[]),I=Object(a.useCallback)((function(){e.splitSub(r,b)}),[e,r,b]);return Object(X.jsx)(mt,{className:"player",children:Object(X.jsxs)("div",{className:"video",id:"video",ref:k,children:[Object(X.jsx)("div",{className:"videoName",children:localStorage.getItem("videoName")}),Object(X.jsx)(ft,Object(f.a)({},e)),e.isSetVideo&&Object(X.jsx)(pt.a,{placement:"left",delay:{show:250,hide:400},overlay:function(e){return Object(X.jsx)(gt.a,Object(f.a)(Object(f.a)({id:"button-tooltip"},e),{},{children:"Playback Rate"}))},children:Object(X.jsxs)("div",{className:"playbackRate",children:[Object(X.jsx)(ht.a,{onClick:function(){return y>=.2&&S(y-.1)}}),Object(X.jsxs)("p",{className:"playbackRateValue",children:[Math.round(10*y)/10,"x"]}),Object(X.jsx)(ht.b,{onClick:function(){return y<=15.9&&S(y+.1)}})]})}),e.isSetVideo&&!e.fullscreen&&!JSON.parse(localStorage.getItem("isAudioOnly"))&&Object(X.jsx)(pt.a,{placement:"left",delay:{show:250,hide:400},overlay:function(e){return Object(X.jsx)(gt.a,Object(f.a)(Object(f.a)({id:"button-tooltip"},e),{},{children:A?"Exit":"Fullscreen Video"}))},children:Object(X.jsx)(we.a,{className:"full-screen-btn",variant:"dark",onClick:function(){return function(){var e=window.document,t=document.getElementById("video"),n=t.requestFullscreen||t.mozRequestFullScreen||t.webkitRequestFullScreen||t.msRequestFullscreen,a=e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen;e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||e.msFullscreenElement?(j(!1),a.call(e)):(n.call(t),j(!0))}()},children:A?Object(X.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-fullscreen-exit",viewBox:"0 0 16 16",children:Object(X.jsx)("path",{d:"M5.5 0a.5.5 0 0 1 .5.5v4A1.5 1.5 0 0 1 4.5 6h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5zm5 0a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 10 4.5v-4a.5.5 0 0 1 .5-.5zM0 10.5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 6 11.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zm10 1a1.5 1.5 0 0 1 1.5-1.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4z"})}):Object(X.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-fullscreen",viewBox:"0 0 16 16",children:Object(X.jsx)("path",{d:"M1.5 1a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4A1.5 1.5 0 0 1 1.5 0h4a.5.5 0 0 1 0 1h-4zM10 .5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 16 1.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zM.5 10a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 0 14.5v-4a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v4a1.5 1.5 0 0 1-1.5 1.5h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5z"})})})}),e.player&&r?Object(X.jsxs)("div",{className:"subtitle",children:["Same Language Subtitling"===e.configuration&&s?Object(X.jsx)("div",{className:"operate",onClick:I,children:Object(X.jsx)(p.Translate,{value:"SPLIT"})}):null,Object(X.jsx)(lt.a,{className:"textarea ".concat(e.playing?"":"pause"),value:r.text,onChange:T,onClick:E,onFocus:w,onBlur:C,onKeyDown:w,spellCheck:!1})]}):null]})})}var jt,Ot=n(72),xt=n(337),vt=n.n(xt),yt=n(438),St=n.n(yt),kt=n(190),Tt=w.b.div(jt||(jt=Object(x.a)(["\n    position: absolute;\n    z-index: 9;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    pointer-events: none;\n\n    .react-contextmenu-wrapper {\n        position: absolute;\n        z-index: 9;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        pointer-events: all;\n    }\n\n    .sub-item {\n        position: absolute;\n        top: 40%;\n        left: 0;\n        height: 40%;\n        overflow: hidden;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        text-align: center;\n        word-wrap: break-word;\n        color: #fff;\n        font-size: 14px;\n        cursor: move;\n        user-select: none;\n        pointer-events: all;\n        background-color: rgba(255, 255, 255, 0.2);\n        border: 1px solid rgba(255, 255, 255, 0.2);\n\n        &:hover {\n            background-color: rgba(255, 255, 255, 0.3);\n        }\n\n        &.sub-highlight {\n            background-color: rgba(33, 150, 243, 0.5);\n            border: 1px solid rgba(33, 150, 243, 0.5);\n        }\n\n        &.sub-illegal {\n            background-color: rgba(199, 81, 35, 0.5);\n        }\n\n        .sub-handle {\n            position: absolute;\n            top: 0;\n            bottom: 0;\n            z-index: 1;\n            height: 100%;\n            cursor: col-resize;\n            user-select: none;\n            &:hover {\n                background-color: rgba(255, 255, 255, 0.1);\n            }\n        }\n\n        .sub-text {\n            position: relative;\n            z-index: 0;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            flex-direction: column;\n            \n            text-shadow: rgb(0 0 0) 1px 0px 1px, rgb(0 0 0) 0px 1px 1px, rgb(0 0 0) -1px 0px 1px,\n                rgb(0 0 0) 0px -1px 1px;\n            \n            height: 100%;\n            word-wrap: break-word;\n\n            p {\n                margin: 2px 0;\n                line-height: 1;\n                &.bilingual {\n                    transform: scale(0.8);\n                }\n            }\n        }\n\n        .sub-duration {\n            opacity: 0.5;\n            position: absolute;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            width: 100%;\n            text-align: center;\n            font-size: 12px;\n        }\n    }\n"])));function Et(e,t,n){return e.filter((function(e){return e.startTime>=t&&e.startTime<=t+n||e.endTime>=t&&e.endTime<=t+n||e.startTime<t&&e.endTime>t+n}))}function wt(e,t){return t&&e>t-.1&&t+.1>e?t:e}var Ct,It=null,Rt=null,Nt="",_t=0,Pt=-1,Lt=0,Dt=0,zt=!1,Bt=r.a.memo((function(e){var t=e.player,n=e.subtitle,i=e.subtitleEnglish,o=e.render,c=e.currentTime,s=e.checkSub,l=e.removeSub,u=e.hasSub,d=e.updateSub,g=e.mergeSub,h=e.updateSubEnglish,m=e.configuration,f=(e.setConfiguration,r.a.createRef()),A=r.a.createRef(),j=Et(i,o.beginTime,o.duration);j=Et("Subtitling"===m?n:i,o.beginTime,o.duration);var O=document.body.clientWidth/o.gridNum,x=j.findIndex((function(e){return e.startTime<=c&&e.endTime>c})),v=function(e,t,n){console.log(e,t,n,"test"),Rt=e,0===t.button&&(zt=!0,Nt=n,_t=t.pageX,Pt=j.indexOf(e),It=A.current.children[Pt],Lt=parseFloat(It.style.width))},y=Object(a.useCallback)((function(e){zt&&It&&(Dt=e.pageX-_t,"left"===Nt?(It.style.width="".concat(Lt-Dt,"px"),It.style.transform="translate(".concat(Dt,"px)")):"right"===Nt?It.style.width="".concat(Lt+Dt,"px"):It.style.transform="translate(".concat(Dt,"px)"))}),[]),S=Object(a.useCallback)((function(){if(zt&&It&&Dt){var e=Dt/O/10,t=u(Rt),a=n[t-1],r=n[t+1],i=wt(Rt.startTime+e,a?a.endTime:null),o=wt(Rt.endTime+e,r?r.startTime:null),c=10*(o-i)*O;if("left"===Nt)if(i>=0&&Rt.endTime-i>=.2){var s=k.a.d2t(i);console.log(s,i,"start"),d(Rt,{start:s}),h(Rt,{start:s})}else It.style.width="".concat(c,"px");else if("right"===Nt)if(o>=0&&o-Rt.startTime>=.2){var l=k.a.d2t(o);d(Rt,{end:l}),h(Rt,{end:l})}else It.style.width="".concat(c,"px");else if(i>0&&o>0&&o-i>=.2){var b=k.a.d2t(i),g=k.a.d2t(o);d(Rt,{start:b,end:g}),h(Rt,{start:b,end:g})}else It.style.width="".concat(c,"px");It.style.transform="translate(0)"}Nt="",_t=0,Lt=0,Dt=0,zt=!1}),[O,u,n,d,h]),T=Object(a.useCallback)((function(e){var n=j[Pt];if(n&&It)switch(b(e)){case 37:d(n,{start:k.a.d2t(n.startTime-.1),end:k.a.d2t(n.endTime-.1)}),t.currentTime=n.startTime-.1;break;case 39:d(n,{start:k.a.d2t(n.startTime+.1),end:k.a.d2t(n.endTime+.1)}),t.currentTime=n.startTime+.1;break;case 8:case 46:l(n)}}),[j,t,l,d]),E=Object(kt.d)("contextmenu")((function(e){var t=e.id,n=e.trigger;return Object(X.jsxs)(kt.a,{id:t,children:[n&&Object(X.jsx)(kt.c,{onClick:function(){return l(Rt)},children:Object(X.jsx)(p.Translate,{value:"DELETE"})}),n&&"Same Language Subtitling"===m&&n.parentSub!==i[i.length-1]&&Object(X.jsx)(kt.c,{onClick:function(){return g(Rt)},children:Object(X.jsx)(p.Translate,{value:"MERGE"})})]})}));return Object(a.useEffect)((function(){return document.addEventListener("mousemove",y),document.addEventListener("mouseup",S),window.addEventListener("keydown",T),function(){document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",S),window.removeEventListener("keydown",T)}}),[y,S,T]),Object(X.jsxs)(Tt,{ref:f,children:[Object(X.jsx)("div",{ref:A,children:j.map((function(e,a){return Object(X.jsx)("div",{className:["sub-item",a===x?"sub-highlight":"",s(e)?"sub-illegal":""].join(" ").trim(),style:{left:o.padding*O+(e.startTime-o.beginTime)*O*10,width:(e.endTime-e.startTime)*O*10},onClick:function(){t.duration>=e.startTime&&(t.currentTime=e.startTime+.001)},onDoubleClick:function(t){return function(e,t){var a=t.currentTarget,r=u(e),i=n[r-1],o=n[r+1];if(i&&o){var c=10*(o.startTime-i.endTime)*O;a.style.width="".concat(c,"px");var s=k.a.d2t(i.endTime),l=k.a.d2t(o.startTime);d(e,{start:s,end:l})}}(e,t)},children:Object(X.jsxs)(kt.b,{id:"contextmenu",holdToDisplay:-1,parentSub:e,collect:function(e){return e},children:[Object(X.jsx)("div",{className:"sub-handle",style:{left:0,width:10},onMouseDown:function(t){return v(e,t,"left")}}),Object(X.jsx)("div",{className:"sub-text",title:e.text,onMouseDown:function(t){return v(e,t)},children:"".concat(e.text).split(/\r?\n/).map((function(e,t){return Object(X.jsx)("p",{children:e},t)}))}),Object(X.jsx)("div",{className:"sub-handle",style:{right:0,width:10},onMouseDown:function(t){return v(e,t,"right")}}),Object(X.jsx)("div",{className:"sub-duration",children:e.duration})]})},a)}))}),Object(X.jsx)(E,{})]})}),(function(e,t){return E()(e.subtitleEnglish,t.subtitleEnglish)&&E()(e.subtitle,t.subtitle)&&E()(e.render,t.render)&&e.currentTime===t.currentTime})),Ft=w.b.div(Ct||(Ct=Object(x.a)(["\n    position: absolute;\n    z-index: 8;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    cursor: ew-resize;\n    user-select: none;\n\n    .template {\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        height: 100%;\n        background-color: rgba(76, 175, 80, 0.5);\n        border-left: 1px solid rgba(76, 175, 80, 0.8);\n        border-right: 1px solid rgba(76, 175, 80, 0.8);\n        user-select: none;\n        pointer-events: none;\n    }\n"])));var Ut,Mt,Gt=r.a.memo((function(e){var t=e.render,n=e.subtitle,r=e.subtitleEnglish,i=e.newSub,o=e.addSub,c=e.player,s=e.playing,l=e.configuration,u=Object(a.useState)(!1),d=Object(O.a)(u,2),b=d[0],g=d[1],h=Object(a.useState)(0),m=Object(O.a)(h,2),f=m[0],A=m[1],j=Object(a.useState)(0),x=Object(O.a)(j,2),v=x[0],y=x[1],S=document.body.clientWidth/t.gridNum,T=Object(a.useCallback)((function(e){return(e.pageX-t.padding*S)/S/10+t.beginTime}),[S,t]),E=Object(a.useCallback)((function(e){if(0===e.button){var t=T(e);g(!0),A(t)}}),[T]),w=Object(a.useCallback)((function(e){b&&(s&&c.pause(),y(T(e)))}),[b,s,c,T]),C=Object(a.useCallback)((function(){if(b&&""!==l&&f>0&&v>0&&v-f>=.2){var e=(s=f,(c="Subtitling"===l?n:r).findIndex((function(e,t){return s>=e.endTime&&!c[t+1]||e.startTime<=s&&e.endTime>s||s>=e.endTime&&c[t+1]&&s<c[t+1].startTime}))+1),t=k.a.d2t(f),a=k.a.d2t(v);o(e,i({start:t,end:a,text:Object(p.t)("SUB_TEXT")}))}var c,s;g(!1),A(0),y(0)}),[b,f,v,n,r,o,i,l]);return Object(a.useEffect)((function(){return document.addEventListener("mouseup",C),function(){return document.removeEventListener("mouseup",C)}}),[C]),Object(X.jsx)(Ft,{onMouseDown:E,onMouseMove:w,children:c&&!s&&f&&v&&v>f?Object(X.jsx)("div",{className:"template",style:{left:t.padding*S+(f-t.beginTime)*S*10,width:(v-f)*S*10}}):null})}),(function(e,t){return E()(e.subtitleEnglish,t.subtitleEnglish)&&E()(e.subtitle,t.subtitle)&&E()(e.render,t.render)&&e.configuration===t.configuration})),Ht=w.b.div(Ut||(Ut=Object(x.a)(["\n    position: relative;\n    display: flex;\n    flex-direction: column;\n\n    .progress {\n        position: absolute;\n        left: 0;\n        right: 0;\n        top: -12px;\n        z-index: 11;\n        width: 100%;\n        height: 12px;\n        user-select: none;\n        border-top: 1px solid rgb(255 255 255 / 20%);\n        background-color: rgb(0 0 0 / 50%);\n\n        .bar {\n            position: absolute;\n            left: 0;\n            top: 0;\n            bottom: 0;\n            width: 0%;\n            height: 100%;\n            display: inline-block;\n            background-color: #730000;\n            overflow: hidden;\n\n            .handle {\n                position: absolute;\n                right: 0;\n                top: 0;\n                bottom: 0;\n                width: 10px;\n                cursor: ew-resize;\n                background-color: #ff9800;\n            }\n        }\n\n        .subtitle {\n            position: absolute;\n            left: 0;\n            top: 0;\n            bottom: 0;\n            right: 0;\n            width: 100%;\n            height: 100%;\n            pointer-events: none;\n\n            span {\n                position: absolute;\n                top: 0;\n                bottom: 0;\n                height: 100%;\n                background-color: rgb(255 255 255 / 20%);\n            }\n        }\n    }\n\n    .duration {\n        position: absolute;\n        left: 0;\n        right: 0;\n        top: -40px;\n        z-index: 12;\n        width: 100%;\n        font-size: 18px;\n        color: rgb(255 255 255 / 75%);\n        text-shadow: 0 1px 2px rgb(0 0 0 / 75%);\n        margin-left: 20px;\n        user-select: none;\n        pointer-events: none;\n        span {\n            padding: 5px 10px;\n            background-color: rgb(0 0 0 / 50%);\n        }\n    }\n\n    .waveform {\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        z-index: 1;\n        width: 100%;\n        height: 100%;\n        z-index: 1;\n        user-select: none;\n        pointer-events: none;\n    }\n\n    .grab {\n        position: relative;\n        z-index: 11;\n        cursor: grab;\n        height: 25%;\n        user-select: none;\n        background-color: rgb(33 150 243 / 20%);\n        border-top: 1px solid rgb(33 150 243 / 30%);\n        border-bottom: 1px solid rgb(33 150 243 / 30%);\n\n        &.grabbing {\n            cursor: grabbing;\n        }\n    }\n"]))),Vt=Object(a.memo)((function(e){var t=e.player,n=e.setWaveform,r=e.setRender,i=Object(a.createRef)();return Object(a.useEffect)((function(){Object(Ot.a)(vt.a.instances).forEach((function(e){return e.destroy()}));var e=new vt.a({scrollable:!0,useWorker:!1,duration:10,padding:1,wave:!0,pixelRatio:2,container:i.current,mediaElement:t,backgroundColor:"rgba(0, 0, 0, 0)",waveColor:"rgba(255, 255, 255, 0.2)",progressColor:"rgba(255, 255, 255, 0.5)",gridColor:"rgba(255, 255, 255, 0.05)",rulerColor:"rgba(255, 255, 255, 0.5)",paddingColor:"rgba(0, 0, 0, 0)"});n(e),e.on("update",r),e.load("/sample.mp3")}),[t,i,n,r]),Object(X.jsx)("div",{className:"waveform",ref:i})}),(function(){return!0})),Kt=function(e){var t=Object(a.useState)(0),n=Object(O.a)(t,2),r=n[0],i=n[1],o=Object(a.useState)(0),c=Object(O.a)(o,2),s=c[0],l=c[1],u=Object(a.useState)(!1),d=Object(O.a)(u,2),b=d[0],g=d[1],p=Object(a.useCallback)((function(t){0===t.button&&(i(t.pageX),l(e.player.currentTime),g(!0))}),[e.player]),h=function(){i(0),l(0),g(!1)},m=Object(a.useCallback)((function(t){if(b&&e.player&&e.waveform){var n=L()(s-(t.pageX-r)/document.body.clientWidth*10,0,e.player.duration);e.player.currentTime=n,e.waveform.seek(n)}}),[b,e.player,e.waveform,r,s]);return Object(a.useEffect)((function(){return document.addEventListener("mouseup",h),function(){return document.removeEventListener("mouseup",h)}}),[]),Object(X.jsx)("div",{className:"grab ".concat(b?"grabbing":""),onMouseDown:p,onMouseMove:m})},Yt=function(e){var t=Object(a.useState)(!1),n=Object(O.a)(t,2),r=n[0],i=n[1],o=Object(a.useCallback)((function(t){if(0===t.button){var n=t.pageX/document.body.clientWidth*e.player.duration;e.player.currentTime=n,e.waveform.seek(n)}}),[e]),c=Object(a.useCallback)((function(e){0===e.button&&i(!0)}),[i]),s=Object(a.useCallback)((function(t){if(r){var n=t.pageX/document.body.clientWidth*e.player.duration;e.player.currentTime=n}}),[r,e.player]),l=Object(a.useCallback)((function(){r&&(i(!1),e.waveform.seek(e.player.currentTime))}),[r,e.waveform,e.player.currentTime]);return Object(a.useEffect)((function(){return document.addEventListener("mouseup",l),document.addEventListener("mousemove",s),function(){document.removeEventListener("mouseup",l),document.removeEventListener("mousemove",s)}}),[l,s]),Object(X.jsxs)("div",{className:"progress",onClick:o,children:[Object(X.jsx)("div",{className:"bar",style:{width:"".concat(e.currentTime/e.player.duration*100,"%")},children:Object(X.jsx)("div",{className:"handle",onMouseDown:c})}),Object(X.jsx)("div",{className:"subtitle",children:e.subtitle.length<=200?e.subtitle.map((function(t,n){var a=e.player.duration;return Object(X.jsx)("span",{className:"item",style:{left:"".concat(t.startTime/a*100,"%"),width:"".concat(t.duration/a*100,"%")}},n)})):null})]})},Jt=function(e){var t=Object(a.useCallback)((function(e){return e=e===1/0?0:e,k.a.d2t(e).split(".")[0]}),[]);return Object(X.jsx)("div",{className:"duration",children:Object(X.jsxs)("span",{children:[t(e.currentTime)," / ",t(e.player.duration||0)]})})};function Xt(e){var t=Object(a.createRef)(),n=Object(a.useState)({padding:2,duration:10,gridGap:10,gridNum:110,beginTime:-5}),i=Object(O.a)(n,2),o=i[0],c=i[1],s=Object(a.useCallback)((function(n){if(e.player&&e.waveform&&!e.player.playing&&t.current&&t.current.contains(n.target)){var a=Math.sign(n.deltaY)/5,r=L()(e.player.currentTime+a,0,e.player.duration);e.player.currentTime=r,e.waveform.seek(r)}}),[e.waveform,e.player,t]);return Object(a.useEffect)((function(){var e=St()(s,100);return window.addEventListener("wheel",e),function(){return window.removeEventListener("wheel",e)}}),[s]),Object(X.jsx)(Ht,{className:"footer",ref:t,style:e.fullscreen?{visibility:"hidden"}:{},children:e.player?Object(X.jsxs)(r.a.Fragment,{children:[Object(X.jsx)(Yt,Object(f.a)({},e)),Object(X.jsx)(Jt,Object(f.a)({},e)),Object(X.jsx)(Vt,Object(f.a)(Object(f.a)({},e),{},{setRender:c})),Object(X.jsx)(Kt,Object(f.a)(Object(f.a)({},e),{},{render:o})),Object(X.jsx)(Gt,Object(f.a)(Object(f.a)({},e),{},{render:o})),Object(X.jsx)(Bt,Object(f.a)(Object(f.a)({},e),{},{render:o}))]}):null})}var Wt,Qt=w.b.div(Mt||(Mt=Object(x.a)(["\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    z-index: 99;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    -webkit-backdrop-filter: saturate(180%) blur(2px);\n    backdrop-filter: saturate(180%) blur(2px);\n    background-color: rgba(0, 0, 0, 0.5);\n\n    .loading-inner {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        flex-direction: column;\n        width: 200px;\n        height: 200px;\n        padding: 0 10px;\n        border-radius: 10px;\n        color: #fff;\n        background-color: rgb(34 36 60 / 95%);\n        box-shadow: 0 0 3px 0 rgba(0, 0, 0, 0.5);\n\n        img {\n            zoom: 0.5;\n            margin-bottom: 10px;\n        }\n    }\n"])));function qt(e){var t=e.loading;return Object(X.jsx)(Qt,{children:Object(X.jsxs)("div",{className:"loading-inner",children:[Object(X.jsx)("img",{src:"/loading.svg",alt:"loading"}),Object(X.jsx)("div",{children:t||Object(p.t)("LOADING")})]})})}var Zt=w.b.div(Wt||(Wt=Object(x.a)(["\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    z-index: 999;\n    width: 100%;\n    height: 3px;\n    user-select: none;\n    pointer-events: none;\n\n    .inner {\n        position: relative;\n        height: 100%;\n        background-color: #f00;\n        transition: all 0.3s ease 0s;\n        span {\n            position: absolute;\n            top: 3px;\n            right: 0;\n            padding: 2px 5px;\n            color: #fff;\n            font-size: 12px;\n            background-color: rgb(0 0 0 / 80%);\n        }\n    }\n"])));function $t(e){var t=e.processing;return Object(X.jsx)(Zt,{children:Object(X.jsx)("div",{className:"inner",style:{width:"".concat(t,"%")},children:Object(X.jsx)("span",{children:"".concat(t.toFixed(2),"%")})})})}var en=[{name:"\u7b80\u4f53\u4e2d\u6587",key:"zh"},{name:"\u7e41\u4f53\u4e2d\u6587",key:"zh-TW"},{name:"\u82f1\u8bed",key:"en"},{name:"\u5357\u975e\u8377\u5170\u8bed",key:"af"},{name:"\u963f\u5c14\u5df4\u5c3c\u4e9a\u8bed",key:"sq"},{name:"\u963f\u59c6\u54c8\u62c9\u8bed",key:"am"},{name:"\u963f\u62c9\u4f2f\u8bed",key:"ar"},{name:"\u4e9a\u7f8e\u5c3c\u4e9a\u8bed",key:"hy"},{name:"\u963f\u585e\u62dc\u7586\u8bed",key:"az"},{name:"\u5df4\u65af\u514b\u8bed",key:"eu"},{name:"\u767d\u4fc4\u7f57\u65af\u8bed",key:"be"},{name:"\u5b5f\u52a0\u62c9\u8bed",key:"bn"},{name:"\u6ce2\u65af\u5c3c\u4e9a\u8bed",key:"bs"},{name:"\u4fdd\u52a0\u5229\u4e9a\u8bed",key:"bg"},{name:"\u52a0\u6cf0\u7f57\u5c3c\u4e9a\u8bed",key:"ca"},{name:"\u5bbf\u52a1\u8bed",key:"ceb"},{name:"\u79d1\u897f\u5609\u8bed",key:"co"},{name:"\u514b\u7f57\u5730\u4e9a\u8bed",key:"hr"},{name:"\u6377\u514b\u8bed",key:"cs"},{name:"\u4e39\u9ea6\u8bed",key:"da"},{name:"\u8377\u5170\u8bed",key:"nl"},{name:"\u4e16\u754c\u8bed",key:"eo"},{name:"\u7231\u6c99\u5c3c\u4e9a\u8bed",key:"et"},{name:"\u82ac\u5170\u8bed",key:"fi"},{name:"\u6cd5\u8bed",key:"fr"},{name:"\u5f17\u91cc\u65af\u5170\u8bed",key:"fy"},{name:"\u52a0\u5229\u897f\u4e9a\u8bed",key:"gl"},{name:"\u683c\u9c81\u5409\u4e9a\u8bed",key:"ka"},{name:"\u5fb7\u8bed",key:"de"},{name:"\u5e0c\u814a\u8bed",key:"el"},{name:"\u53e4\u5409\u62c9\u7279\u8bed",key:"gu"},{name:"\u6d77\u5730\u514b\u91cc\u5965\u5c14\u8bed",key:"ht"},{name:"\u8c6a\u8428\u8bed",key:"ha"},{name:"\u590f\u5a01\u5937\u8bed",key:"haw"},{name:"\u5e0c\u4f2f\u6765\u8bed",key:"he"},{name:"\u5370\u5730\u8bed",key:"hi"},{name:"\u82d7\u8bed",key:"hmn"},{name:"\u5308\u7259\u5229\u8bed",key:"hu"},{name:"\u51b0\u5c9b\u8bed",key:"is"},{name:"\u4f0a\u535a\u8bed",key:"ig"},{name:"\u5370\u5ea6\u5c3c\u897f\u4e9a\u8bed",key:"id"},{name:"\u7231\u5c14\u5170\u8bed",key:"ga"},{name:"\u610f\u5927\u5229\u8bed",key:"it"},{name:"\u65e5\u8bed",key:"ja"},{name:"\u722a\u54c7\u8bed",key:"jw"},{name:"\u5361\u7eb3\u8fbe\u8bed",key:"kn"},{name:"\u54c8\u8428\u514b\u8bed",key:"kk"},{name:"\u9ad8\u68c9\u6587",key:"km"},{name:"\u97e9\u8bed",key:"ko"},{name:"\u5e93\u5c14\u5fb7\u8bed",key:"ku"},{name:"\u5409\u5c14\u5409\u65af\u8bed",key:"ky"},{name:"\u8001\u631d\u8bed",key:"lo"},{name:"\u62c9\u4e01\u6587",key:"la"},{name:"\u62c9\u8131\u7ef4\u4e9a\u8bed",key:"lv"},{name:"\u7acb\u9676\u5b9b\u8bed",key:"lt"},{name:"\u5362\u68ee\u5821\u8bed",key:"lb"},{name:"\u9a6c\u5176\u987f\u8bed",key:"mk"},{name:"\u9a6c\u5c14\u52a0\u4ec0\u8bed",key:"mg"},{name:"\u9a6c\u6765\u8bed",key:"ms"},{name:"\u9a6c\u62c9\u96c5\u62c9\u59c6\u6587",key:"ml"},{name:"\u9a6c\u8033\u4ed6\u8bed",key:"mt"},{name:"\u6bdb\u5229\u8bed",key:"mi"},{name:"\u9a6c\u62c9\u5730\u8bed",key:"mr"},{name:"\u8499\u53e4\u6587",key:"mn"},{name:"\u7f05\u7538\u8bed",key:"my"},{name:"\u5c3c\u6cca\u5c14\u8bed",key:"ne"},{name:"\u632a\u5a01\u8bed",key:"no"},{name:"\u5c3c\u6768\u624e\u8bed",key:"ny"},{name:"\u666e\u4ec0\u56fe\u8bed",key:"ps"},{name:"\u6ce2\u65af\u8bed",key:"fa"},{name:"\u6ce2\u5170\u8bed",key:"pl"},{name:"\u8461\u8404\u7259\u8bed",key:"pt"},{name:"\u65c1\u906e\u666e\u8bed",key:"pa"},{name:"\u7f57\u9a6c\u5c3c\u4e9a\u8bed",key:"ro"},{name:"\u4fc4\u8bed",key:"ru"},{name:"\u8428\u6469\u4e9a\u8bed",key:"sm"},{name:"\u82cf\u683c\u5170\u76d6\u5c14\u8bed",key:"gd"},{name:"\u585e\u5c14\u7ef4\u4e9a\u8bed",key:"sr"},{name:"\u585e\u7d22\u6258\u8bed",key:"st"},{name:"\u4fee\u7eb3\u8bed",key:"sn"},{name:"\u4fe1\u5fb7\u8bed",key:"sd"},{name:"\u50e7\u4f3d\u7f57\u8bed",key:"si"},{name:"\u65af\u6d1b\u4f10\u514b\u8bed",key:"sk"},{name:"\u65af\u6d1b\u6587\u5c3c\u4e9a\u8bed",key:"sl"},{name:"\u7d22\u9a6c\u91cc\u8bed",key:"so"},{name:"\u897f\u73ed\u7259\u8bed",key:"es"},{name:"\u5dfd\u4ed6\u8bed",key:"su"},{name:"\u65af\u74e6\u5e0c\u91cc\u8bed",key:"sw"},{name:"\u745e\u5178\u8bed",key:"sv"},{name:"\u5854\u52a0\u8def\u8bed",key:"tl"},{name:"\u5854\u5409\u514b\u8bed",key:"tg"},{name:"\u6cf0\u7c73\u5c14\u8bed",key:"ta"},{name:"\u6cf0\u5362\u56fa\u8bed",key:"te"},{name:"\u6cf0\u6587",key:"th"},{name:"\u571f\u8033\u5176\u8bed",key:"tr"},{name:"\u4e4c\u514b\u5170\u8bed",key:"uk"},{name:"\u4e4c\u5c14\u90fd\u8bed",key:"ur"},{name:"\u4e4c\u5179\u522b\u514b\u8bed",key:"uz"},{name:"\u8d8a\u5357\u8bed",key:"vi"},{name:"\u5a01\u5c14\u58eb\u8bed",key:"cy"},{name:"\u73ed\u56fe\u8bed",key:"xh"},{name:"\u610f\u7b2c\u7eea\u8bed",key:"yi"},{name:"\u7ea6\u9c81\u5df4\u8bed",key:"yo"},{name:"\u7956\u9c81\u8bed",key:"zu"}],tn={en:[{name:"English",key:"en"},{name:"Bengali",key:"bn"},{name:"Gujarati",key:"gu"},{name:"Hindi",key:"hi"},{name:"Kannada",key:"kn"},{name:"Malayalam",key:"ml"},{name:"Marathi",key:"mr"},{name:"Nepali",key:"ne"},{name:"Oriya",key:"or"},{name:"Punjabi",key:"pa"},{name:"Sinhala",key:"si"},{name:"Tamil",key:"ta"},{name:"Telugu",key:"te"},{name:"Urdu",key:"ur"}],zh:en,"zh-cn":en,"zh-tw":en,tr:[{name:"Basitle\u015ftirilmi\u015f \xc7ince",key:"zh"},{name:"Geleneksel \xc7ince",key:"zh-TW"},{name:"\u0130ngilizce",key:"en"},{name:"Afrikaanca",key:"af"},{name:"Arnavut\xe7a",key:"sq"},{name:"Amharca",key:"am"},{name:"Arap\xe7a",key:"ar"},{name:"Ermenice",key:"hy"},{name:"Azerbaycanca",key:"az"},{name:"Bask\xe7a",key:"eu"},{name:"Belarus\xe7a",key:"be"},{name:"Bengalce",key:"bn"},{name:"Bo\u015fnak\xe7a",key:"bs"},{name:"Bulgarca",key:"bg"},{name:"Katalanca",key:"ca"},{name:"Sabuanca",key:"ceb"},{name:"Korsikaca",key:"co"},{name:"H\u0131rvat\xe7a",key:"hr"},{name:"\xc7ek\xe7e",key:"cs"},{name:"Danca",key:"da"},{name:"Felemenk\xe7e",key:"nl"},{name:"Esperanto",key:"eo"},{name:"Estonca",key:"et"},{name:"Fince",key:"fi"},{name:"Frans\u0131zca",key:"fr"},{name:"Frizce",key:"fy"},{name:"Gali\xe7yaca",key:"gl"},{name:"G\xfcrc\xfcce",key:"ka"},{name:"Almanca",key:"de"},{name:"Yunanca",key:"el"},{name:"Gucerat\xe7a",key:"gu"},{name:"Haiti Kreyolu",key:"ht"},{name:"Hausaca",key:"ha"},{name:"Hawaii dili",key:"haw"},{name:"\u0130branice",key:"he"},{name:"Hint\xe7e",key:"hi"},{name:"Hmong",key:"hmn"},{name:"Macarca",key:"hu"},{name:"\u0130zlandaca",key:"is"},{name:"\u0130gbo dili",key:"ig"},{name:"Endonezce",key:"id"},{name:"\u0130rlandaca",key:"ga"},{name:"\u0130talyanca",key:"it"},{name:"Japonca",key:"ja"},{name:"Cava dili",key:"jw"},{name:"Kannada dili",key:"kn"},{name:"Kazak\xe7a",key:"kk"},{name:"Kmerce",key:"km"},{name:"Korece",key:"ko"},{name:"K\xfcrt\xe7e",key:"ku"},{name:"K\u0131rg\u0131zca",key:"ky"},{name:"Laoca",key:"lo"},{name:"Latince",key:"la"},{name:"Letonca",key:"lv"},{name:"Litvanca",key:"lt"},{name:"L\xfcksemburgca",key:"lb"},{name:"Makedonca",key:"mk"},{name:"Malga\u015f\xe7a",key:"mg"},{name:"Malayca",key:"ms"},{name:"Malayalamca",key:"ml"},{name:"Maltaca",key:"mt"},{name:"Maorice",key:"mi"},{name:"Marathice",key:"mr"},{name:"Mo\u011folca",key:"mn"},{name:"Birmanca",key:"my"},{name:"Nepalce",key:"ne"},{name:"Norve\xe7\xe7e",key:"no"},{name:"\xc7evaca",key:"ny"},{name:"Pe\u015ftuca",key:"ps"},{name:"Fars\xe7a",key:"fa"},{name:"Leh\xe7e",key:"pl"},{name:"Portekizce",key:"pt"},{name:"Pencap\xe7a",key:"pa"},{name:"Rumence",key:"ro"},{name:"Rus\xe7a",key:"ru"},{name:"Samoaca",key:"sm"},{name:"\u0130sko\xe7\xe7a Gaelic",key:"gd"},{name:"S\u0131rp\xe7a",key:"sr"},{name:"Sotho dili",key:"st"},{name:"\u015eona dili",key:"sn"},{name:"Since",key:"sd"},{name:"Sinhala dili",key:"si"},{name:"Slovak\xe7a",key:"sk"},{name:"Slovence",key:"sl"},{name:"Somalice",key:"so"},{name:"\u0130spanyolca",key:"es"},{name:"Sundaca",key:"su"},{name:"Svahili",key:"sw"},{name:"\u0130sve\xe7\xe7e",key:"sv"},{name:"Tagalogca",key:"tl"},{name:"Tacik\xe7e",key:"tg"},{name:"Tamilce",key:"ta"},{name:"Teluguca",key:"te"},{name:"Tayca",key:"th"},{name:"T\xfcrk\xe7e",key:"tr"},{name:"Ukraynaca",key:"uk"},{name:"Urduca",key:"ur"},{name:"\xd6zbek\xe7e",key:"uz"},{name:"Vietnamca",key:"vi"},{name:"Galce",key:"cy"},{name:"bantu",key:"xh"},{name:"Yidi\u015f",key:"yi"},{name:"Yoruba dili",key:"yo"},{name:"Zuluca",key:"zu"}]};function nn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if(console.log("google translate clicked1"),!e.trim())return Promise.resolve("");var n=new URL("https://translate.googleapis.com/translate_a/single");return n.searchParams.append("client","gtx"),n.searchParams.append("sl","auto"),n.searchParams.append("dt","t"),n.searchParams.append("tl",t),n.searchParams.append("q",e),new Promise((function(e,t){fetch(n.href).then((function(e){return e.json()})).then((function(t){e(t?t[0].map((function(e){return e[0].trim()})).join("\n"):"")})).catch((function(e){t(e)}))}))}function an(){return rn.apply(this,arguments)}function rn(){return rn=Object(j.a)(Object(A.a)().mark((function e(){var t,n,a=arguments;return Object(A.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:[],n=a.length>1?a[1]:void 0,console.log("google translate clicked"),e.abrupt("return",new Promise((function(e,a){var r=[];!function i(){var o=t.shift();o?nn(o.text,n).then((function(e){o.text=e,r.push(o),u(100).then(i)})).catch((function(e){a(e)})):e(r)}()})));case 4:case"end":return e.stop()}}),e)}))),rn.apply(this,arguments)}var on,cn,sn=function(e){Object(N.a)(n,e);var t=Object(_.a)(n);function n(){var e,a,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3;return Object(C.a)(this,n),(a=t.call(this,"GET",r,!1)).type=ce,a.endpoint="".concat(Object(Q.a)((e=Object(R.a)(a),Object(q.a)(n.prototype)),"apiEndPointAuto",e).call(e)).concat(ne,"generate/supported_languages"),a}return Object(I.a)(n,[{key:"processResponse",value:function(e){Object(Q.a)(Object(q.a)(n.prototype),"processResponse",this).call(this,e),e&&(this.languages=e)}},{key:"apiEndPoint",value:function(){return this.endpoint}},{key:"getBody",value:function(){}},{key:"getHeaders",value:function(){return this.headers={headers:Object(f.a)({"Content-Type":"application/json"},localStorage.getItem("chitralekha_access_token")&&{Authorization:"Token ".concat(localStorage.getItem("chitralekha_access_token"))})},this.headers}},{key:"getPayload",value:function(){return this.languages}}]),n}($),ln=function(e){Object(N.a)(n,e);var t=Object(_.a)(n);function n(e,a,r){var i,o,c=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2e3;return Object(C.a)(this,n),(o=t.call(this,"GET",s,!1)).type=oe,o.endpoint="".concat(Object(Q.a)((i=Object(R.a)(o),Object(q.a)(n.prototype)),"apiEndPointAuto",i).call(i)).concat(ne,"?video_id=").concat(e,"&language=").concat(a,"&transcript_type=").concat(r,"&load_latest_transcript=").concat(c),o}return Object(I.a)(n,[{key:"processResponse",value:function(e){Object(Q.a)(Object(q.a)(n.prototype),"processResponse",this).call(this,e),e&&(this.transcript=e)}},{key:"apiEndPoint",value:function(){return this.endpoint}},{key:"getBody",value:function(){}},{key:"getHeaders",value:function(){return this.headers={headers:Object(f.a)({"Content-Type":"application/json"},localStorage.getItem("chitralekha_access_token")&&{Authorization:"Token ".concat(localStorage.getItem("chitralekha_access_token"))})},this.headers}},{key:"getPayload",value:function(){return this.transcript}}]),n}($),un=function(e){Object(N.a)(n,e);var t=Object(_.a)(n);function n(e,a){var r,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;return Object(C.a)(this,n),(i=t.call(this,"GET",o,!1)).type=se,i.endpoint="".concat(Object(Q.a)((r=Object(R.a)(i),Object(q.a)(n.prototype)),"apiEndPointAuto",r).call(r)).concat(ne,"generate/?video_id=").concat(e,"&language=").concat(a),i}return Object(I.a)(n,[{key:"processResponse",value:function(e){Object(Q.a)(Object(q.a)(n.prototype),"processResponse",this).call(this,e),e&&(this.transcript=e)}},{key:"apiEndPoint",value:function(){return this.endpoint}},{key:"getBody",value:function(){}},{key:"getHeaders",value:function(){return this.headers={headers:Object(f.a)({"Content-Type":"application/json"},localStorage.getItem("chitralekha_access_token")&&{Authorization:"Token ".concat(localStorage.getItem("chitralekha_access_token"))})},this.headers}},{key:"getPayload",value:function(){return this.transcript}}]),n}($),dn=function(e){Object(N.a)(n,e);var t=Object(_.a)(n);function n(e,a){var r,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;return Object(C.a)(this,n),(i=t.call(this,"GET",o,!1)).type=le,i.endpoint="".concat(Object(Q.a)((r=Object(R.a)(i),Object(q.a)(n.prototype)),"apiEndPointAuto",r).call(r)).concat(ne,"generate_original_transcript/?video_id=").concat(e,"&language=").concat(a),i}return Object(I.a)(n,[{key:"processResponse",value:function(e){Object(Q.a)(Object(q.a)(n.prototype),"processResponse",this).call(this,e),e&&(this.transcript=e)}},{key:"apiEndPoint",value:function(){return this.endpoint}},{key:"getBody",value:function(){}},{key:"getHeaders",value:function(){return this.headers={headers:Object(f.a)({"Content-Type":"application/json"},localStorage.getItem("chitralekha_access_token")&&{Authorization:"Token ".concat(localStorage.getItem("chitralekha_access_token"))})},this.headers}},{key:"getPayload",value:function(){return this.transcript}}]),n}($),bn=function(e){var t=Object(a.useState)(!1),n=Object(O.a)(t,2),r=n[0],i=n[1];return Object(a.useEffect)((function(){localStorage.getItem("langTranscribe")?e.setModeTranscribe(localStorage.getItem("langTranscribe")):(localStorage.setItem("langTranscribe","en"),e.setModeTranscribe("en"))}),[e.transcriptionModalOpen]),Object(X.jsx)(X.Fragment,{children:Object(X.jsxs)(ke.a,{show:e.transcriptionModalOpen,onHide:e.handleTranscriptionClose,style:{top:"20%"},children:[Object(X.jsx)(ke.a.Header,{closeButton:!0,children:Object(X.jsx)(ke.a.Title,{children:"Transcribe"})}),Object(X.jsxs)(ke.a.Body,{children:[Object(X.jsxs)("div",{className:"select-translation-api-container",children:[Object(X.jsx)("p",{className:"select-heading",style:{display:"inline-block",marginRight:"10px",fontWeight:"500",width:"200px"},children:"Transcript Source"}),Object(X.jsxs)("select",{value:e.transcriptSource,onChange:function(t){var n;e.setTranscriptSource(t.target.value),null===(n=e.player)||void 0===n||n.pause()},style:{display:"inline-block",padding:"6px 4px",borderRadius:"5px",minWidth:"200px"},disabled:!!Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ASR_URL:"http://216.48.182.174:5000",REACT_APP_NMT_URL:"http://216.48.181.177:5050",REACT_APP_APIGW_BASE_URL:"https://backend.lite.chitralekha.ai4bharat.org"}).REACT_APP_LITE,children:[!Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ASR_URL:"http://216.48.182.174:5000",REACT_APP_NMT_URL:"http://216.48.181.177:5050",REACT_APP_APIGW_BASE_URL:"https://backend.lite.chitralekha.ai4bharat.org"}).REACT_APP_LITE&&Object(X.jsx)("option",{value:"AI4Bharat",children:"AI4Bharat"}),!Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ASR_URL:"http://216.48.182.174:5000",REACT_APP_NMT_URL:"http://216.48.181.177:5050",REACT_APP_APIGW_BASE_URL:"https://backend.lite.chitralekha.ai4bharat.org"}).REACT_APP_LITE&&Object(X.jsx)("option",{value:"Youtube",children:"Youtube"}),Object(X.jsx)("option",{value:"Custom",children:"Custom"})]})]}),Object(X.jsx)("br",{}),Object(X.jsxs)("div",{style:{marginBottom:"2px"},children:[Object(X.jsx)("p",{style:{display:"inline-block",marginRight:"10px",fontWeight:"500",width:"200px"},children:"Select Language"}),Object(X.jsx)("select",{value:e.modeTranscribe,onChange:function(t){e.setModeTranscribe(t.target.value),localStorage.setItem("langTranscribe",t.target.value)},style:{padding:"6px 4px",borderRadius:"5px",minWidth:"200px"},children:(e.languageAvailable[e.language]||e.languageAvailable.en||e.languageAvailable).map((function(e){return Object(X.jsx)("option",{value:e.key,children:e.name},e.key)}))}),r&&Object(X.jsxs)(it.a,{variant:"warning",children:[Object(X.jsx)(it.a.Heading,{style:{fontSize:"1.3rem"},children:"Are you sure you want to force retreive translations?"}),Object(X.jsx)("p",{children:"Please note that all your progress will be lost"}),Object(X.jsxs)("div",{className:"d-flex justify-content-end gap-3",children:[Object(X.jsx)(we.a,{variant:"secondary",onClick:function(){return i(!1)},children:"Cancel"}),Object(X.jsx)(we.a,{variant:"danger",onClick:function(){i(!1),e.setContinueEditing(!1)},children:"Confirm"})]})]}),Object(X.jsx)(Ee.a.Check,{type:"checkbox",label:"Continue editing where I left off",disabled:!localStorage.getItem("isLoggedIn"),style:{marginTop:"10px"},checked:e.continueEditing,onChange:function(){return e.continueEditing?i(!0):e.setContinueEditing(!0)}})]})]}),Object(X.jsxs)(ke.a.Footer,{children:[Object(X.jsx)("div",{className:"btn",onClick:function(){e.setConfiguration("Same Language Subtitling"),e.onTranscribe(),e.handleTranscriptionClose()},style:{display:"inline-block",marginRight:"5px",backgroundColor:"#0d6efd",color:"white",padding:"7px"},children:Object(X.jsx)(p.Translate,{value:"TRANSCRIBE"})}),Object(X.jsx)(we.a,{variant:"dark",onClick:e.handleTranscriptionClose,style:{marginLeft:"20px"},children:"Close"})]})]})})},gn=w.b.div(on||(on=Object(x.a)(["\n    position: relative;\n    box-shadow: 0px 5px 25px 5px rgb(0 0 0 / 80%);\n    background-color: rgb(0 0 0 / 100%);\n    z-index: 10;\n\n    .transcribe {\n        display: flex;\n        flex-direction: row;\n        justify-content: space-evenly;\n        align-items: center;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n        height: 80px;\n\n        .heading {\n            h4 {\n                margin: 0;\n            }\n        }\n\n        .options {\n            display: flex;\n            width: 100%;\n            align-items: center;\n            justify-content: center;\n\n            span {\n                font-size: 18px;\n            }\n        }\n\n        select {\n            width: 65%;\n            outline: none;\n            height: 35px;\n            border-radius: 3px;\n        }\n\n        .save {\n            display: block;\n            margin: 0;\n        }\n    }\n\n    .reference {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-evenly;\n        align-items: center;\n        height: 80px;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n        h4 {\n            margin-bottom: 0;\n            margin-top: 0;\n        }\n    }\n\n    .ReactVirtualized__Table {\n        margin-top: 20px;\n        width: 100%;\n\n        .ReactVirtualized__Table__Grid {\n            outline: none;\n            width: 100% !important;\n        }\n\n        .ReactVirtualized__Grid__innerScrollContainer {\n            overflow: visible !important;\n            width: 100% !important;\n            max-width: 100% !important;\n        }\n\n        .ReactVirtualized__Table__row {\n            overflow: visible !important;\n            width: 100% !important;\n\n            .item {\n                height: 100%;\n                width: 100%;\n                padding: 10px;\n\n                ul {\n                    position: absolute !important;\n                    bottom: 200px !important;\n                    left: 0 !important;\n                    z-index: 9999 !important;\n                    height: 170px !important;\n                    width: 100% !important;\n                    transform: translate(0px, 0px) !important;\n                    display: block !important;\n\n                    li {\n                        color: #000 !important;\n                        border-bottom: 1px solid #999;\n                    }\n                }\n\n                div {\n                    width: 100%;\n                }\n\n                .textarea {\n                    border: none;\n                    width: 100%;\n                    height: 70px;\n                    color: #fff;\n                    font-size: 18px;\n                    padding: 10px;\n                    text-align: center;\n                    background-color: rgba(255, 255, 255, 0.05);\n                    border: 1px solid rgba(255, 255, 255, 0.1);\n                    transition: all 0.2s ease;\n                    resize: none;\n                    outline: none;\n\n                    word-wrap: break-word;\n\n                    &.highlight {\n                        background-color: rgb(0 87 158);\n                        border: 1px solid rgba(255, 255, 255, 0.3);\n                    }\n\n                    &.illegal {\n                        background-color: rgb(123 29 0);\n                        border: 1px solid rgba(255, 255, 255, 0.3);\n                    }\n\n                    &.found {\n                        background-color: #ffffcc;\n                        color: #000;\n                        border: 1px solid rgba(255, 255, 255, 0.3);\n                    }\n                    &.current-found {\n                        background-color: #ffff33;\n                        color: #000;\n                        border: 1px solid rgba(255, 255, 255, 0.3);\n                    }\n                }\n            }\n        }\n    }\n\n    .transliterate-toggle {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        font-size: 18px;\n        p {\n            margin: 0;\n        }\n    }\n"])));function pn(e){var t=e.currentIndex,n=e.subtitle,i=(e.setSubtitleOriginal,e.checkSub),o=e.player,c=e.updateSub,s=e.language,l=e.setLoading,u=e.subtitleEnglish,d=e.formatSub,b=e.setSubtitle,g=e.notify,h=e.isPrimary,m=(e.clearedSubs,e.setClearedSubs,e.updateSubOriginal),x=void 0===m?null:m,v=e.clearSubs,y=(e.clearSubsEnglish,e.configuration),S=e.setConfiguration,k=e.setSubtitleEnglish,T=(e.translationApi,e.transcriptSource),E=e.setTranscriptSource,w=e.found,C=e.currentFound,I=e.transcriptionModalOpen,R=(e.setTranscriptionModalOpen,e.handleTranscriptionClose),N=(e.handleTranscriptionShow,e.saveTranscript),_=(e.error,e.setError),P=Object(a.useState)(100),L=Object(O.a)(P,2),D=L[0],z=L[1],U=Object(a.useState)([]),M=Object(O.a)(U,2),G=M[0],H=M[1],V=Object(a.useState)(!1),K=Object(O.a)(V,2),Y=K[0],J=K[1],W=Object(a.useState)(!0),Q=Object(O.a)(W,2),q=Q[0],Z=Q[1],$=Object(a.useState)(localStorage.getItem("isLoggedIn")),ee=Object(O.a)($,2),te=ee[0],ne=ee[1],ae=function(){var e=Object(j.a)(Object(A.a)().mark((function e(){var t,n,a,r,i,o,c,s;return Object(A.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H([]),"AI4Bharat"!==T){e.next=12;break}return t=new sn,e.next=5,fetch(t.apiEndPoint(),{method:"GET",headers:t.getHeaders().headers});case 5:return n=e.sent,e.next=8,n.json();case 8:if(a=e.sent,n.ok){for(i in r=[],a.data)r.push({name:"".concat(i),key:"".concat(a.data[i])});H(r)}e.next=16;break;case 12:return e.next=14,Object(Ne.b)();case 14:if((null===(o=e.sent)||void 0===o?void 0:o.length)>0){for(s in c=[{name:"English",key:"en"}],o)c.push({name:"".concat(o[s].DisplayName),key:"".concat(o[s].LangCode)});"Custom"===T&&c.push({name:"Other Language",key:"xx"}),H(c)}case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){ae()}),[T]),Object(a.useEffect)((function(){return function(){localStorage.getItem("user_id")&&N()}}),[]),Object(a.useEffect)((function(){localStorage.getItem("user_id")&&(null===n||void 0===n?void 0:n.length)>0&&!Y&&(J(!0),setTimeout((function(){J(!1)}),1e4))}),[n]),Object(a.useEffect)((function(){localStorage.getItem("user_id")&&!Y&&N()}),[Y]);var re=function(e,t){var n=r.a.useState((function(){var n=window.localStorage.getItem(t);return null!==n?JSON.parse(n):e})),a=Object(O.a)(n,2),i=a[0],o=a[1];return r.a.useEffect((function(){window.localStorage.setItem(t,JSON.stringify(i))}),[t,i]),[i,o]}("en","transcribed-view"),ie=Object(O.a)(re,2),oe=ie[0],ce=ie[1],se=Object(a.useCallback)((function(){z(document.body.clientHeight-320)}),[z]);Object(a.useEffect)((function(){if(se(),!se.init){se.init=!0;var e=Ze()(se,500);window.addEventListener("resize",e)}}),[se]);var le=Object(a.useCallback)((function(e){if(0===e.length)return l(!1),void _("No transcript found");B(F(e)).then((function(e){v(),k(d(e)),localStorage.setItem("subtitleEnglish",JSON.stringify(e)),l(""),g({message:"Transcript loaded successfully",level:"success"})})).catch((function(e){l(""),_("No transcript found")}))}),[k,l,d]),ue=function(){localStorage.removeItem("transcript_id"),v(),k(d([])),localStorage.setItem("subtitleEnglish",JSON.stringify([]))},de=Object(a.useCallback)(Object(j.a)(Object(A.a)().mark((function e(){var t,n,a,r,i,o,c;return Object(A.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={Youtube:localStorage.getItem("isLoggedIn")&&te?"uos":"os",AI4Bharat:localStorage.getItem("isLoggedIn")&&te?"umg":"mg",Custom:"mc"},"Custom"!==T||te&&localStorage.getItem("isLoggedIn")){e.next=4;break}return ue(),e.abrupt("return");case 4:return l(Object(p.t)("TRANSCRIBING")),n=new ln(localStorage.getItem("videoId"),localStorage.getItem("langTranscribe"),t[T]),e.next=8,fetch(n.apiEndPoint(),{method:"GET",body:JSON.stringify(n.getBody()),headers:n.getHeaders().headers});case 8:if(!(a=e.sent).ok){e.next=17;break}return e.next=12,a.json();case 12:r=e.sent,localStorage.setItem("transcript_id",r.id),le(r.data.output),e.next=37;break;case 17:if("Custom"!==T){e.next=23;break}l(""),_("No custom transcript found"),ue(),e.next=37;break;case 23:return i="AI4Bharat"===T?new un(localStorage.getItem("videoId"),localStorage.getItem("langTranscribe")):new dn(localStorage.getItem("videoId"),localStorage.getItem("langTranscribe")),e.next=26,fetch(i.apiEndPoint(),{method:"GET",body:JSON.stringify(i.getBody()),headers:i.getHeaders().headers});case 26:if(!(o=e.sent).ok){e.next=35;break}return e.next=30,o.json();case 30:c=e.sent,localStorage.setItem("transcript_id",c.id),le(c.data.output),e.next=37;break;case 35:l(""),_("No transcript found");case 37:case"end":return e.stop()}}),e)}))),[l,d,b,g,v,o,k,T,te]);return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(bn,{transcriptionModalOpen:I,handleTranscriptionClose:R,languageAvailable:G,modeTranscribe:oe,setModeTranscribe:ce,transcriptSource:T,setTranscriptSource:E,player:o,onTranscribe:de,setConfiguration:S,continueEditing:te,setContinueEditing:ne}),"Same Language Subtitling"===y&&Object(X.jsxs)(gn,{className:"subtitles",style:{width:JSON.parse(localStorage.getItem("isAudioOnly"))?"50%":""},children:[Object(X.jsxs)("div",{className:"transcribe",children:[!!localStorage.getItem("user_id")&&Object(X.jsx)(we.a,{className:"save",onClick:N,children:"Save \ud83d\udcbe"}),!(!localStorage.getItem("langTranscribe")||"en"===localStorage.getItem("langTranscribe")||"en-k"===localStorage.getItem("langTranscribe")||"xx"===localStorage.getItem("langTranscribe"))&&Object(X.jsxs)("div",{className:"transliterate-toggle",children:[Object(X.jsx)(Ve.a,{id:"toggle-panel",icons:!1,checked:q,onChange:function(){return Z(!q)},"aria-labelledby":"toggle-panel"}),Object(X.jsx)("p",{children:"Transliteration"})]})]}),!h&&Object(X.jsxs)("div",{className:"reference",children:[Object(X.jsx)("h4",{children:"Reference Subtitles"}),Object(X.jsxs)("span",{children:["Language : ",tn.en.filter((function(e){return e.key===s}))[0].name]})]}),Object(X.jsx)(Xe.a,{headerHeight:40,width:300,height:D,rowHeight:80,scrollToIndex:-1===t?void 0:t+2,rowCount:u.length,rowGetter:function(e){var t=e.index;return u[t]},headerRowRenderer:function(){return null},rowRenderer:function(e){return Object(X.jsx)("div",{className:e.className,style:e.style,onClick:function(){o&&(o.pause(),o.duration>=e.rowData.startTime&&(o.currentTime=e.rowData.startTime+.001))},children:Object(X.jsx)("div",{className:"item",children:Object(X.jsx)(Ne.a,{value:Qe()(e.rowData.text),spellCheck:!1,onChangeText:function(t){c(e.rowData,{text:t})},onBlur:function(){return t=e.rowData,n=e.index,void(h||an([{text:t.text}],localStorage.getItem("langTranscribe")).then((function(e){x(t,e[0],n)})));var t,n},enabled:q&&!(!localStorage.getItem("langTranscribe")||"en"===localStorage.getItem("langTranscribe")||"en-k"===localStorage.getItem("langTranscribe")||"xx"===localStorage.getItem("langTranscribe")),lang:localStorage.getItem("langTranscribe"),maxOptions:5,renderComponent:function(n){return Object(X.jsx)("textarea",Object(f.a)(Object(f.a)({},n),{},{className:["textarea",t===e.index?"highlight":"",i(e.rowData)?"illegal":"",w.includes(e.index)?"found":"",w[C]===e.index?"current-found":""].join(" ").trim()}))}})})},e.key)}})]})]})}function hn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!e.trim())return Promise.resolve("");var t=new URL("".concat("http://216.48.181.177:5050","/lemmatize_sentence"));return t.searchParams.append("sentence",e),t.searchParams.append("lang","en"),new Promise((function(e,n){fetch(t.href).then((function(e){return e.json()})).then((function(t){e(t||"")})).catch((function(e){n(e)}))}))}function mn(){return fn.apply(this,arguments)}function fn(){return fn=Object(j.a)(Object(A.a)().mark((function e(){var t,n,a=arguments;return Object(A.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:[],n=a.length>1?a[1]:void 0,e.abrupt("return",new Promise((function(e,a){var r=[];!function i(){var o=t.shift();o?hn(o.text,n).then((function(e){o.text=e,r.push(o),u(100).then(i)})).catch((function(e){a(e)})):e(r)}()})));case 3:case"end":return e.stop()}}),e)}))),fn.apply(this,arguments)}var An=w.b.div(cn||(cn=Object(x.a)(["\n    position: relative;\n    box-shadow: 0px 5px 25px 5px rgb(0 0 0 / 80%);\n    background-color: rgb(0 0 0 / 100%);\n\n    .translate {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-evenly;\n        align-items: center;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n        height: 80px;\n\n        .heading {\n            h4 {\n                margin: 0;\n            }\n        }\n\n        .options {\n            display: flex;\n            width: 90%;\n        }\n\n        select {\n            width: 65%;\n            outline: none;\n            height: 35px;\n            border-radius: 3px;\n        }\n\n        .btn {\n            opacity: 0.85;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 35px;\n            width: 100%;\n            border-radius: 3px;\n            color: #fff;\n            cursor: pointer;\n            font-size: 13px;\n            background-color: #673ab7;\n            transition: all 0.2s ease 0s;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n    }\n\n    .reference {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-evenly;\n        align-items: center;\n        height: 80px;\n        border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n        h4 {\n            margin-bottom: 0;\n            margin-top: 0;\n        }\n    }\n\n    .ReactVirtualized__Table {\n        .ReactVirtualized__Table__Grid {\n            outline: none;\n        }\n\n        .ReactVirtualized__Grid__innerScrollContainer {\n            overflow: visible !important;\n        }\n\n        .ReactVirtualized__Table__row {\n            overflow: visible !important;\n            .item {\n                height: 100%;\n                padding: 10px;\n\n                ul {\n                    position: absolute !important;\n                    bottom: 200px !important;\n                    left: 0 !important;\n                    z-index: 9999 !important;\n                    height: 170px !important;\n                    width: 100% !important;\n                    transform: translate(0px, 0px) !important;\n                    display: block !important;\n\n                    li {\n                        color: #000 !important;\n                        border-bottom: 1px solid #999;\n                    }\n                }\n\n                .textarea {\n                    border: none;\n                    width: 100%;\n                    height: 100%;\n                    color: #fff;\n                    font-size: 12px;\n                    padding: 10px;\n                    text-align: center;\n                    background-color: rgba(255, 255, 255, 0.05);\n                    border: 1px solid rgba(255, 255, 255, 0.1);\n                    transition: all 0.2s ease;\n                    resize: none;\n                    outline: none;\n\n                    word-wrap: break-word;\n\n                    &.highlight {\n                        background-color: rgb(0 87 158);\n                        border: 1px solid rgba(255, 255, 255, 0.3);\n                    }\n\n                    &.illegal {\n                        background-color: rgb(123 29 0);\n                        border: 1px solid rgba(255, 255, 255, 0.3);\n                    }\n                }\n            }\n        }\n    }\n"])));function jn(e){var t=e.currentIndex,n=e.subtitle,r=(e.setSubtitleOriginal,e.checkSub),i=e.player,o=e.updateSub,c=e.language,s=e.setLoading,l=(e.subtitleEnglish,e.formatSub),u=e.setSubtitle,d=e.notify,b=e.isPrimary,g=e.clearedSubs,h=(e.setClearedSubs,e.updateSubOriginal),m=void 0===h?null:h,A=Object(a.useState)(100),j=Object(O.a)(A,2),x=j[0],v=j[1],y=Object(a.useState)(null),S=Object(O.a)(y,2),k=S[0],T=S[1],E=Object(a.useCallback)((function(){v(document.body.clientHeight-240)}),[v]);Object(a.useEffect)((function(){if(E(),!E.init){E.init=!0;var e=Ze()(E,500);window.addEventListener("resize",e)}}),[E]);var w=Object(a.useCallback)((function(){return s(Object(p.t)("TRANSLATING")),g?an(l(JSON.parse(window.localStorage.getItem("subsBeforeClear"))),"en").then((function(e){mn(l(e),k).then((function(e){s(""),u(l(e)),d({message:Object(p.t)("TRANSLAT_SUCCESS"),level:"success"})})).catch((function(e){s(""),d({message:e.message,level:"error"})}))})).catch((function(e){s(""),d({message:e.message,level:"error"})})):an(l(n),"en").then((function(e){mn(l(e),k).then((function(e){s(""),u(l(e)),d({message:Object(p.t)("TRANSLAT_SUCCESS"),level:"success"})})).catch((function(e){s(""),d({message:e.message,level:"error"})}))})).catch((function(e){s(""),d({message:e.message,level:"error"})}))}),[n,s,l,u,k,d,g]);return Object(a.useEffect)((function(){localStorage.getItem("lang")?T(localStorage.getItem("lang")):T("en")}),[]),n&&Object(X.jsxs)(An,{className:"subtitles",children:[b&&Object(X.jsxs)("div",{className:"translate",children:[Object(X.jsx)("div",{className:"heading",children:Object(X.jsx)("h4",{children:" Sign Language Subtitling"})}),Object(X.jsx)("div",{className:"options",children:Object(X.jsx)("div",{className:"btn",onClick:w,children:Object(X.jsx)(p.Translate,{value:"TRANSLATE"})})})]}),!b&&Object(X.jsxs)("div",{className:"reference",children:[Object(X.jsx)("h4",{children:"Reference Subtitles"}),Object(X.jsxs)("span",{children:["Language : ",tn.en.filter((function(e){return e.key===c}))[0].name]})]}),Object(X.jsx)(Xe.a,{headerHeight:40,width:250,height:x,rowHeight:80,scrollToIndex:t+2,rowCount:n.length,rowGetter:function(e){var t=e.index;return n[t]},headerRowRenderer:function(){return null},rowRenderer:function(e){return Object(X.jsx)("div",{className:e.className,style:e.style,onClick:function(){i&&(i.pause(),i.duration>=e.rowData.startTime&&(i.currentTime=e.rowData.startTime+.001))},children:Object(X.jsx)("div",{className:"item",children:Object(X.jsx)(Fe.a,{className:["textarea",t===e.index?"highlight":"",r(e.rowData)?"illegal":""].join(" ").trim(),value:Qe()(e.rowData.text),spellCheck:!1,onChangeText:function(t){o(e.rowData,{text:t})},onBlur:function(){return t=e.rowData,n=e.index,void(b||an([{text:t.text}],localStorage.getItem("lang")).then((function(e){m(t,e[0],n)})));var t,n},enabled:!1,lang:b?"en-k"===localStorage.getItem("lang")?"en":localStorage.getItem("lang"):"en",maxOptions:5,renderComponent:function(e){return Object(X.jsx)("textarea",Object(f.a)(Object(f.a)({},e),{},{style:{height:"70px",fontSize:"18px"}}))}})})},e.key)}})]})}var On,xn,vn=function(e){Object(N.a)(n,e);var t=Object(_.a)(n);function n(e,a,r,i){var o,c,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2e3;return Object(C.a)(this,n),(c=t.call(this,"POST",s,!1)).type=ue,c.transcriptId=e,c.language=a,c.payload=i,c.videoId=r,c.endpoint="".concat(Object(Q.a)((o=Object(R.a)(c),Object(q.a)(n.prototype)),"apiEndPointAuto",o).call(o)).concat(ne,"save/"),c}return Object(I.a)(n,[{key:"processResponse",value:function(e){Object(Q.a)(Object(q.a)(n.prototype),"processResponse",this).call(this,e),e&&(this.transcript=e)}},{key:"apiEndPoint",value:function(){return this.endpoint}},{key:"getBody",value:function(){return{transcript_id:this.transcriptId,language:this.language,payload:this.payload,video_id:this.videoId}}},{key:"getHeaders",value:function(){return this.headers={headers:Object(f.a)({"Content-Type":"application/json"},localStorage.getItem("chitralekha_access_token")&&{Authorization:"Token ".concat(localStorage.getItem("chitralekha_access_token"))})},this.headers}},{key:"getPayload",value:function(){return this.transcript}}]),n}($),yn=function(e){var t=e.show,n=e.handleClose,a=e.setLoginOpen;return Object(X.jsxs)(ke.a,{show:t,onHide:n,centered:!0,children:[Object(X.jsx)(ke.a.Header,{closeButton:!0,children:Object(X.jsx)(ke.a.Title,{children:"NOTE"})}),Object(X.jsx)(ke.a.Body,{children:"You can use the public version (anonymous user), but the changes would not be persisted in the system."}),Object(X.jsxs)(ke.a.Footer,{children:[Object(X.jsx)(we.a,{variant:"secondary",onClick:n,children:"Cancel"}),Object(X.jsx)(we.a,{variant:"primary",onClick:function(){a(),n()},children:"Login"})]})]})},Sn=w.b.div(On||(On=Object(x.a)(["\n    height: 100%;\n    width: 100%;\n\n    .fullscreen-style {\n        position: relative;\n        top: 50%;\n        -webkit-transform: translateY(-50%);\n        -ms-transform: translateY(-50%);\n        transform: translateY(-50%);\n    }\n\n    .main {\n        display: flex;\n        height: calc(100% - 220px);\n\n        .main-center {\n            flex: 1;\n            display: flex;\n            flex-direction: column;\n\n            .header {\n                display: flex;\n                flex-direction: row;\n                justify-content: space-between;\n            }\n\n            .player {\n                flex: 1;\n            }\n        }\n\n        .subtitles {\n            width: 300px;\n        }\n\n        .tool {\n            width: 300px;\n        }\n    }\n\n    .footer {\n        height: 150px;\n    }\n\n    .full-screen-btn {\n        position: absolute;\n        bottom: 25px;\n        right: 25px;\n        z-index: 999;\n    }\n\n    .save {\n        margin: auto;\n        margin-top: 20px;\n        display: block;\n    }\n\n    .btn-parent-div {\n        display: block;\n        background: #000;\n    }\n\n    .alert-box {\n        position: absolute;\n        bottom: 10px;\n        left: 20px;\n    }\n"])));function kn(e){var t=e.defaultLang,n=Object(a.useRef)([]),r=Object(a.useRef)(null),i=Object(a.useState)(null),o=Object(O.a)(i,2),c=o[0],s=o[1],l=Object(a.useState)(""),u=Object(O.a)(l,2),d=u[0],g=u[1],p=Object(a.useState)(0),h=Object(O.a)(p,2),m=h[0],x=h[1],v=Object(a.useState)(t),S=Object(O.a)(v,2),T=S[0],w=S[1],C=Object(a.useState)([]),I=Object(O.a)(C,2),R=I[0],N=I[1],_=Object(a.useState)([]),P=Object(O.a)(_,2),L=P[0],z=P[1],B=Object(a.useState)(null),F=Object(O.a)(B,2),M=F[0],G=F[1],H=Object(a.useState)(!1),V=Object(O.a)(H,2),K=V[0],Y=V[1],J=Object(a.useState)(0),W=Object(O.a)(J,2),Q=W[0],q=W[1],Z=Object(a.useState)(-1),$=Object(O.a)(Z,2),ee=$[0],te=$[1],ne=Object(a.useState)(!1),ae=Object(O.a)(ne,2),re=ae[0],ie=ae[1],oe=Object(a.useState)([]),ce=Object(O.a)(oe,2),se=ce[0],le=ce[1],ue=Object(a.useState)(""),de=Object(O.a)(ue,2),be=de[0],ge=de[1],pe=Object(a.useState)(!1),he=Object(O.a)(pe,2),me=he[0],Ae=he[1],je=Object(a.useState)(!1),Oe=Object(O.a)(je,2),xe=Oe[0],ve=Oe[1],ye=Object(a.useState)(!1),Se=Object(O.a)(ye,2),ke=Se[0],Te=Se[1],Ee=Object(a.useState)(!1),Ce=Object(O.a)(Ee,2),Ie=Ce[0],Re=Ce[1],Ne=Object(a.useState)(100),_e=Object(O.a)(Ne,2),Pe=(_e[0],_e[1]),Le=Object(a.useState)(!1),De=Object(O.a)(Le,2),ze=(De[0],De[1],Object(a.useState)(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ASR_URL:"http://216.48.182.174:5000",REACT_APP_NMT_URL:"http://216.48.181.177:5050",REACT_APP_APIGW_BASE_URL:"https://backend.lite.chitralekha.ai4bharat.org"}).REACT_APP_LITE?"Custom":"AI4Bharat")),Be=Object(O.a)(ze,2),Fe=Be[0],Me=Be[1],Ge=Object(a.useState)("AI4Bharat"),He=Object(O.a)(Ge,2),Ve=He[0],Ke=He[1],Ye=Object(a.useState)(!1),Xe=Object(O.a)(Ye,2),We=Xe[0],Qe=Xe[1],qe=Object(a.useState)(""),$e=Object(O.a)(qe,2),et=$e[0],tt=$e[1],nt=Object(a.useState)(""),at=Object(O.a)(nt,2),rt=at[0],ot=at[1],ct=Object(a.useState)([]),lt=Object(O.a)(ct,2),ut=lt[0],dt=lt[1],bt=Object(a.useState)(),ht=Object(O.a)(bt,2),mt=ht[0],ft=ht[1],jt=Object(a.useState)(!1),Ot=Object(O.a)(jt,2),xt=Ot[0],vt=Ot[1],yt=Object(a.useState)(!0),St=Object(O.a)(yt,2),kt=St[0],Tt=St[1],Et=Object(a.useState)(!1),wt=Object(O.a)(Et,2),Ct=wt[0],It=wt[1],Rt=Object(a.useState)(""),Nt=Object(O.a)(Rt,2),_t=Nt[0],Pt=Nt[1];Object(a.useEffect)((function(){localStorage.getItem("registered")?Tt(!1):localStorage.getItem("registered")||(localStorage.setItem("registered",!0),Tt(!0))}),[]);var Lt=Object(a.useState)(!1),Dt=Object(O.a)(Lt,2),zt=Dt[0],Bt=Dt[1],Ft=Object(a.useState)(!1),Ut=Object(O.a)(Ft,2),Mt=Ut[0],Gt=Ut[1],Ht=Object(a.useCallback)((function(e){return new D(e)}),[]),Vt=Object(a.useCallback)((function(e){return R.indexOf(e)}),[R]),Kt=Object(a.useCallback)((function(e){return L.indexOf(e)}),[L]),Yt=Object(a.useCallback)((function(){Pe(document.body.clientHeight-240)}),[Pe]);Object(a.useEffect)((function(){if(Yt(),!Yt.init){Yt.init=!0;var e=Ze()(Yt,500);window.addEventListener("resize",e)}}),[Yt]);var Jt=Object(a.useCallback)((function(e){return Array.isArray(e)?e.map((function(e){return Ht(e)})):Ht(e)}),[Ht]),Wt=Object(a.useCallback)((function(){return Jt(R)}),[R,Jt]),Qt=Object(a.useCallback)((function(){return Jt(L)}),[L,Jt]),Zt=Object(a.useCallback)((function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];E()(e,R)||(t&&(n.current.length>=1e3&&n.current.shift(),n.current.push(Jt(R))),window.localStorage.setItem("subtitle",JSON.stringify(e)),N(e))}),[R,N,Jt]),en=Object(a.useCallback)((function(){var e=n.current.pop();e&&Zt(e,!1)}),[Zt,n]),tn=Object(a.useCallback)((function(){Zt([]),n.current.length=0}),[Zt,n]),nn=Object(a.useCallback)((function(){z([]),n.current.length=0}),[z,n]),an=Object(a.useCallback)((function(e){var t=Vt(e);if(!(t<0)){var n=R[t-1];return n&&e.startTime<n.endTime||!e.check||e.duration<.2}}),[R,Vt]),rn=Object(a.useCallback)((function(e){var t=r.current;t.clearNotifications(),t.addNotification({position:"tc",dismissible:"none",autoDismiss:2,message:e.message,level:e.level})}),[r]),on=Object(a.useCallback)((function(e){var t=Vt(e),n=Kt(e);if(console.log(L),console.log(t,n),t>=0){var a=Wt();a.splice(t,1),Zt(a)}if((t>=0||n>=0)&&L){console.log("here");var r=Qt();r.splice(t>=0?t:n,1),console.log(r),z(r),localStorage.setItem("subtitleEnglish",JSON.stringify(r))}}),[Vt,Wt,Zt,Qt,L]),cn=Object(a.useCallback)((function(e,t){if("Subtitling"===be){var n=Wt();n.splice(e,0,Jt(t)),Zt(n)}if(L){var a=Qt();a.splice(e,0,Jt(t)),z(a),localStorage.setItem("subtitleEnglish",JSON.stringify(a))}}),[Wt,Zt,Jt,Qt,L]),sn=Object(a.useCallback)((function(e,t){var n=Vt(e);if(!(n<0)){var a=Wt(),r=Jt(e);Object.assign(r,t),r.check&&(a[n]=r,Zt(a))}}),[Vt,Wt,Zt,Jt]),ln=Object(a.useCallback)((function(e,t){var n=Kt(e);if(!(n<0)){var a=Qt(),r=Jt(e);Object.assign(r,t),r.check&&(a[n]=r,z(a))}}),[Kt,Qt,z,Jt]),un=Object(a.useCallback)((function(e,t,n){var a=Wt(),r=Jt(e);Object.assign(r,t),r.check&&(a[n]=r,Zt(a))}),[Wt,Zt,Jt]),dn=Object(a.useCallback)((function(e){var t=Vt(e),n=Kt(e);if(t>=0){var a=Wt(),r=a[t+1];if(r){var i=Ht({start:e.start,end:r.end,text:e.text.trim()+"\n"+r.text.trim()});a[t]=i,a.splice(t+1,1),Zt(a)}}if((t>=0||n>=0)&&L){var o=Qt(),c=o[t>=0?t+1:n+1];if(!c)return;var s=Ht({start:e.start,end:c.end,text:o[t>=0?t:n].text.trim()+"\n"+c.text.trim()});o[t>=0?t:n]=s,o.splice(t>=0?t+1:n+1,1),z(o),localStorage.setItem("subtitleEnglish",JSON.stringify(o))}}),[Vt,Wt,Zt,Ht,Qt,L]),bn=Object(a.useCallback)((function(e,t){var n=Vt(e),a=Kt(e);if(!(n<0&&a<0)&&e.text&&t&&a>=0){var r=Qt(),i=e.text.slice(0,t).trim(),o=e.text.slice(t).trim();if(!i||!o)return;var c=(e.duration*(t/e.text.length)).toFixed(3);if(c<.2||e.duration-c<.2)return;r.splice(a,1);var s=k.a.d2t(e.startTime+parseFloat(c));r.splice(a,0,Ht({start:e.start,end:s,text:i})),r.splice(a+1,0,Ht({start:s,end:e.end,text:o})),z(r),localStorage.setItem("subtitleEnglish",JSON.stringify(r))}}),[Vt,Kt,Wt,Qt,Zt,z,Ht]),gn=Object(a.useCallback)(function(){var e=Object(j.a)(Object(A.a)().mark((function e(t){var n,a,r,i;return Object(A.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t?t.length>0:(null===L||void 0===L?void 0:L.length)>0)){e.next=11;break}return n={output:U(null!==t&&void 0!==t?t:L)},a=new vn(localStorage.getItem("transcript_id"),localStorage.getItem("langTranscribe"),localStorage.getItem("videoId"),n),e.next=5,fetch(a.apiEndPoint(),{method:"POST",body:JSON.stringify(a.getBody()),headers:a.getHeaders().headers});case 5:return r=e.sent,e.next=8,r.json();case 8:i=e.sent,r.ok&&(localStorage.setItem("subtitleEnglish",JSON.stringify(t||L)),localStorage.setItem("transcript_id",i.id)),g("");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[L,g]),hn=Object(a.useCallback)((function(e){switch(b(e)){case 32:e.preventDefault(),c&&(K?c.pause():c.play());break;case 90:e.preventDefault(),e.metaKey&&en();break;case 70:e.preventDefault(),!e.ctrlKey||"Subtitling"!==be&&"Same Language Subtitling"!==be||(e.preventDefault(),null===c||void 0===c||c.pause(),Qe(!0))}}),[c,K,en,be]);Object(a.useEffect)((function(){return window.addEventListener("keydown",hn),function(){return window.removeEventListener("keydown",hn)}}),[hn]),Object(a.useMemo)((function(){var e="Subtitling"===be?R.findIndex((function(e){return e.startTime<=Q&&e.endTime>Q})):L.findIndex((function(e){return e.startTime<=Q&&e.endTime>Q}));te(e)}),[Q,R]),Object(a.useEffect)((function(){var e=window.localStorage.getItem("subtitle"),t=window.localStorage.getItem("subtitleEnglish");if(e)try{var n=JSON.parse(e);n.length&&N(n.map((function(e){return new D(e)})))}catch(_t){}if(t)try{var a=JSON.parse(t);a.length?z(a.map((function(e){return new D(e)}))):z([])}catch(_t){z([])}}),[N,z]),Object(a.useEffect)((function(){var e=localStorage.getItem("subtitle"),t=localStorage.getItem("subtitleEnglish");e&&"[]"!==e?(ge("Subtitling"),Te(!0),Re(!0)):t&&"[]"!==t&&(ge("Same Language Subtitling"),Te(!0))}),[]);var mn={player:c,setPlayer:s,subtitle:R,setSubtitle:Zt,waveform:M,setWaveform:G,currentTime:Q,setCurrentTime:q,currentIndex:ee,setCurrentIndex:te,playing:K,setPlaying:Y,language:T,setLanguage:w,loading:d,setLoading:g,setProcessing:x,subtitleHistory:n,subtitleEnglish:L,setSubtitleEnglish:z,notify:rn,newSub:Ht,hasSub:Vt,checkSub:an,removeSub:on,addSub:cn,undoSubs:en,clearSubs:tn,updateSub:sn,formatSub:Jt,mergeSub:dn,splitSub:bn,clearSubsEnglish:nn,updateSubEnglish:ln,setSubtitleOriginal:N,clearedSubs:re,setClearedSubs:ie,subsBeforeClear:se,setSubsBeforeClear:le,configuration:be,setConfiguration:ge,updateSubTranslate:un,enableConfiguration:me,setEnableConfiguration:Ae,isSetVideo:xe,setIsSetVideo:ve,isSetConfiguration:ke,setIsSetConfiguration:Te,isTranslateClicked:Ie,setIsTranslateClicked:Re,transcriptSource:Fe,setTranscriptSource:Me,showFindAndReplace:We,setShowFindAndReplace:Qe,find:et,setFind:tt,replace:rt,setReplace:ot,found:ut,setFound:dt,handleReplace:function(){if(!(mt<0||mt>=ut.length)){var e=ut[mt],t=("Subtitling"===be?R[e]:L[e]).text.replace(new RegExp(et,"gi"),rt);if("Subtitling"===be){var n=Wt();n[e].text=t,Zt(n)}else if("Same Language Subtitling"===be){var a=Qt();a[e].text=t,z(a)}ft(mt+1),dt(ut.filter((function(t){return t!==e})))}},handleReplaceAll:function(){if(0!==ut.length){if("Subtitling"===be){for(var e=Wt(),t=0;t<ut.length;t++){var n=ut[t];e[n].text=R[n].text.replace(new RegExp(et,"gi"),rt)}Zt(e)}else if("Same Language Subtitling"===be){for(var a=Qt(),r=0;r<ut.length;r++){var i=ut[r];a[i].text=L[i].text.replace(new RegExp(et,"gi"),rt)}z(a)}dt([]),ft()}},handleFind:function(){var e=[];if("Subtitling"===be)for(var t=0;t<R.length;t++){R[t].text.toLowerCase().includes(et.toLowerCase())&&e.push(t)}else if("Same Language Subtitling"===be)for(var n=0;n<L.length;n++){L[n].text.toLowerCase().includes(et.toLowerCase())&&e.push(n)}dt(e),e.length>0&&ft(0)},currentFound:mt,setCurrentFound:ft,transcriptionModalOpen:zt,setTranscriptionModalOpen:Bt,handleTranscriptionClose:function(){return Bt(!1)},handleTranscriptionShow:function(){return Bt(!0)},translationModalOpen:Mt,setTranslationModalOpen:Gt,handleTranslationClose:function(){Gt(!1),Re(!0)},handleTranslationShow:function(){return Gt(!0)},fullscreen:xt,saveTranscript:gn,translationSource:Ve,setTranslationSource:Ke,showLogin:Ct,setShowLogin:It,error:_t,setError:Pt},fn=Object(fe.c)((function(e){return e.apiStatus}));return Object(a.useEffect)((function(){fn.error&&fn.message&&(console.log(fn.error,fn.message,"test"),Pt(fn.message),g(""))}),[fn.error,fn.message]),Object(X.jsxs)(Sn,{children:[Object(X.jsx)(it.a,{className:"alert-box",show:_t,variant:"danger",onClose:function(){return Pt("")},dismissible:!0,children:_t}),Object(X.jsx)(Je,Object(f.a)(Object(f.a)({},mn),{},{style:{marginBottom:"20px"}})),Object(X.jsxs)("div",{className:"".concat(xt?"fullscreen-style":""," main"),children:[Object(X.jsxs)("div",{className:"main-center",children:[Object(X.jsx)("div",{className:"header"}),Object(X.jsx)(At,Object(f.a)({},mn))]}),""===be&&Object(X.jsx)(X.Fragment,{}),("Subtitling"===be||Mt)&&Object(X.jsx)("div",{style:Mt?{}:JSON.parse(localStorage.getItem("isAudioOnly"))?{width:"60%",overflow:"hidden",background:"#000"}:{overflow:"hidden",background:"#000"},children:Object(X.jsxs)("div",{style:{display:"flex",position:"relative",height:"90%",zIndex:"200"},children:[Object(X.jsx)(st,{currentIndex:mn.currentIndex,subtitle:mn.subtitleEnglish,checkSub:mn.checkSub,player:mn.player,updateSub:mn.updateSubEnglish,language:mn.language,setLanguage:mn.setLanguage,setLoading:mn.setLoading,subtitleEnglish:mn.subtitleEnglish,formatSub:mn.formatSub,setSubtitle:mn.setSubtitle,notify:mn.notify,isPrimary:!1,configuration:mn.configuration,setConfiguration:mn.setConfiguration,updateSubOriginal:mn.updateSubTranslate,found:mn.found,currentFound:mn.currentFound,handleTranslationClose:mn.handleTranslationClose,handleTranslationShow:mn.handleTranslationShow,translationModalOpen:mn.translationModalOpen,translationSource:mn.translationSource,setTranslationSource:mn.setTranslationSource,error:mn.error,setError:mn.setError}),console.log(mn.subtitle),Object(X.jsx)(st,{currentIndex:mn.currentIndex,subtitle:mn.subtitle,checkSub:mn.checkSub,player:mn.player,updateSub:mn.updateSub,language:mn.language,setLanguage:mn.setLanguage,setLoading:mn.setLoading,subtitleEnglish:mn.subtitleEnglish,formatSub:mn.formatSub,setSubtitle:mn.setSubtitle,notify:mn.notify,isPrimary:!0,clearedSubs:mn.clearedSubs,setClearedSubs:mn.setClearedSubs,setSubtitleOriginal:mn.setSubtitleOriginal,configuration:mn.configuration,setConfiguration:mn.setConfiguration,found:mn.found,currentFound:mn.currentFound,translationSource:mn.translationSource,setTranslationSource:mn.setTranslationSource,error:mn.error,setError:mn.setError})]})}),"Sign Language Subtitling"===be&&Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(jn,{currentIndex:mn.currentIndex,subtitle:mn.subtitleEnglish,checkSub:mn.checkSub,player:mn.player,updateSub:mn.updateSubEnglish,language:mn.language,setLanguage:mn.setLanguage,setLoading:mn.setLoading,subtitleEnglish:mn.subtitleEnglish,formatSub:mn.formatSub,setSubtitle:mn.setSubtitle,notify:mn.notify,isPrimary:!1,configuration:mn.configuration,setConfiguration:mn.setConfiguration,updateSubOriginal:mn.updateSubTranslate}),Object(X.jsx)(jn,{currentIndex:mn.currentIndex,subtitle:mn.subtitle,checkSub:mn.checkSub,player:mn.player,updateSub:mn.updateSub,language:mn.language,setLanguage:mn.setLanguage,setLoading:mn.setLoading,subtitleEnglish:mn.subtitleEnglish,formatSub:mn.formatSub,setSubtitle:mn.setSubtitle,notify:mn.notify,isPrimary:!0,clearedSubs:mn.clearedSubs,setClearedSubs:mn.setClearedSubs,setSubtitleOriginal:mn.setSubtitleOriginal,configuration:mn.configuration,setConfiguration:mn.setConfiguration})]}),("Same Language Subtitling"===be||zt)&&Object(X.jsx)(X.Fragment,{children:Object(X.jsx)(pn,{currentIndex:mn.currentIndex,subtitle:mn.subtitleEnglish,checkSub:mn.checkSub,player:mn.player,updateSub:mn.updateSubEnglish,language:mn.language,setLanguage:mn.setLanguage,setLoading:mn.setLoading,subtitleEnglish:mn.subtitleEnglish,formatSub:mn.formatSub,setSubtitle:mn.setSubtitle,notify:mn.notify,isPrimary:!0,clearedSubs:mn.clearedSubs,setClearedSubs:mn.setClearedSubs,setSubtitleOriginal:mn.setSubtitleOriginal,configuration:mn.configuration,setConfiguration:mn.setConfiguration,clearSubs:mn.clearSubs,setSubtitleEnglish:mn.setSubtitleEnglish,updateSubOriginal:mn.updateSubTranslate,transcriptSource:mn.transcriptSource,setTranscriptSource:mn.setTranscriptSource,found:mn.found,currentFound:mn.currentFound,transcriptionModalOpen:mn.transcriptionModalOpen,handleTranscriptionClose:mn.handleTranscriptionClose,saveTranscript:mn.saveTranscript,error:mn.error,setError:mn.setError})}),Object(X.jsx)(Ue,{find:mn.find,replace:mn.replace,found:mn.found,setFind:mn.setFind,setReplace:mn.setReplace,setFound:mn.setFound,showFindAndReplace:mn.showFindAndReplace,setShowFindAndReplace:mn.setShowFindAndReplace,handleReplace:mn.handleReplace,handleReplaceAll:mn.handleReplaceAll,handleFind:mn.handleFind,currentFound:mn.currentFound,setCurrentFound:mn.setCurrentFound,configuration:mn.configuration})]}),xe&&Object(X.jsx)(Xt,Object(f.a)({},mn)),d?Object(X.jsx)(qt,{loading:d}):null,m>0&&m<100?Object(X.jsx)($t,{processing:m}):null,Object(X.jsx)(y.a,{ref:r,allowHTML:!0}),Object(X.jsx)(pt.a,{placement:"left",delay:{show:250,hide:400},overlay:function(e){return Object(X.jsx)(gt.a,Object(f.a)(Object(f.a)({id:"button-tooltip"},e),{},{children:xt?"Exit":"Fullscreen Video with Panels"}))},children:Object(X.jsx)(we.a,{className:"full-screen-btn",onClick:function(){return function(){var e=window.document,t=e.documentElement,n=t.requestFullscreen||t.mozRequestFullScreen||t.webkitRequestFullScreen||t.msRequestFullscreen,a=e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen;e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||e.msFullscreenElement?(vt(!1),a.call(e)):(n.call(t),vt(!0))}()},children:xt?Object(X.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-fullscreen-exit",viewBox:"0 0 16 16",children:Object(X.jsx)("path",{d:"M5.5 0a.5.5 0 0 1 .5.5v4A1.5 1.5 0 0 1 4.5 6h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5zm5 0a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 10 4.5v-4a.5.5 0 0 1 .5-.5zM0 10.5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 6 11.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zm10 1a1.5 1.5 0 0 1 1.5-1.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4z"})}):Object(X.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-fullscreen",viewBox:"0 0 16 16",children:Object(X.jsx)("path",{d:"M1.5 1a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4A1.5 1.5 0 0 1 1.5 0h4a.5.5 0 0 1 0 1h-4zM10 .5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 16 1.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zM.5 10a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 0 14.5v-4a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v4a1.5 1.5 0 0 1-1.5 1.5h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5z"})})})}),Object(X.jsx)(yn,{show:kt,handleClose:function(){return Tt(!1)},setLoginOpen:function(){return It(!0)}})]})}var Tn,En=w.b.div(xn||(xn=Object(x.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n    width: 100%;\n"])));function wn(){return Object(X.jsx)(En,{children:Object(X.jsx)(p.Translate,{value:"MOBILE_TIP"})})}var Cn=Object(w.a)(Tn||(Tn=Object(x.a)(["\n    html,\n    body,\n    #root {\n        height: 100%;\n    }\n\n    body {\n        font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;\n        line-height: 1.5;\n        overflow: hidden;\n    }\n\n    *, *::before, *::after {\n        box-sizing: border-box;\n    }\n\n    #root {\n        display: flex;\n        font-size: 14px;\n        color: #ccc;\n        background-color: rgb(0 0 0 / 90%);\n    }\n\n    .react-contextmenu.react-contextmenu--visible { \n        z-index: 9999;\n        transform: none !important;\n    }\n\n    ::-webkit-scrollbar {\n        width: 5px;\n    }\n\n    ::-webkit-scrollbar-thumb {\n        background-color: #999;\n    }\n\n    ::-webkit-scrollbar-thumb:hover {\n        background-color: #ccc;\n    }\n"]))),In=n(123),Rn=n(440),Nn=(n(907),n(908),n(441)),_n=n(439),Pn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return t.type===re?t.payload:e},Ln={data:{}},Dn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ln,t=arguments.length>1?arguments[1]:void 0;return t.type===ie?(localStorage.setItem("videoName",t.payload.video.name),Object(f.a)(Object(f.a)({},e),{},{data:t.payload})):Object(f.a)({},e)},zn={data:{}},Bn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zn,t=arguments.length>1?arguments[1]:void 0;return t.type===oe?Object(f.a)(Object(f.a)({},e),{},{data:t.payload}):Object(f.a)({},e)},Fn={data:{}},Un=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fn,t=arguments.length>1?arguments[1]:void 0;return t.type===ce?Object(f.a)(Object(f.a)({},e),{},{data:t.payload}):Object(f.a)({},e)},Mn={data:{}},Gn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mn,t=arguments.length>1?arguments[1]:void 0;return t.type===se?Object(f.a)(Object(f.a)({},e),{},{data:t.payload}):Object(f.a)({},e)},Hn={data:{}},Vn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hn,t=arguments.length>1?arguments[1]:void 0;return t.type===ue?Object(f.a)(Object(f.a)({},e),{},{data:t.payload}):Object(f.a)({},e)},Kn={data:{}},Yn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kn,t=arguments.length>1?arguments[1]:void 0;return t.type===de?Object(f.a)(Object(f.a)({},e),{},{data:t.payload}):Object(f.a)({},e)},Jn={data:{}},Xn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn,t=arguments.length>1?arguments[1]:void 0;return t.type===be?Object(f.a)(Object(f.a)({},e),{},{data:t.payload}):Object(f.a)({},e)},Wn={data:{}},Qn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wn,t=arguments.length>1?arguments[1]:void 0;return t.type===ge?Object(f.a)(Object(f.a)({},e),{},{data:t.payload}):Object(f.a)({},e)},qn={data:{}},Zn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn,t=arguments.length>1?arguments[1]:void 0;return t.type===pe?Object(f.a)(Object(f.a)({},e),{},{data:t.payload}):Object(f.a)({},e)},$n={data:[]},ea=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n,t=arguments.length>1?arguments[1]:void 0;return t.type===he?Object(f.a)(Object(f.a)({},e),{},{data:t.payload}):Object(f.a)({},e)},ta={apiStatus:Pn,getVideoDetails:Dn,fetchTranscript:Bn,getTranscriptLanguages:Un,generateTranscript:Gn,saveTranscript:Vn,generateTranslation:Yn,getTranslationLanguages:Xn,saveTranslation:Qn,fetchTranslation:Zn,getRecentLinks:ea},na=[],aa={key:"root",storage:n.n(_n).a},ra=Object(Nn.a)(aa,ta);na.push(Rn.a);var ia=Object(In.createStore)((function(e,t){return"LOGOUT"===t.type&&(e=void 0),ra(e,t)}),{},Object(In.compose)(In.applyMiddleware.apply(void 0,na)));Object(p.setTranslations)(m);var oa=navigator.language.toLowerCase(),ca=m[oa]?oa:"en";Object(p.setLocale)(ca),o.a.render(Object(X.jsx)(r.a.Fragment,{children:Object(X.jsxs)(fe.a,{store:ia,children:[Object(X.jsx)(Cn,{}),s?Object(X.jsx)(wn,{}):Object(X.jsx)(kn,{defaultLang:ca})]})}),document.getElementById("root"))}},[[911,1,2]]]);
//# sourceMappingURL=main.1d800012.chunk.js.map